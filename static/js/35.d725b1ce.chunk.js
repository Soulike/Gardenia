(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[35],{1219:function(e,t,a){"use strict";a.r(t);a(91);var n=a(13),r=a(4),s=a.n(r),i=a(35),c=a(47),o=a(88),l=a(87),u=a(89),m=a(0),p=a.n(m),d=(a(881),a(879)),f=(a(884),a(883)),b=(a(928),a(929)),v=(a(412),a(132)),h=(a(275),a(21)),A=a(874),x=(a(886),a(118)),g=a(993),y=a.n(g),_=a(38),w=a(90);var E=p.a.memo((function(e){var t=e.profiles,a=e.loading,n=e.onRemoveAccountConfirm,r=e.isAdmin;return p.a.createElement("div",{className:y.a.Members},p.a.createElement(d.a,{loading:a,locale:{emptyText:p.a.createElement(x.a,{description:"\u6ca1\u6709\u6210\u5458"})},dataSource:Object(A.a)(t),renderItem:function(e){if(null!==e){var t=e.nickname,a=e.username;return p.a.createElement(f.a,{size:"small"},p.a.createElement("div",{className:y.a.cardContent},p.a.createElement("div",{className:y.a.titleWrapper},p.a.createElement(h.a,{type:"user"}),p.a.createElement(_.b,{to:w.b.generatePersonalCenterRoute({username:a}),target:"_blank",className:y.a.title},t,"(",a,")")),r?p.a.createElement("div",{className:y.a.buttonWrapper},p.a.createElement(b.a,{title:"\u786e\u8ba4\u79fb\u9664\u6210\u5458 ".concat(t,"\uff1f"),onConfirm:n(a)},p.a.createElement(v.a,{type:"danger"},"\u79fb\u9664"))):null))}return null}}))})),k=a(101),C=a(206),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).loadMemberProfiles=function(){var e,t,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props.match.params.id,r.next=3,s.a.awrap(C.b.accounts({id:Number.parseInt(e)}));case 3:if(null===(t=r.sent)){r.next=9;break}return r.next=7,s.a.awrap(Promise.all(t.map((function(e){var t=e.username;return C.c.get({username:t})}))));case 7:n=r.sent,a.setState({profiles:n});case 9:case"end":return r.stop()}}))},a.loadIsAdmin=function(){var e,t,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props.match.params.id,r.next=3,s.a.awrap(C.b.isAdmin({id:Number.parseInt(e)}));case 3:null!==(t=r.sent)&&(n=t.isAdmin,a.setState({isAdmin:n}));case 5:case"end":return r.stop()}}))},a.onRemoveAccountConfirm=function(e){var t=a.props.match.params.id;return function(){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(C.b.removeAccounts({id:Number.parseInt(t)},[e]));case 2:if(null===r.sent){r.next=7;break}return n.a.success({message:"\u79fb\u9664\u6210\u5458\u6210\u529f"}),r.next=7,s.a.awrap(a.loadMemberProfiles());case 7:case"end":return r.stop()}}))}},a.state={profiles:[],loading:!0,isAdmin:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,s.a.awrap(Promise.all([this.loadMemberProfiles(),this.loadIsAdmin()]));case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.profiles,a=e.loading,n=e.isAdmin;return p.a.createElement(E,{profiles:t,loading:a,isAdmin:n,onRemoveAccountConfirm:this.onRemoveAccountConfirm})}}]),t}(m.PureComponent),S=Object(k.f)(M);a.d(t,"default",(function(){return S}))},993:function(e,t,a){e.exports={Members:"Style_Members__1A1TA",cardContent:"Style_cardContent__3XM0M",titleWrapper:"Style_titleWrapper__30lrm",title:"Style_title__BuxVP"}}}]);
//# sourceMappingURL=35.d725b1ce.chunk.js.map