"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[1954],{91642:function(y,d,t){t.d(d,{Z:function(){return C}});var e=t(89526),m=t(82694);function v(){return e.createElement(m.Z,{avatar:""})}var C=e.memo(v)},59807:function(y,d,t){t.d(d,{Z:function(){return C}});var e=t(89526),m={InputTip:"Style_InputTip__X0YvR"};function v(E){const{children:f}=E;return e.createElement("div",{className:m.InputTip},f)}var C=e.memo(v)},95715:function(y,d,t){t.d(d,{Z:function(){return C}});var e=t(89526),m={SettingsTitle:"Style_SettingsTitle__2JkD4"};function v(E){const{children:f}=E;return e.createElement("h2",{className:m.SettingsTitle},f)}var C=e.memo(v)},61954:function(y,d,t){t.r(d),t.d(d,{default:function(){return le}});var e=t(89526),m={Collaborators:"Style_Collaborators__aOXTY",title:"Style_title__DaczM",alertWrapper:"Style_alertWrapper__uLxG3"},v=t(95715),C=t(46044),E=t(5892),f=t(98001),B=t(30592),b={AddCollaborationButton:"Style_AddCollaborationButton__YYvAl",loadingSpin:"Style_loadingSpin__-VKuE"},N=t(55565),A=t.n(N),D=t(59807),P=t(60177),T=t(58047);function I(s){const{code:n,loading:a,onClick:o,onCopy:r}=s;return e.createElement(C.Z,{trigger:"click",title:"\u9080\u8BF7\u7801",placement:"bottomRight",content:e.createElement("div",{className:b.AddCollaborationButton},a?e.createElement("div",{className:b.loadingSpin},e.createElement(E.Z,null)):e.createElement("div",null,e.createElement(f.Z,{value:n,addonAfter:e.createElement(A(),{text:n,onCopy:r},e.createElement(P.Z,null))}),e.createElement(D.Z,null,"\u9080\u8BF7\u7801\u6709\u6548\u671F\u4E00\u5468\uFF0C\u4E14\u53EA\u53EF\u4F7F\u7528\u4E00\u6B21\u3002")))},e.createElement(B.Z,{type:"primary",onClick:o},e.createElement(T.Z,null),"\u6DFB\u52A0"))}var L=e.memo(I),S=t(62371),F=t(65092),g=t(24315),R=(s,n,a)=>new Promise((o,r)=>{var u=l=>{try{i(a.next(l))}catch(c){r(c)}},h=l=>{try{i(a.throw(l))}catch(c){r(c)}},i=l=>l.done?o(l.value):Promise.resolve(l.value).then(u,h);i((a=a.apply(s,n)).next())});class V extends e.PureComponent{constructor(n){super(n),this.onClick=()=>R(this,null,function*(){const{match:{params:{username:a,repositoryName:o}}}=this.props;this.setState({loading:!0});const r=yield S.bQ.generateCode({username:a,name:o});if(r!==null){const{code:u}=r;this.setState({code:u,loading:!1})}}),this.onCopy=(a,o)=>{o?g.Z.success({message:"\u9080\u8BF7\u7801\u5DF2\u6210\u529F\u590D\u5236"}):g.Z.warning({message:"\u9080\u8BF7\u7801\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u624B\u52A8\u590D\u5236"})},this.state={code:"",loading:!1}}render(){const{code:n,loading:a}=this.state;return e.createElement(L,{code:n,loading:a,onClick:this.onClick,onCopy:this.onCopy})}}var x=(0,F.EN)(V),W={},Y=t(39207),O=t(37109),p={CollaboratorCard:"Style_CollaboratorCard__okB8-",cardContent:"Style_cardContent__Mz-m0",basicInfo:"Style_basicInfo__3Yik+",avatarWrapper:"Style_avatarWrapper__qyHdY",username:"Style_username__Oq-ll",nickname:"Style_nickname__-K4K7"},z=t(34405),K=t(64291),M=t(23377),Q=t(91642),X=t(18440),G=t(57428);function H(s){const{profile:{username:n,nickname:a,avatar:o},onRemoveButtonClick:r,loading:u}=s;return e.createElement("div",{className:p.CollaboratorCard},e.createElement(z.Z,{bordered:!1},e.createElement("div",{className:p.cardContent},e.createElement(G.Z,{to:X.Function.generatePersonalCenterRoute({username:n}),className:p.basicInfo},e.createElement("div",{className:p.avatarWrapper},o?e.createElement(K.C,{src:o,shape:"square",size:48}):e.createElement(Q.Z,null)),e.createElement("div",{className:p.nickname},a),e.createElement("div",{className:p.username},n)),e.createElement(M.Z,{disabled:u,title:e.createElement(e.Fragment,null,"\u786E\u8BA4\u53D6\u6D88 ",e.createElement("b",null,n)," \u7684\u5408\u4F5C\u8005\u8EAB\u4EFD\uFF1F"),onConfirm:r},e.createElement(B.Z,{type:"primary",danger:!0,disabled:u,loading:u},"\u79FB\u9664")))))}var J=e.memo(H),U=(s,n,a)=>new Promise((o,r)=>{var u=l=>{try{i(a.next(l))}catch(c){r(c)}},h=l=>{try{i(a.throw(l))}catch(c){r(c)}},i=l=>l.done?o(l.value):Promise.resolve(l.value).then(u,h);i((a=a.apply(s,n)).next())});class j extends e.PureComponent{constructor(n){super(n),this.onRemoveButtonClick=()=>U(this,null,function*(){const{profile:{username:a},match:{params:{username:o,repositoryName:r}}}=this.props;this.setState({loading:!0}),(yield S.bQ.remove({username:o,name:r},{username:a}))!==null&&(g.Z.success({message:"\u79FB\u9664\u5408\u4F5C\u8005\u6210\u529F"}),setTimeout(()=>{window.location.reload()},1e3)),this.setState({loading:!1})}),this.state={loading:!1}}render(){const{loading:n}=this.state,{profile:a}=this.props;return e.createElement(J,{profile:a,loading:n,onRemoveButtonClick:this.onRemoveButtonClick})}}var $=(0,F.EN)(j);function k(s){const{profiles:n,loading:a}=s;return e.createElement("div",{className:W.ProfileList},e.createElement(Y.ZP,{locale:{emptyText:e.createElement(O.Z,{description:"\u6CA1\u6709\u7528\u6237"})},loading:a,dataSource:n,renderItem:o=>e.createElement($,{profile:o})}))}var w=e.memo(k),Z=(s,n,a)=>new Promise((o,r)=>{var u=l=>{try{i(a.next(l))}catch(c){r(c)}},h=l=>{try{i(a.throw(l))}catch(c){r(c)}},i=l=>l.done?o(l.value):Promise.resolve(l.value).then(u,h);i((a=a.apply(s,n)).next())});class q extends e.PureComponent{constructor(n){super(n),this.loadCollaborators=()=>Z(this,null,function*(){const{match:{params:{username:a,repositoryName:o}}}=this.props,r=yield S.bQ.getCollaborators({username:a,name:o});if(r!==null){const{collaborators:u}=r;this.setState({profiles:u})}}),this.state={profiles:[],loading:!1}}componentDidMount(){return Z(this,null,function*(){this.setState({loading:!0}),yield this.loadCollaborators(),this.setState({loading:!1})})}render(){const{profiles:n,loading:a}=this.state;return e.createElement(w,{profiles:n,loading:a})}}var _=(0,F.EN)(q),ee=t(53546);function te(){return e.createElement("div",{className:m.Collaborators},e.createElement(v.Z,null,e.createElement("div",{className:m.title},"\u5408\u4F5C\u8005",e.createElement(x,null))),e.createElement("div",{className:m.alertWrapper},e.createElement(ee.Z,{type:"info",message:"\u4ED3\u5E93\u5408\u4F5C\u8005\u53EF\u53D6\u5F97\u548C\u521B\u5EFA\u8005\u76F8\u540C\u7684\u4ED3\u5E93\u8BBF\u95EE\u6743\u9650\u3002",showIcon:!0})),e.createElement(_,null))}var ae=e.memo(te);class ne extends e.PureComponent{render(){return e.createElement(ae,null)}}var le=ne}}]);

//# sourceMappingURL=1954.f3ca8d20.chunk.js.map