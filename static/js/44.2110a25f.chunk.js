(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[44],{1030:function(e,t,n){"use strict";var r=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},s=n(13),i=function(e,t){return r.createElement(s.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName="HomeOutlined";t.a=r.forwardRef(i)},1102:function(e,t,n){e.exports={Settings:"Style_Settings__1_D_n",menuWrapper:"Style_menuWrapper__3Nc6L",contentWrapper:"Style_contentWrapper__15Ahb"}},1408:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n(217),a=n(2),s=n.n(a),i=n(6),c=n(15),u=n(16),o=n(40),p=n(39),m=n(0),l=n.n(m),h=n(1102),d=n.n(h),b=n(911),f=n(920),v=n(23),x=n(1);function O(e){var t=e.children,n=e.menuItems,r=e.activeItemKey,a=e.loading;return Object(x.jsx)(b.a,{spinning:a,children:Object(x.jsxs)("div",{className:d.a.Settings,children:[Object(x.jsx)("div",{className:d.a.menuWrapper,children:Object(x.jsx)(f.a,{className:d.a.menu,selectedKeys:[r],mode:"inline",children:n.map((function(e){var t=e.key,n=e.to,r=e.title,a=e.icon;return Object(x.jsx)(f.a.Item,{className:d.a.item,children:Object(x.jsxs)(v.b,{to:n,children:[a,r]})},t)}))})}),Object(x.jsx)("div",{className:d.a.contentWrapper,children:t})]})})}var j=l.a.memo(O),I=n(57),k=n(936),S=n(1030),y=n(104),g=n(34),P=n(3),w=function(e){Object(o.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).setStatePromise=Object(y.promisify)(a.setState),a.initMenuItems=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,a.setStatePromise({menuItems:[{icon:Object(x.jsx)(k.a,{}),title:"\u8bbe\u7f6e",key:P.b.GROUP.SETTINGS.OPTIONS,to:I.Function.generateGroupSettingsRoute({id:t})},{icon:Object(x.jsx)(S.a,{}),title:"\u4ed3\u5e93\u7ba1\u7406",key:P.b.GROUP.SETTINGS.REPOSITORIES,to:I.Function.generateGroupSettingsRepositoriesRoute({id:t})}]});case 3:case"end":return e.stop()}}),e)}))),a.isAdmin=Object(i.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,g.d.isAdmin({id:Number.parseInt(t)});case 3:if(null===(n=e.sent)){e.next=9;break}return r=n.isAdmin,e.abrupt("return",r);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),a.setActiveMenuItemKey=Object(i.a)(s.a.mark((function e(){var t,n,i,c,u,o,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.location.pathname,n=a.state.menuItems,i=Object(r.a)(n),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=13;break}if(u=c.value,o=u.to,p=u.key,o!==t){e.next=11;break}return e.next=10,a.setStatePromise({activeItemKey:p});case 10:return e.abrupt("break",13);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))),a.state={menuItems:[],activeItemKey:P.b.REPOSITORY.SETTINGS.OPTIONS,loading:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.isAdmin();case 4:return t=e.sent,e.next=7,this.setStatePromise({loading:!1});case 7:if(!t){e.next=12;break}return e.next=10,Promise.all([this.initMenuItems(),this.setActiveMenuItemKey()]);case 10:e.next=14;break;case 12:return n=this.props.history,e.abrupt("return",n.replace(P.d[P.b.GROUP.REPOSITORIES]));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(s.a.mark((function e(t,n,r){var a,i,c,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.match,i=a.path,c=a.params.id,u=this.props.match,o=u.path,u.params.id===c){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=10;break;case 7:if(i===o){e.next=10;break}return e.next=10,this.setActiveMenuItemKey();case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.activeItemKey,r=t.menuItems,a=t.loading;return Object(x.jsx)(j,{loading:a,menuItems:r,activeItemKey:n,children:e})}}]),n}(m.PureComponent)}}]);
//# sourceMappingURL=44.2110a25f.chunk.js.map