(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[30],{1037:function(e,t,a){e.exports={Group:"Style_Group__1yqtA",header:"Style_header__3PdhM",tabContent:"Style_tabContent__3lu-l",basicInfo:"Style_basicInfo__3YRAH",groupId:"Style_groupId__2S_Jd",groupName:"Style_groupName__2tTEA"}},1254:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),s=a(10),i=a(50),c=a(72),o=a(270),u=a(269),l=a(271),p=a(0),m=a.n(p),E=(a(950),a(951)),d=(a(407),a(38)),b=a(1037),h=a.n(b),S=a(3);var G=m.a.memo((function(e){var t=e.children,a=e.onTabChange,n=e.tabActiveKey,r=e.group,s=r.id,i=r.name,c=e.loading,o=e.isAdmin;return c?null:m.a.createElement("div",{className:h.a.Group},m.a.createElement("div",{className:h.a.header},m.a.createElement("div",{className:h.a.basicInfo},m.a.createElement("div",{className:h.a.groupId},m.a.createElement(d.a,{type:"team"}),s),m.a.createElement("div",{className:h.a.groupName},i))),m.a.createElement(E.a,{type:"card",className:h.a.tab,tabBarStyle:{padding:"0 calc(50% - 500px)",margin:"0"},onChange:a,activeKey:n},m.a.createElement(E.a.TabPane,{tab:m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{type:"home"}),"\u4ed3\u5e93"),key:S.PAGE_ID.GROUP.REPOSITORIES},m.a.createElement("div",{className:h.a.tabContent},t)),m.a.createElement(E.a.TabPane,{tab:m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{type:"smile"}),"\u6210\u5458"),key:S.PAGE_ID.GROUP.MEMBERS},m.a.createElement("div",{className:h.a.tabContent},t)),o?m.a.createElement(E.a.TabPane,{tab:m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{type:"setting"}),"\u8bbe\u7f6e"),key:S.PAGE_ID.GROUP.SETTINGS.SETTINGS},m.a.createElement("div",{className:h.a.tabContent},t)):null))})),I=a(116),_=a(272),P=a(164),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).loadGroup=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,P.b.info({id:Number.parseInt(t)});case 3:null!==(n=e.sent)&&a.setState({group:n});case 5:case"end":return e.stop()}}),e)}))),a.loadIsAdmin=Object(s.a)(r.a.mark((function e(){var t,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,P.b.isAdmin({id:Number.parseInt(t)});case 3:null!==(n=e.sent)&&(s=n.isAdmin,a.setState({isAdmin:s}));case 5:case"end":return e.stop()}}),e)}))),a.setTabActiveKey=function(){switch(a.props.match.path){case S.PAGE_ID_TO_ROUTE[S.PAGE_ID.GROUP.REPOSITORIES]:a.setState({tabActiveKey:S.PAGE_ID.GROUP.REPOSITORIES});break;case S.PAGE_ID_TO_ROUTE[S.PAGE_ID.GROUP.MEMBERS]:a.setState({tabActiveKey:S.PAGE_ID.GROUP.MEMBERS});break;case S.PAGE_ID_TO_ROUTE[S.PAGE_ID.GROUP.SETTINGS.SETTINGS]:a.setState({tabActiveKey:S.PAGE_ID.GROUP.SETTINGS.SETTINGS})}},a.onTabChange=function(e){var t=a.props,n=t.match.params.id,r=t.history;switch(e){case S.PAGE_ID.GROUP.REPOSITORIES:r.push(I.b.generateGroupRepositoriesRoute({id:n}));break;case S.PAGE_ID.GROUP.MEMBERS:r.push(I.b.generateGroupMembersRoute({id:n}));break;case S.PAGE_ID.GROUP.SETTINGS.SETTINGS:r.push(I.b.generateGroupSettingsRoute({id:n}))}a.setState({tabActiveKey:e})},a.state={tabActiveKey:S.PAGE_ID.GROUP.REPOSITORIES,group:new _.c(0,""),loading:!0,isAdmin:!1},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setTabActiveKey(),this.setState({loading:!0}),e.next=4,Promise.all([this.loadGroup(),this.loadIsAdmin()]);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.path!==e.match.path&&this.setTabActiveKey()}},{key:"render",value:function(){var e=this.state,t=e.tabActiveKey,a=e.group,n=e.loading,r=e.isAdmin,s=this.props.children;return m.a.createElement(G,{onTabChange:this.onTabChange,tabActiveKey:t,group:a,loading:n,isAdmin:r},s)}}]),t}(p.PureComponent);a.d(t,"default",(function(){return A}))}}]);
//# sourceMappingURL=30.de3178cc.chunk.js.map