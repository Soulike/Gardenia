(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[22],{1025:function(p,u,t){"use strict";var c=t(994);t.d(u,"a",function(){return c.a})},1051:function(p,u,t){"use strict";var c=t(3),d=t(0),e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},O=e,h=t(9),g=function(D,I){return d.createElement(h.a,Object(c.a)(Object(c.a)({},D),{},{ref:I,icon:O}))};g.displayName="HomeOutlined";var y=u.a=d.forwardRef(g)},1113:function(p,u,t){},1114:function(p,u,t){p.exports={RepositoryItem:"Style_RepositoryItem__3S19U",infoWrapper:"Style_infoWrapper__21Bg0",icon:"Style_icon__2v4YP",tag:"Style_tag__1PcJi"}},1398:function(p,u,t){"use strict";t.r(u),t.d(u,"default",function(){return Q});var c={};t.r(c),t.d(c,"repositoryChange",function(){return F});var d=t(0),e=t.n(d),O=t(1113),h=t.n(O),g=t(996),y=t(1429),P=t(181),D=t(959),I=t(103),A=t(1114),C=t.n(A),N=t(1051),n=t(279),s=t(49),i=t(1025);function m(f){const{repository:{username:o,name:a,isPublic:r},onRemoveButtonClick:v,loading:E}=f;return e.a.createElement(y.b.Item,null,e.a.createElement("div",{className:C.a.RepositoryItem},e.a.createElement("div",{className:C.a.infoWrapper},e.a.createElement("div",{className:C.a.icon},e.a.createElement(N.a,null)),e.a.createElement("div",{className:C.a.tag},e.a.createElement(i.a,{isPublic:r})),e.a.createElement("div",{className:C.a.repositoryName},e.a.createElement(n.a,{to:s.Function.generatePersonalCenterRoute({username:o})},o),"/",e.a.createElement(n.a,{to:s.Function.generateRepositoryCodeRoute({username:o,repositoryName:a})},e.a.createElement("span",{style:{fontWeight:"bold"}},a)))),e.a.createElement("div",{className:C.a.buttonWrapper},e.a.createElement(D.a,{title:`\u786E\u8BA4\u4ECE\u5C0F\u7EC4\u4E2D\u5220\u9664\u4ED3\u5E93 ${o}/${a} \uFF1F`,onConfirm:v,disabled:E},e.a.createElement(I.a,{type:"primary",danger:!0,disabled:E,loading:E},"\u4ECE\u5C0F\u7EC4\u4E2D\u5220\u9664")))))}var j=e.a.memo(m),V=t(47),H=t(98),L=t(27),W=t(349),x=t(135),M=new x.EventEmitter;const F="repositoryChange";var U=(f,o,a)=>new Promise((r,v)=>{var E=l=>{try{R(a.next(l))}catch(S){v(S)}},B=l=>{try{R(a.throw(l))}catch(S){v(S)}},R=l=>l.done?r(l.value):Promise.resolve(l.value).then(E,B);R((a=a.apply(f,o)).next())});class $ extends d.PureComponent{constructor(o){super(o);this.setStatePromise=Object(H.promisify)(this.setState),this.onRemoveButtonClick=()=>U(this,null,function*(){const{match:{params:{id:a}},repository:{username:r,name:v}}=this.props;yield this.setStatePromise({loading:!0}),(yield L.d.removeRepositories({id:Number.parseInt(a)},[{username:r,name:v}]))!==null&&(W.a.success({message:`\u4ED3\u5E93 ${r}/${v} \u5DF2\u4ECE #${a} \u5C0F\u7EC4\u4E2D\u5220\u9664`}),M.emit(c.repositoryChange)),yield this.setStatePromise({loading:!1})}),this.state={loading:!1}}render(){const{repository:o}=this.props,{loading:a}=this.state;return e.a.createElement(j,{loading:a,onRemoveButtonClick:this.onRemoveButtonClick,repository:o})}}var K=Object(V.j)($);function b(f){const{repositories:o,loading:a}=f;return e.a.createElement(y.b,{loading:a,locale:{emptyText:e.a.createElement(P.a,{description:"\u5C0F\u7EC4\u5185\u6CA1\u6709\u4ED3\u5E93"})},dataSource:o,renderItem:r=>e.a.createElement(K,{repository:r,key:`${r.username}/${r.name}`})})}var z=e.a.memo(b);function J(f){const{repositories:o,loading:a}=f;return e.a.createElement("div",{className:h.a.Repositories},e.a.createElement(g.a,null,"\u4ED3\u5E93\u7BA1\u7406"),e.a.createElement("div",{className:h.a.repositoryListWrapper},e.a.createElement(z,{repositories:o,loading:a})))}var Y=e.a.memo(J),T=(f,o,a)=>new Promise((r,v)=>{var E=l=>{try{R(a.next(l))}catch(S){v(S)}},B=l=>{try{R(a.throw(l))}catch(S){v(S)}},R=l=>l.done?r(l.value):Promise.resolve(l.value).then(E,B);R((a=a.apply(f,o)).next())});class G extends d.PureComponent{constructor(o){super(o);this.setStatePromise=Object(H.promisify)(this.setState),this.onRepositoryChange=()=>T(this,null,function*(){return yield this.componentDidMount()}),this.loadRepositories=()=>T(this,null,function*(){const{match:{params:{id:a}}}=this.props,r=yield L.d.repositories({id:Number.parseInt(a)});r!==null&&this.setStatePromise({repositories:Array.from(r)})}),this.state={repositories:[],loading:!1},M.on(c.repositoryChange,this.onRepositoryChange)}componentDidMount(){return T(this,null,function*(){yield this.setStatePromise({loading:!0}),yield this.loadRepositories(),yield this.setStatePromise({loading:!1})})}componentDidUpdate(o,a,r){return T(this,null,function*(){const{match:{params:{id:v}}}=this.props,{match:{params:{id:E}}}=o;v!==E&&(yield this.componentDidMount())})}componentWillUnmount(){M.removeListener(c.repositoryChange,this.onRepositoryChange)}render(){const{repositories:o,loading:a}=this.state;return e.a.createElement(Y,{repositories:o,loading:a})}}var Q=Object(V.j)(G)},994:function(p,u,t){"use strict";var c=t(0),d=t.n(c),e=t(971),O=t(997),h=t.n(O),g=Object.defineProperty,y=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,I=(n,s,i)=>s in n?g(n,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[s]=i,A=(n,s)=>{for(var i in s||(s={}))P.call(s,i)&&I(n,i,s[i]);if(y)for(var i of y(s))D.call(s,i)&&I(n,i,s[i]);return n},C=(n,s)=>{var i={};for(var m in n)P.call(n,m)&&s.indexOf(m)<0&&(i[m]=n[m]);if(n!=null&&y)for(var m of y(n))s.indexOf(m)<0&&D.call(n,m)&&(i[m]=n[m]);return i};function N(n){const s=n,{isPublic:i}=s,m=C(s,["isPublic"]);return i?d.a.createElement(e.a,A({className:h.a.AccessibilityTag,color:"blue"},m),"\u516C\u5F00"):d.a.createElement(e.a,A({className:h.a.AccessibilityTag,color:"gold"},m),"\u79C1\u4EBA")}u.a=d.a.memo(N)},995:function(p,u,t){p.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},996:function(p,u,t){"use strict";t.d(u,"a",function(){return g});var c=t(0),d=t.n(c),e=t(995),O=t.n(e);function h(y){const{children:P}=y;return d.a.createElement("h2",{className:O.a.SettingsTitle},P)}var g=d.a.memo(h)},997:function(p,u,t){p.exports={AccessibilityTag:"Style_AccessibilityTag__4cAHc"}}}]);

//# sourceMappingURL=22.6fe1d04e.chunk.js.map