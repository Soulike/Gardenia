(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[29],{1088:function(e,a,t){e.exports={BranchMenu:"Style_BranchMenu__2s6dB",branchName:"Style_branchName__YisEW",branchTagWrapper:"Style_branchTagWrapper__Cq2Vq",branchNameInButton:"Style_branchNameInButton__2kCc8"}},1096:function(e,a,t){"use strict";t(1100);var r=t(1101),n=(t(139),t(45)),c=(t(248),t(50)),o=(t(247),t(80)),s=t(0),i=t.n(s),m=t(1088),l=t.n(m),u=t(1036);var p=i.a.memo((function(e){var a=e.branches,t=e.currentBranch,s=e.onBranchClick,m=!1,p=!0,h=!1,f=void 0;try{for(var b,d=a[Symbol.iterator]();!(p=(b=d.next()).done);p=!0){if(b.value.name===t){m=!0;break}}}catch(v){h=!0,f=v}finally{try{p||null==d.return||d.return()}finally{if(h)throw f}}return i.a.createElement(r.a,{trigger:["click"],overlay:i.a.createElement(c.a,{className:l.a.BranchMenu},a.map((function(e){return i.a.createElement(c.a.Item,{key:e.name,onClick:s(e)},i.a.createElement("div",{className:l.a.branchName,style:e.name===t?{fontWeight:"bold"}:{}},e.name),i.a.createElement("div",{className:l.a.branchTagWrapper},e.isDefault?i.a.createElement(o.a,{color:"blue"},"\u9ed8\u8ba4"):null))})))},i.a.createElement(n.a,null,m?"\u5206\u652f\uff1a":"Tree: ",i.a.createElement("div",{className:l.a.branchNameInButton},t),i.a.createElement(u.a,null)))}));t.d(a,"a",(function(){return p}))},1153:function(e,a,t){e.exports={Commits:"Style_Commits__2OcSb",infoWrapper:"Style_infoWrapper__Q9Viu",path:"Style_path__34n0j",timeLineWrapper:"Style_timeLineWrapper__2rqq8",loadMoreButtonWrapper:"Style_loadMoreButtonWrapper__AZvS9"}},1212:function(e,a,t){"use strict";t.r(a);var r=t(34),n=(t(71),t(7)),c=t(2),o=t.n(c),s=t(5),i=t(12),m=t(14),l=t(37),u=t(36),p=t(38),h=t(0),f=t.n(h),b=(t(166),t(90)),d=(t(139),t(45)),v=t(1153),y=t.n(v),_=t(121),g=t(46),k=t(1096),E=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).onBranchClick=function(e){return function(){var a=t.props,r=a.history,n=a.match.params,c=n.username,o=n.repository,s=n.path;r.replace(g.b.generateRepositoryCommitsRoute({username:c,repository:o,branch:e.name,path:s}))}},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props,a=e.match.params.branch,t=e.branches,r="";if(void 0===a){var n=!0,c=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var m=s.value;m.isDefault&&(r=m.name)}}catch(l){c=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(c)throw o}}}return f.a.createElement(k.a,{branches:t,currentBranch:a||r,onBranchClick:this.onBranchClick})}}]),a}(h.PureComponent),C=Object(_.f)(E),O=t(331);var M=f.a.memo((function(e){var a=e.branches,t=e.loading,r=e.commits,n=e.path,c=e.repositoryName,o=e.onLoadMoreButtonClick;return f.a.createElement("div",{className:y.a.Commits},f.a.createElement(b.a,{spinning:t},f.a.createElement("div",{className:y.a.infoWrapper},f.a.createElement(C,{branches:a}),"string"===typeof n?f.a.createElement("div",{className:y.a.path},c,"/",n):null),f.a.createElement("div",{className:y.a.timeLineWrapper},f.a.createElement(O.a,{commits:r})),f.a.createElement("div",{className:y.a.loadMoreButtonWrapper},f.a.createElement(d.a,{disabled:t,loading:t,onClick:o},"\u52a0\u8f7d\u66f4\u65e9\u7684\u63d0\u4ea4\u5386\u53f2"))))})),B=t(79),x=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(l.a)(this,Object(u.a)(a).call(this,e))).loadBranches=Object(s.a)(o.a.mark((function e(){var a,r,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params,r=a.username,n=a.repository,e.next=3,B.g.branches({username:r,name:n});case 3:null!==(c=e.sent)&&(s=c.branches,t.setState({branches:s}));case 5:case"end":return e.stop()}}),e)}))),t.loadMoreCommits=Object(s.a)(o.a.mark((function e(){var c,s,i,m,l,u,p,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.props.match.params,s=c.username,i=c.repository,m=c.branch,l=c.path,p=t.state.commits,"string"!==typeof l){e.next=8;break}return e.next=5,B.g.fileCommitHistory({username:s,name:i},l,m,p.length,a.COMMIT_AMOUNT_PER_PAGE);case 5:u=e.sent,e.next=11;break;case 8:return e.next=10,B.g.commitHistory({username:s,name:i},m,p.length,a.COMMIT_AMOUNT_PER_PAGE);case 10:u=e.sent;case 11:null!==u&&(0===(h=u.commits).length?n.a.success({message:"\u5df2\u52a0\u8f7d\u6240\u6709\u63d0\u4ea4\u5386\u53f2"}):t.setState({commits:[].concat(Object(r.a)(p),Object(r.a)(h))}));case 12:case"end":return e.stop()}}),e)}))),t.onLoadMoreButtonClick=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({loading:!0});case 2:return e.next=4,t.loadMoreCommits();case 4:return e.next=6,t.setState({loading:!1});case 6:case"end":return e.stop()}}),e)}))),t.state={branches:[],loading:!1,commits:[]},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,commits:[]}),e.next=3,this.loadBranches();case 3:return e.next=5,this.loadMoreCommits();case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(s.a)(o.a.mark((function e(a,t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.match.params.branch,this.props.match.params.branch===n){e.next=7;break}return this.setState({loading:!0}),e.next=6,this.loadMoreCommits();case 6:this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(a,t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.branches,t=e.loading,r=e.commits,n=this.props.match.params,c=n.repository,o=n.path;return f.a.createElement(M,{onLoadMoreButtonClick:this.onLoadMoreButtonClick,branches:a,loading:t,commits:r,path:o,repositoryName:c})}}]),a}(h.PureComponent);x.COMMIT_AMOUNT_PER_PAGE=50;var S=Object(_.f)(x);t.d(a,"default",(function(){return S}))}}]);
//# sourceMappingURL=29.eb691132.chunk.js.map