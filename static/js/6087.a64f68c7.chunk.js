"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[6087],{12030:function(x,C,e){e.d(C,{Z:function(){return y}});var a=e(89526),o={InputLabel:"Style_InputLabel__3UwFN",requiredSign:"Style_requiredSign__4HKr2"};function r(N){const{children:b,required:I}=N;return a.createElement("div",{className:o.InputLabel},b,a.createElement("span",{className:o.requiredSign},I?" *":""))}var y=a.memo(r)},65867:function(x,C,e){e.d(C,{Z:function(){return y}});var a=e(89526),o={PageTitle:"Style_PageTitle__67kjp"};function r(N){const{children:b}=N;return a.createElement("h1",{className:o.PageTitle},b)}var y=r},36087:function(x,C,e){e.r(C),e.d(C,{default:function(){return u}});var a=e(89526),o={CreateRepository:"Style_CreateRepository__pKkfs",label:"Style_label__fpa5o",submitButton:"Style_submitButton__Vu6T+",inlineDescription:"Style_inlineDescription__bIFYZ"},r=e(34267),y=e(98001),N=e(30409),b=e(30592),I=e(94418),O=e(65867),P=e(12030);function B(s){const{username:i,name:n,description:l,isPublic:c,onNameInputChange:d,onDescriptionInputChange:m,onIsPublicSwitchChange:v,onSubmit:h,submitting:f,loading:g}=s;return a.createElement("div",{className:o.CreateRepository},a.createElement(O.Z,null,"\u521B\u5EFA\u65B0\u4ED3\u5E93"),a.createElement("form",{action:"#",className:o.form,onSubmit:h},a.createElement("label",{className:o.label},a.createElement(P.Z,{required:!0},"\u4ED3\u5E93\u540D"),a.createElement(r.Z,{trigger:"focus",title:I.A},a.createElement(y.Z,{addonBefore:a.createElement("div",null,i," /"),autoFocus:!0,value:n,onChange:d,disabled:g}))),a.createElement("label",{className:o.label},a.createElement(P.Z,null,"\u63CF\u8FF0"),a.createElement(y.Z,{value:l,onChange:m,disabled:g})),a.createElement("label",{className:o.label},a.createElement(P.Z,null,"\u516C\u5F00"),a.createElement(N.Z,{checked:c,onChange:v,disabled:g}),a.createElement("div",{className:o.inlineDescription},c?"\u6240\u6709\u4EBA\u90FD\u80FD\u770B\u5230\u8BE5\u4ED3\u5E93":"\u53EA\u6709\u4F60\u548C\u4ED3\u5E93\u5408\u4F5C\u8005\u80FD\u770B\u5230\u8BE5\u4ED3\u5E93")),a.createElement(b.Z,{htmlType:"submit",type:"primary",block:!0,className:o.submitButton,loading:f,disabled:f||g},"\u521B\u5EFA\u4ED3\u5E93")))}var T=a.memo(B),R=e(24315),w=e(25249),j=e(62371),K=e(65092),V=e(18440),Z=e(36393),D=e(50526),z=e(52518),t=(s,i,n)=>new Promise((l,c)=>{var d=h=>{try{v(n.next(h))}catch(f){c(f)}},m=h=>{try{v(n.throw(h))}catch(f){c(f)}},v=h=>h.done?l(h.value):Promise.resolve(h.value).then(d,m);v((n=n.apply(s,i)).next())});class S extends a.PureComponent{constructor(i){super(i);this.setStatePromise=n=>new Promise(l=>{this.setState(n,()=>{l()})}),this.setTitle=()=>{document.title=`\u521B\u5EFA\u4ED3\u5E93 - ${Z.A1}`},this.loadUsername=()=>t(this,null,function*(){const n=yield w.N.get();if(n!==null){const{username:l}=n;yield this.setStatePromise({username:l})}else{const{history:l}=this.props;return l.replace(Z.yt[Z.DV.LOGIN])}}),this.onNameInputChange=n=>{this.setState({name:n.target.value})},this.onDescriptionInputChange=n=>{this.setState({description:n.target.value})},this.onIsPublicSwitchChange=n=>{this.setState({isPublic:n})},this.onSubmit=n=>t(this,null,function*(){n.preventDefault(),this.validateFormInput()&&(yield this.submitForm())}),this.validateFormInput=()=>{const{name:n}=this.state;return D.name(n)?!0:(R.Z.warn({message:z.A1,description:I.A}),!1)},this.submitForm=()=>t(this,null,function*(){const{username:n,name:l,description:c,isPublic:d}=this.state;this.setState({submitting:!0});const m=yield j._j.create({name:l,description:c,isPublic:d});if(this.setState({submitting:!1}),m!==null){const{history:v}=this.props;return R.Z.success({message:"\u4ED3\u5E93\u521B\u5EFA\u6210\u529F"}),v.push(V.Function.generateRepositoryCodeRoute({username:n,repositoryName:l}))}}),this.state={username:"",name:"",description:"",isPublic:!0,submitting:!1,loading:!0}}componentDidMount(){return t(this,null,function*(){this.setTitle(),yield this.setStatePromise({loading:!0}),yield this.loadUsername(),yield this.setStatePromise({loading:!1})})}render(){const{username:i,name:n,description:l,isPublic:c,submitting:d,loading:m}=this.state;return a.createElement(T,{username:i,name:n,description:l,isPublic:c,submitting:d,loading:m,onNameInputChange:this.onNameInputChange,onDescriptionInputChange:this.onDescriptionInputChange,onIsPublicSwitchChange:this.onIsPublicSwitchChange,onSubmit:this.onSubmit})}}var u=(0,K.EN)(S)},94418:function(x,C,e){e.d(C,{A:function(){return a}});const a="1~20 \u4F4D\u5B57\u6BCD\u3001\u6570\u5B57\u53CA\u4E0B\u5212\u7EBF"},30409:function(x,C,e){e.d(C,{Z:function(){return z}});var a=e(87462),o=e(4942),r=e(89526),y=e(29439),N=e(45987),b=e(64403),I=e.n(b),O=e(97265),P=e(69605),B=r.forwardRef(function(t,S){var u,s=t.prefixCls,i=s===void 0?"rc-switch":s,n=t.className,l=t.checked,c=t.defaultChecked,d=t.disabled,m=t.loadingIcon,v=t.checkedChildren,h=t.unCheckedChildren,f=t.onClick,g=t.onChange,p=t.onKeyDown,L=(0,N.Z)(t,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),M=(0,O.Z)(!1,{value:l,defaultValue:c}),$=(0,y.Z)(M,2),F=$[0],H=$[1];function k(E,G){var A=F;return d||(A=E,H(A),g==null||g(A,G)),A}function U(E){E.which===P.Z.LEFT?k(!1,E):E.which===P.Z.RIGHT&&k(!0,E),p==null||p(E)}function W(E){var G=k(!F,E);f==null||f(G,E)}var Y=I()(i,n,(u={},(0,o.Z)(u,"".concat(i,"-checked"),F),(0,o.Z)(u,"".concat(i,"-disabled"),d),u));return r.createElement("button",Object.assign({},L,{type:"button",role:"switch","aria-checked":F,disabled:d,className:Y,ref:S,onKeyDown:U,onClick:W}),m,r.createElement("span",{className:"".concat(i,"-inner")},F?v:h))});B.displayName="Switch";var T=B,R=e(66841),w=e(52368),j=e(62432),K=e(1114),V=e(98380),Z=function(t,S){var u={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&S.indexOf(s)<0&&(u[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)S.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(u[s[i]]=t[s[i]]);return u},D=r.forwardRef(function(t,S){var u,s=t.prefixCls,i=t.size,n=t.loading,l=t.className,c=l===void 0?"":l,d=t.disabled,m=Z(t,["prefixCls","size","loading","className","disabled"]);(0,V.Z)("checked"in m||!("value"in m),"Switch","`value` is not a valid prop, do you mean `checked`?");var v=r.useContext(j.E_),h=v.getPrefixCls,f=v.direction,g=r.useContext(K.Z),p=h("switch",s),L=r.createElement("div",{className:"".concat(p,"-handle")},n&&r.createElement(R.Z,{className:"".concat(p,"-loading-icon")})),M=I()((u={},(0,o.Z)(u,"".concat(p,"-small"),(i||g)==="small"),(0,o.Z)(u,"".concat(p,"-loading"),n),(0,o.Z)(u,"".concat(p,"-rtl"),f==="rtl"),u),c);return r.createElement(w.Z,{insertExtraNode:!0},r.createElement(T,(0,a.Z)({},m,{prefixCls:p,className:M,disabled:d||n,ref:S,loadingIcon:L})))});D.__ANT_SWITCH=!0,D.displayName="Switch";var z=D}}]);

//# sourceMappingURL=6087.a64f68c7.chunk.js.map