(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[11],{1223:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1224),i=a.n(o);t.a=r.a.memo((function(e){var t=e.children,a=e.required;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},a?" *":""))}))},1224:function(e,t,a){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1225:function(e,t,a){"use strict";var n=a(1223);a.d(t,"a",(function(){return n.a}))},1226:function(e,t,a){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},1227:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),o=a(1226),i=a.n(o);var s=r.a.memo((function(e){var t=e.children;return r.a.createElement("h2",{className:i.a.SettingsTitle},t)}))},1248:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),o=a(1255),i=a.n(o),s=a(1191),c=a(1192);var l=r.a.memo((function(e){var t=e.warning,a=e.validateText,n=e.password,o=e.validateInputPlaceholder,l=e.onValidateInputChange,u=e.onPasswordInputChange,m=e.visible,d=e.onOk,p=e.onCancel,f=e.title,h=e.confirmLoading;return r.a.createElement(s.a,{confirmLoading:h,title:f,className:i.a.CriticalOperationConfirmModal,visible:m,onOk:d,onCancel:p,destroyOnClose:!0},r.a.createElement("div",{className:i.a.content},r.a.createElement("div",{className:i.a.fuckAutocomplete},r.a.createElement(c.a,{type:"text",value:"fuck autocomplete"}),r.a.createElement(c.a.Password,{value:"fuck autocomplete"})),r.a.createElement("div",{className:i.a.warningWrapper},t),r.a.createElement(c.a,{className:i.a.input,value:a,onChange:l,placeholder:o,autoFocus:!0,autoComplete:"off"}),r.a.createElement(c.a.Password,{className:i.a.input,placeholder:"\u8d26\u6237\u5bc6\u7801",value:n,onChange:u,autoComplete:"off"})))}))},1255:function(e,t,a){e.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",fuckAutocomplete:"Style_fuckAutocomplete__1RdJh",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1263:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},o=a(13),i=function(e,t){return n.createElement(o.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="LockOutlined";t.a=n.forwardRef(i)},1267:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),o=a(1425);var i=r.a.memo((function(e){var t=e.children;return r.a.createElement(o.b,{bordered:!0,split:!0},t)}))},1268:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),o=a(1425),i=a(95);var s=r.a.memo((function(e){var t=e.title,a=e.description,n=e.onButtonClick,s=e.buttonText;return r.a.createElement(o.b.Item,{extra:r.a.createElement(i.a,{type:"primary",danger:!0,onClick:n},s)},r.a.createElement(o.b.Item.Meta,{title:t,description:a}))}))},1327:function(e,t,a){e.exports={Options:"Style_Options__1uo9K",itemWrapper:"Style_itemWrapper__2NFs3"}},1328:function(e,t,a){e.exports={RepositoryName:"Style_RepositoryName__3_t91",label:"Style_label__1U8rk",input:"Style_input__3WUY0"}},1329:function(e,t,a){e.exports={Description:"Style_Description__3jlHf",textarea:"Style_textarea__iH3Cp",buttonWrapper:"Style_buttonWrapper__g906C"}},1330:function(e,t,a){},1412:function(e,t,a){"use strict";var n=a(0),r=a(5),o=a.n(r),i=a(1245),s=a(58);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function m(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.forwardRef((function(e,t){var a,r=e.prefixCls,u=void 0===r?"rc-switch":r,d=e.className,p=e.checked,f=e.defaultChecked,h=e.disabled,b=e.loadingIcon,v=e.checkedChildren,g=e.unCheckedChildren,y=e.onClick,C=e.onChange,w=e.onKeyDown,k=m(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),O=l(Object(i.a)(!1,{value:p,defaultValue:f}),2),E=O[0],N=O[1];function x(e,t){var a=E;return h||(N(a=e),null===C||void 0===C||C(a,t)),a}var S=o()(u,d,(c(a={},"".concat(u,"-checked"),E),c(a,"".concat(u,"-disabled"),h),a));return n.createElement("button",Object.assign({},k,{type:"button",role:"switch","aria-checked":E,disabled:h,className:S,ref:t,onKeyDown:function(e){e.which===s.a.LEFT?x(!1,e):e.which===s.a.RIGHT&&x(!0,e),null===w||void 0===w||w(e)},onClick:function(e){var t=x(!E,e);null===y||void 0===y||y(t,e)}}),b,n.createElement("span",{className:"".concat(u,"-inner")},E?v:g))}));d.displayName="Switch";var p=d,f=a(35),h=a(124),b=a.n(h),v=a(241),g=a(96),y=a(94),C=a(63);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O=n.forwardRef((function(e,t){var a;Object(C.a)("checked"in e||!("value"in e),"Switch","`value` is not a valid prop, do you mean `checked`?");var r=e.prefixCls,i=e.size,s=e.loading,c=e.className,l=void 0===c?"":c,u=e.disabled,m=n.useContext(g.b),d=m.getPrefixCls,h=m.direction,O=n.useContext(y.b),E=d("switch",r),N=n.createElement("div",{className:"".concat(E,"-handle")},s&&n.createElement(b.a,{className:"".concat(E,"-loading-icon")})),x=o()(l,(k(a={},"".concat(E,"-small"),"small"===(i||O)),k(a,"".concat(E,"-loading"),s),k(a,"".concat(E,"-rtl"),"rtl"===h),a));return n.createElement(v.a,{insertExtraNode:!0},n.createElement(p,w({},Object(f.a)(e,["loading"]),{prefixCls:E,className:x,disabled:u||s,ref:t,loadingIcon:N})))}));O.__ANT_SWITCH=!0;t.a=O},1421:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ce}));var n=a(1),r=a.n(n),o=a(3),i=a(7),s=a(8),c=a(17),l=a(16),u=a(0),m=a.n(u),d=a(1327),p=a.n(d),f=a(1227),h=a(1328),b=a.n(h),v=a(247),g=a(1192),y=a(1187),C=a(95),w=a(1225),k=a(150);function O(e,t){return 0===e.length||t}var E=m.a.memo((function(e){var t=e.repositoryName,a=e.onRenameConfirm,n=e.onRepositoryNameInputChange,r=e.submitting;return m.a.createElement("div",{className:b.a.RepositoryName},m.a.createElement("label",{className:b.a.label},m.a.createElement(w.a,null,"\u4ed3\u5e93\u540d"),m.a.createElement(v.a,{trigger:"focus",title:k.c.Repository.NAME},m.a.createElement(g.a,{className:b.a.input,value:t,onChange:n,disabled:r})),m.a.createElement(y.a,{title:"\u91cd\u547d\u540d\u4ed3\u5e93\u4f1a\u5bfc\u81f4\u539f\u4ed3\u5e93\u7f51\u5740\u4e0e\u514b\u9686\u8def\u5f84\u5931\u6548\uff0c\u786e\u5b9a\u7ee7\u7eed\uff1f",onConfirm:a,disabled:O(t,r)},m.a.createElement(C.a,{className:b.a.button,loading:r,disabled:O(t,r)},"\u91cd\u547d\u540d"))))})),N=a(46),x=a(20),S=a(1184),P=a(345),_=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).onRepositoryNameInputChange=function(e){n.setState({repositoryName:e.target.value})},n.onRenameConfirm=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.validateParameters()){e.next=5;break}return n.setState({submitting:!0}),e.next=4,n.submit();case 4:n.setState({submitting:!1});case 5:case"end":return e.stop()}}),e)}))),n.validateParameters=function(){var e=n.state.repositoryName;return!!k.b.Repository.name(e)||(S.a.warn({message:k.a.Repository.NAME,description:k.c.Repository.NAME}),!1)},n.submit=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.repositoryName,a=n.props.match.params.repository,e.next=4,P.a.setName({name:a},{name:t});case 4:null!==e.sent&&n.onSubmitSuccess();case 6:case"end":return e.stop()}}),e)}))),n.onSubmitSuccess=function(){S.a.success({message:"\u4ed3\u5e93\u91cd\u547d\u540d\u6210\u529f"});var e=n.props.history,t=n.props.match.params.username,a=n.state.repositoryName;return e.replace(x.Function.generateRepositorySettingsOptionsRoute({username:t,repository:a}))};var s=e.match.params.repository;return n.state={repositoryName:s,submitting:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.repositoryName,a=e.submitting;return m.a.createElement(E,{repositoryName:t,onRenameConfirm:this.onRenameConfirm,onRepositoryNameInputChange:this.onRepositoryNameInputChange,submitting:a})}}]),a}(u.PureComponent),j=Object(N.f)(_),I=a(1329),R=a.n(I),M=a(1185);var V=m.a.memo((function(e){var t=e.description,a=e.onSubmit,n=e.onTextareaChange,r=e.loading,o=e.submitting;return m.a.createElement("div",{className:R.a.Description},m.a.createElement("label",null,m.a.createElement(w.a,null,"\u4ed3\u5e93\u63cf\u8ff0"),m.a.createElement(M.a,{spinning:r},m.a.createElement(g.a.TextArea,{disabled:r||o,value:t,className:R.a.textarea,onChange:n}))),m.a.createElement("div",{className:R.a.buttonWrapper},m.a.createElement(C.a,{loading:o,disabled:r||o,className:R.a.button,onClick:a},"\u786e\u5b9a")))})),T=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onTextareaChange=function(e){n.setState({description:e.target.value})},n.onSubmit=Object(o.a)(r.a.mark((function e(){var t,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.description,a=n.props.match.params.repository,n.setState({submitting:!0}),e.next=5,P.a.setDescription({name:a,description:t});case 5:o=e.sent,n.setState({submitting:!1}),null!==o&&S.a.success({message:"\u4ed3\u5e93\u63cf\u8ff0\u4fee\u6539\u6210\u529f"});case 8:case"end":return e.stop()}}),e)}))),n.state={description:"",submitting:!1},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.repository.description,o=n.loading;e.loading&&o&&this.setState({description:r})}},{key:"render",value:function(){var e=this.props.loading,t=this.state,a=t.description,n=t.submitting;return m.a.createElement(V,{submitting:n,loading:e,description:a,onTextareaChange:this.onTextareaChange,onSubmit:this.onSubmit})}}]),a}(u.PureComponent),A=Object(N.f)(T),L=a(1330),D=a.n(L),W=a(1412),F=a(1248),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},z=a(13),B=function(e,t){return u.createElement(z.a,Object.assign({},e,{ref:t,icon:H}))};B.displayName="UnlockOutlined";var U=u.forwardRef(B),G=a(1263);var K=m.a.memo((function(e){var t=e.loading,a=e.isPublic,n=e.onSwitchChange,r=e.modalRepositoryName,o=e.modalPassword,i=e.onModalRepositoryNameInputChange,s=e.onModalPasswordInputChange,c=e.modalVisible,l=e.onModalOk,u=e.onModalCancel;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:D.a.AccessibilitySwitch},m.a.createElement(w.a,null,"\u662f\u5426\u516c\u5f00"),m.a.createElement(W.a,{loading:t,checked:a,disabled:t,onChange:n,checkedChildren:m.a.createElement(m.a.Fragment,null,m.a.createElement(U,null)," \u516c\u5f00"),unCheckedChildren:m.a.createElement(m.a.Fragment,null,m.a.createElement(G.a,null)," \u79c1\u6709")})),m.a.createElement(F.a,{confirmLoading:t,title:"\u53ef\u89c1\u6027\u5207\u6362\u786e\u8ba4",warning:m.a.createElement("strong",null,"\u5c06\u4ed3\u5e93\u6539\u4e3a\u516c\u6709\u5c06\u4f1a\u8ba9",m.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4eba"),"\u770b\u5230\u4ed3\u5e93\u5185\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u540d",validateText:r,password:o,visible:c,onPasswordInputChange:s,onValidateInputChange:i,onOk:l,onCancel:u}))})),q=a(29),J=a(134),Y=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSwitchChange=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=n.state.isPublic)||!t){e.next=5;break}n.setState({modalVisible:!0}),e.next=8;break;case 5:if(!a||t){e.next=8;break}return e.next=8,n.setIsPublic(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onModalRepositoryNameInputChange=function(e){n.setState({modalRepositoryName:e.target.value})},n.onModalPasswordInputChange=function(e){n.setState({modalPassword:e.target.value})},n.onModalOk=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c,l,u,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,a=t.repository,o=t.username,i=n.state,s=i.modalRepositoryName,c=i.modalPassword,l=i.isPublic,a===s){e.next=6;break}S.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=19;break;case 6:return u=J.a.calculateHash(o,c),e.next=9,q.a.checkPassword({hash:u});case 9:if(null===(m=e.sent)){e.next=19;break}if(!m.isCorrect){e.next=18;break}return e.next=15,n.setIsPublic(!l);case 15:n.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""}),e.next=19;break;case 18:S.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 19:case"end":return e.stop()}}),e)}))),n.onModalCancel=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""});case 1:case"end":return e.stop()}}),e)}))),n.setIsPublic=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.match.params.repository,n.state.isPublic===t){e.next=9;break}return n.setState({submitting:!0}),e.next=6,q.i.setIsPublic({name:a,isPublic:t});case 6:null!==e.sent&&window.location.reload(),n.setState({submitting:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={submitting:!1,isPublic:!0,modalRepositoryName:"",modalPassword:"",modalVisible:!1},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.repository.isPublic,o=n.loading;e.loading&&o&&this.setState({isPublic:r})}},{key:"render",value:function(){var e=this.state,t=e.submitting,a=e.isPublic,n=e.modalRepositoryName,r=e.modalPassword,o=e.modalVisible,i=this.props.loading;return m.a.createElement(K,{loading:t||i,isPublic:a,modalRepositoryName:n,modalPassword:r,modalVisible:o,onSwitchChange:this.onSwitchChange,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),a}(u.PureComponent),$=Object(N.f)(Y),Q=a(1268);var X=m.a.memo((function(e){var t=e.onButtonClick,a=e.modalRepositoryName,n=e.modalPassword,r=e.onModalRepositoryNameInputChange,o=e.onModalPasswordInputChange,i=e.onModalOk,s=e.onModalCancel,c=e.modalVisible,l=e.modalConfirmLoading;return m.a.createElement(m.a.Fragment,null,m.a.createElement(Q.a,{buttonText:"\u5220\u9664\u4ed3\u5e93",title:"\u5220\u9664\u4ed3\u5e93",description:"\u5220\u9664\u4ed3\u5e93\u7684\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u614e\u91cd\u3002",onButtonClick:t}),m.a.createElement(F.a,{warning:m.a.createElement("strong",null,"\u5982\u679c\u4ed3\u5e93\u88ab\u5220\u9664\uff0c\u60a8\u5c06\u4e22\u5931\u4ed3\u5e93\u7684\u6587\u4ef6\u3001\u63d0\u4ea4\u8bb0\u5f55\u7b49",m.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4fe1\u606f"),"\uff0c\u4e14\u5220\u9664\u6210\u529f\u540e\u6ca1\u6709\u6062\u590d\u7684\u53ef\u80fd\u3002\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u7684\u540d\u5b57",title:"\u5220\u9664\u4ed3\u5e93\u786e\u8ba4",validateText:a,password:n,onValidateInputChange:r,onPasswordInputChange:o,onOk:i,onCancel:s,visible:c,confirmLoading:l}))})),Z=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onButtonClick=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modalRepositoryName:"",modalPassword:"",modalVisible:!0});case 1:case"end":return e.stop()}}),e)}))),n.onModalRepositoryNameInputChange=function(e){n.setState({modalRepositoryName:e.target.value})},n.onModalPasswordInputChange=function(e){n.setState({modalPassword:e.target.value})},n.onModalOk=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c,l,u,m,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.match.params,o=a.repository,i=a.username,s=t.history,c=n.state,l=c.modalRepositoryName,u=c.modalPassword,o===l){e.next=6;break}S.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=25;break;case 6:return m=J.a.calculateHash(i,u),n.setState({modalConfirmLoading:!0}),e.next=10,q.a.checkPassword({hash:m});case 10:if(null===(d=e.sent)){e.next=24;break}if(!d.isCorrect){e.next=23;break}return e.next=16,q.h.del({name:o});case 16:if(null===e.sent){e.next=21;break}return S.a.success({message:"\u4ed3\u5e93\u5220\u9664\u6210\u529f"}),n.setState({modalVisible:!1}),e.abrupt("return",s.replace(x.Function.generatePersonalCenterRoute({username:i})));case 21:e.next=24;break;case 23:S.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 24:n.setState({modalConfirmLoading:!1});case 25:case"end":return e.stop()}}),e)}))),n.onModalCancel=function(){n.setState({modalVisible:!1})},n.state={modalRepositoryName:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.modalConfirmLoading,a=e.modalVisible,n=e.modalPassword,r=e.modalRepositoryName;return m.a.createElement(X,{onButtonClick:this.onButtonClick,modalConfirmLoading:t,modalVisible:a,modalPassword:n,modalRepositoryName:r,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),a}(u.PureComponent),ee=Object(N.f)(Z),te=a(1267);var ae=m.a.memo((function(){return m.a.createElement(te.a,null,m.a.createElement(ee,null))}));var ne=m.a.memo((function(e){var t=e.repository,a=e.loading;return m.a.createElement("div",{className:p.a.Options},m.a.createElement(f.a,null,"\u9009\u9879"),m.a.createElement("div",{className:p.a.itemWrapper},m.a.createElement(j,null)),m.a.createElement("div",{className:p.a.itemWrapper},m.a.createElement($,{repository:t,loading:a})),m.a.createElement("div",{className:p.a.itemWrapper},m.a.createElement(A,{repository:t,loading:a})),m.a.createElement(f.a,null,m.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533a")),m.a.createElement(ae,null))})),re=a(54),oe=x.CONFIG.PAGE_ID,ie=x.CONFIG.PAGE_ID_TO_ROUTE,se=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setStatePromise=Object(re.promisify)(n.setState),n.loadRepository=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match.params,o=a.repository,i=a.username,s=t.history,e.next=3,P.a.repository({username:i},{name:o});case 3:if(null===(c=e.sent)){e.next=9;break}return e.next=7,n.setStatePromise({repository:c});case 7:e.next=10;break;case 9:return e.abrupt("return",s.replace(ie[oe.NOT_FOUND]));case 10:case"end":return e.stop()}}),e)}))),n.state={repository:new J.h("","","",!0),loading:!0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadRepository();case 4:return e.next=6,this.setStatePromise({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.loading;return m.a.createElement(ne,{repository:t,loading:a})}}]),a}(u.PureComponent),ce=Object(N.f)(se)}}]);
//# sourceMappingURL=11.d78fff52.chunk.js.map