(window["webpackJsonpsoulike-git"]=window["webpackJsonpsoulike-git"]||[]).push([[13],{1197:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),i=a(934),s=a(30),c=a(59),o=a(81),m=a(260),l=a(259),u=a(261),f=a(0),d=a.n(f),p=(a(936),a(933)),h=(a(923),a(121)),_=a(996),v=a.n(_),b=(a(395),a(46)),y=a(938),E=a(82),g=a(94),S=a(997),x=a.n(S),j=a(193);var N=Object(g.f)(d.a.memo((function(e){var t=e.fileInfo,a=t.type,n=t.path,r=t.commit,i=r.message,s=r.time,c=e.match.params,o=c.username,m=c.repository,l=c.branch,u=n.split("/"),f=u[u.length-1];return d.a.createElement(p.a.Item,{className:x.a.Item},a===y.a.BLOB?d.a.createElement(b.a,{className:x.a.icon,type:"file-text"}):d.a.createElement(b.a,{className:x.a.icon,type:"folder"}),d.a.createElement("div",{className:x.a.fileName},d.a.createElement(E.b,{to:j.Function.generateRepositoryRoute({username:o,repository:m,objectType:a,branch:l||"HEAD",path:n})},f)),d.a.createElement("div",{className:x.a.message},i),d.a.createElement("div",{className:x.a.time},s))}))),k=(a(929),a(931)),w=a(998),O=a.n(w);var C=d.a.memo((function(e){var t=e.html,a=e.exists,n=e.loading;return a?d.a.createElement("div",{className:O.a.Readme},d.a.createElement(k.a,{spinning:n},d.a.createElement("div",{className:O.a.title},"README.md"),d.a.createElement("div",{className:O.a.content,dangerouslySetInnerHTML:{__html:t}}))):null})),D=a(266),H=a(965),I=a(959),L=a(960),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={exists:!1,readme:"",loading:!0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var i,s,c,o,m,l,u,f,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props,s=i.match.params,c=s.username,o=s.repository,m=s.path,l=i.commitHash,u=t.match.params.path,f=t.commitHash,0===l.length||u===m&&f===l){e.next=24;break}return this.setState({loading:!0}),e.next=6,D.a.fileInfo(c,o,Object(H.join)(m||"","README.md"),l);case 6:if(d=e.sent,this.setState({loading:!1}),null===d||!d.exists){e.next=23;break}return this.setState({loading:!0}),e.next=12,D.a.rawFile(c,o,Object(H.join)(m||"","README.md"),l);case 12:if(p=e.sent,this.setState({loading:!1}),null===p){e.next=21;break}return e.t0=this,e.next=18,L.a.transformBlobToString(p);case 18:e.t1=e.sent,e.t2={readme:e.t1,exists:!0},e.t0.setState.call(e.t0,e.t2);case 21:e.next=24;break;case 23:this.setState({exists:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.readme,a=e.exists,n=e.loading;return d.a.createElement(C,{exists:a,html:I.a.makeHtml(t),loading:n})}}]),t}(f.PureComponent),A=Object(g.f)(R);var B=d.a.memo((function(e){var t=e.fileList,a=e.lastCommit,n=a.commitHash,r=a.committerName,i=a.message,s=a.time,c=e.loading;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:v.a.FileList},d.a.createElement("div",{className:v.a.lastCommitInfoBar},d.a.createElement("div",{className:v.a.committerName},r),d.a.createElement("div",{className:v.a.message},i),d.a.createElement("div",{className:v.a.time},s),d.a.createElement("div",{className:v.a.commitHash},"\u6700\u540e\u63d0\u4ea4\uff1a",n.slice(0,7))),d.a.createElement(p.a,{locale:{emptyText:d.a.createElement(h.a,{description:"\u6ca1\u6709\u6587\u4ef6"})},loading:c,className:v.a.fileList},t.map((function(e){return d.a.createElement(N,{fileInfo:e,key:e.path})})))),d.a.createElement("div",{className:v.a.readmeWrapper},d.a.createElement(A,{commitHash:n})))})),W=a(155),F=a(262),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={fileList:[],lastCommit:new F.b("","","","",""),loading:!0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s,c,o,m,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.username,n=t.repository,s=t.path,c=t.branch,this.setState({loading:!0}),e.next=4,Promise.all([W.d.directory(a,n,c||"HEAD",void 0===s?"":s+"/"),W.d.lastCommit(a,n,c||"HEAD")]);case 4:o=e.sent,m=Object(i.a)(o,2),l=m[0],u=m[1],this.setState({loading:!1}),null!==l&&this.setState({fileList:l}),null!==u&&this.setState({lastCommit:u});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props.location.pathname,s=t.location.pathname,i===s){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fileList,a=e.lastCommit,n=e.loading;return d.a.createElement(B,{fileList:t,lastCommit:a,loading:n})}}]),t}(f.Component),T=Object(g.f)(M);a.d(t,"default",(function(){return T}))},959:function(e,t,a){"use strict";var n=a(966),r=new(a.n(n).a.Converter)({tables:!0,strikethrough:!0,tasklists:!0,emoji:!0});a.d(t,"a",(function(){return r}))},960:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"transformBlobToString",(function(){return c})),a.d(n,"startDownload",(function(){return m}));var r=a(15),i=a.n(r),s=a(30);function c(e){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.readAsText(t),n.onloadend=function(){e(n.result)},n.onerror=function(e){a(e)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){var a=document.createElement("a");a.href=e,a.download=t,a.click()}a.d(t,"a",(function(){return n}))},996:function(e,t,a){e.exports={FileList:"Style_FileList__1f1i0",lastCommitInfoBar:"Style_lastCommitInfoBar__22tJ6",committerName:"Style_committerName__1e06b",message:"Style_message__2Rcba",commitHash:"Style_commitHash__W1D2b",time:"Style_time__EWwEt",readmeWrapper:"Style_readmeWrapper__4WqWd"}},997:function(e,t,a){e.exports={Item:"Style_Item__2g1sr",icon:"Style_icon__l2WQZ",fileName:"Style_fileName__3gBA3",message:"Style_message__1quhb",time:"Style_time__3UXd6"}},998:function(e,t,a){e.exports={Readme:"Style_Readme__fyV_U",title:"Style_title__261Co",content:"Style_content__1oCMt"}}}]);
//# sourceMappingURL=13.a3d9cb6b.chunk.js.map