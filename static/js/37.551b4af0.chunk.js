(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[37],{1236:function(e,t,a){e.exports={Group:"Style_Group__1yqtA",header:"Style_header__3PdhM",tabContent:"Style_tabContent__3lu-l",basicInfo:"Style_basicInfo__3YRAH",groupId:"Style_groupId__2S_Jd",groupName:"Style_groupName__2tTEA"}},1273:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),s=a(5),c=a(20),i=a(21),o=a(40),u=a(39),l=a(41),m=a(0),p=a.n(m),E=(a(456),a(155)),d=(a(102),a(11)),b=a(1236),h=a.n(b),S=a(2);var G=p.a.memo((function(e){var t=e.children,a=e.onTabChange,n=e.tabActiveKey,r=e.group,s=r.id,c=r.name,i=e.loading,o=e.isAdmin;return i?null:p.a.createElement("div",{className:h.a.Group},p.a.createElement("div",{className:h.a.header},p.a.createElement("div",{className:h.a.basicInfo},p.a.createElement("div",{className:h.a.groupId},p.a.createElement(d.a,{type:"team"}),s),p.a.createElement("div",{className:h.a.groupName},c))),p.a.createElement(E.a,{type:"card",className:h.a.tab,tabBarStyle:{padding:"0 calc(50% - 500px)",margin:"0"},onChange:a,activeKey:n},p.a.createElement(E.a.TabPane,{tab:p.a.createElement(p.a.Fragment,null,p.a.createElement(d.a,{type:"home"}),"\u4ed3\u5e93"),key:S.PAGE_ID.GROUP.REPOSITORIES},p.a.createElement("div",{className:h.a.tabContent},t)),p.a.createElement(E.a.TabPane,{tab:p.a.createElement(p.a.Fragment,null,p.a.createElement(d.a,{type:"smile"}),"\u6210\u5458"),key:S.PAGE_ID.GROUP.MEMBERS},p.a.createElement("div",{className:h.a.tabContent},t)),o?p.a.createElement(E.a.TabPane,{tab:p.a.createElement(p.a.Fragment,null,p.a.createElement(d.a,{type:"setting"}),"\u8bbe\u7f6e"),key:S.PAGE_ID.GROUP.SETTINGS.SETTINGS},p.a.createElement("div",{className:h.a.tabContent},t)):null))})),I=a(45),_=a(137),A=a(77),P=a(189),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setTitle=function(){var e=a.state.group.name;document.title="".concat(e," - ").concat(P.a.NAME)},a.loadGroup=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,A.c.info({id:Number.parseInt(t)});case 3:null!==(n=e.sent)&&a.setState({group:n});case 5:case"end":return e.stop()}}),e)}))),a.loadIsAdmin=Object(s.a)(r.a.mark((function e(){var t,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,A.c.isAdmin({id:Number.parseInt(t)});case 3:null!==(n=e.sent)&&(s=n.isAdmin,a.setState({isAdmin:s}));case 5:case"end":return e.stop()}}),e)}))),a.setTabActiveKey=function(){switch(a.props.match.path){case S.PAGE_ID_TO_ROUTE[S.PAGE_ID.GROUP.REPOSITORIES]:a.setState({tabActiveKey:S.PAGE_ID.GROUP.REPOSITORIES});break;case S.PAGE_ID_TO_ROUTE[S.PAGE_ID.GROUP.MEMBERS]:a.setState({tabActiveKey:S.PAGE_ID.GROUP.MEMBERS});break;case S.PAGE_ID_TO_ROUTE[S.PAGE_ID.GROUP.SETTINGS.SETTINGS]:a.setState({tabActiveKey:S.PAGE_ID.GROUP.SETTINGS.SETTINGS})}},a.onTabChange=function(e){var t=a.props,n=t.match.params.id,r=t.history;switch(e){case S.PAGE_ID.GROUP.REPOSITORIES:r.push(I.b.generateGroupRepositoriesRoute({id:n}));break;case S.PAGE_ID.GROUP.MEMBERS:r.push(I.b.generateGroupMembersRoute({id:n}));break;case S.PAGE_ID.GROUP.SETTINGS.SETTINGS:r.push(I.b.generateGroupSettingsRoute({id:n}))}a.setState({tabActiveKey:e})},a.state={tabActiveKey:S.PAGE_ID.GROUP.REPOSITORIES,group:new _.c(0,""),loading:!0,isAdmin:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setTabActiveKey(),this.setState({loading:!0}),e.next=4,Promise.all([this.loadGroup(),this.loadIsAdmin()]);case 4:this.setState({loading:!1}),this.setTitle();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.path!==e.match.path&&this.setTabActiveKey()}},{key:"render",value:function(){var e=this.state,t=e.tabActiveKey,a=e.group,n=e.loading,r=e.isAdmin,s=this.props.children;return p.a.createElement(G,{onTabChange:this.onTabChange,tabActiveKey:t,group:a,loading:n,isAdmin:r},s)}}]),t}(m.PureComponent);a.d(t,"default",(function(){return T}))}}]);
//# sourceMappingURL=37.551b4af0.chunk.js.map