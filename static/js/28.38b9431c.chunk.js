(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[28],{1054:function(e,t,n){e.exports={Register:"Style_Register__3noZm",form:"Style_form__3_TRs",logo:"Style_logo__3JrE_",button:"Style_button__1EHxx"}},1294:function(e,t,n){"use strict";n.r(t);n(92);var r=n(14),a=n(4),u=n.n(a),o=n(36),s=n(48),c=n(89),i=n(88),l=n(90),m=n(0),f=n.n(m),p=(n(430),n(134)),d=(n(431),n(284)),E=(n(960),n(962)),g=(n(282),n(22)),v=n(1054),A=n.n(v),h=n(998),S=n.n(h),w=n(955);var I=f.a.memo((function(e){var t=e.username,n=e.password,r=e.repeatPassword,a=e.email,u=e.onUsernameInputChange,o=e.onPasswordInputChange,s=e.onRepeatPasswordInputChange,c=e.onEmailInputChange,i=e.onFormSubmit;return f.a.createElement("main",{className:A.a.Register},f.a.createElement("form",{action:"#",className:A.a.form,onSubmit:i},f.a.createElement("img",{className:A.a.logo,src:S.a,alt:"web_developer_logo"}),f.a.createElement(d.a,{title:w.c.Account.USERNAME,trigger:"focus"},f.a.createElement(E.a,{type:"text",size:"large",onChange:u,autoFocus:!0,value:t,placeholder:"\u7528\u6237\u540d",prefix:f.a.createElement(g.a,{type:"user"})})),f.a.createElement(d.a,{title:w.c.Account.PASSWORD,trigger:"focus"},f.a.createElement(E.a,{type:"password",size:"large",onChange:o,value:n,placeholder:"\u5bc6\u7801",prefix:f.a.createElement(g.a,{type:"lock"})})),f.a.createElement(d.a,{title:"\u91cd\u590d\u8f93\u5165\u5bc6\u7801",trigger:"focus"},f.a.createElement(E.a,{type:"password",size:"large",onChange:s,value:r,placeholder:"\u91cd\u590d\u5bc6\u7801",prefix:f.a.createElement(g.a,{type:"lock"})})),f.a.createElement(E.a,{type:"email",size:"large",onChange:c,value:a,placeholder:"\u90ae\u7bb1",prefix:f.a.createElement(g.a,{type:"mail"})}),f.a.createElement(p.a,{htmlType:"submit",className:A.a.button,size:"large",type:"primary",block:!0},"\u6ce8\u518c")))})),N=n(91),P=n(102),R=n(210),b=n(283),C=n(169),M=N.a.PAGE_ID,y=N.a.PAGE_ID_TO_ROUTE,_=w.b.Account,O=w.b.Profile,x=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).setTitle=function(){document.title="\u6ce8\u518c - ".concat(C.a.NAME)},n.onUsernameInputChange=function(e){n.setState({username:e.target.value})},n.onPasswordInputChange=function(e){n.setState({password:e.target.value})},n.onRepeatPasswordInputChange=function(e){n.setState({repeatPassword:e.target.value})},n.onEmailInputChange=function(e){n.setState({email:e.target.value})},n.onFormSubmit=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!n.validateFormInput()){t.next=4;break}return t.next=4,u.a.awrap(n.submitForm());case 4:case"end":return t.stop()}}))},n.validateFormInput=function(){var e=n.state,t=e.username,a=e.password,u=e.repeatPassword,o=e.email;return _.username(t)?_.password(a)?a!==u?(r.a.warn({message:"\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u76f8\u540c"}),!1):!!O.email(o)||(r.a.warn({message:w.a.Profile.EMAIL}),!1):(r.a.warn({message:w.a.Account.PASSWORD,description:w.c.Account.PASSWORD}),!1):(r.a.warn({message:w.a.Account.USERNAME,description:w.c.Account.USERNAME}),!1)},n.submitForm=function(){var e,t,r,a,o;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.state,t=e.username,r=e.password,a=e.email,o=b.a.calculateHash(t,r),s.next=4,u.a.awrap(R.a.register({username:t,hash:o},{nickname:t,email:a,avatar:""}));case 4:s.sent&&n.onRegisterSuccess();case 6:case"end":return s.stop()}}))},n.onRegisterSuccess=function(){r.a.success({message:"\u6ce8\u518c\u6210\u529f"}),n.props.history.push(y[M.LOGIN])},n.state={username:"",password:"",repeatPassword:"",email:""},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setTitle()}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,r=e.repeatPassword,a=e.email;return f.a.createElement(I,{username:t,password:n,email:a,onFormSubmit:this.onFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange,onEmailInputChange:this.onEmailInputChange,onRepeatPasswordInputChange:this.onRepeatPasswordInputChange,repeatPassword:r})}}]),t}(m.PureComponent),k=Object(P.f)(x);t.default=k},955:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"USERNAME",(function(){return I})),n.d(r,"PASSWORD",(function(){return N}));var a={};n.r(a),n.d(a,"NAME",(function(){return P}));var u={};n.r(u),n.d(u,"NICKNAME",(function(){return R})),n.d(u,"EMAIL",(function(){return b}));var o={};n.r(o),n.d(o,"NAME",(function(){return C}));var s={};n.r(s),n.d(s,"username",(function(){return M})),n.d(s,"password",(function(){return y}));var c={};n.r(c),n.d(c,"name",(function(){return _}));var i={};n.r(i),n.d(i,"nickname",(function(){return O})),n.d(i,"email",(function(){return x}));var l={};n.r(l),n.d(l,"name",(function(){return k}));var m={};n.r(m),n.d(m,"Account",(function(){return s})),n.d(m,"Group",(function(){return c})),n.d(m,"Profile",(function(){return i})),n.d(m,"Repository",(function(){return l}));var f={};n.r(f),n.d(f,"USERNAME",(function(){return U})),n.d(f,"PASSWORD",(function(){return D}));var p={};n.r(p),n.d(p,"NAME",(function(){return F}));var d={};n.r(d),n.d(d,"NICKNAME",(function(){return z}));var E={};n.r(E),n.d(E,"NAME",(function(){return W}));var g={};n.r(g),n.d(g,"Account",(function(){return f})),n.d(g,"Group",(function(){return p})),n.d(g,"Profile",(function(){return d})),n.d(g,"Repository",(function(){return E}));var v={};n.r(v),n.d(v,"USERNAME",(function(){return j})),n.d(v,"PASSWORD",(function(){return G}));var A={};n.r(A),n.d(A,"NAME",(function(){return T}));var h={};n.r(h),n.d(h,"NICKNAME",(function(){return $})),n.d(h,"EMAIL",(function(){return L}));var S={};n.r(S),n.d(S,"NAME",(function(){return K}));var w={};n.r(w),n.d(w,"Account",(function(){return v})),n.d(w,"Group",(function(){return A})),n.d(w,"Profile",(function(){return h})),n.d(w,"Repository",(function(){return S}));var I=/^\w{1,20}$/,N=/^\S{6,}$/,P=/^\S{1,20}$/,R=/^\S{1,20}$/,b=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,C=/^\w{1,20}$/;function M(e){return r.USERNAME.test(e)}function y(e){return r.PASSWORD.test(e)}function _(e){return a.NAME.test(e)}function O(e){return u.NICKNAME.test(e)}function x(e){return u.EMAIL.test(e)}function k(e){return o.NAME.test(e)}var U="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u5b57\u7b26\u4e32",D="6 \u4f4d\u4ee5\u4e0a",F="1~20 \u4f4d",z="1~20 \u4f4d",W="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",j="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",G="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",T="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",$="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",L="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",K="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return g}))},998:function(e,t,n){e.exports=n.p+"static/media/developing_code.240e8e0f.svg"}}]);
//# sourceMappingURL=28.38b9431c.chunk.js.map