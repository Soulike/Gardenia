(window["webpackJsonpsoulike-git"]=window["webpackJsonpsoulike-git"]||[]).push([[17],{1190:function(e,t,a){"use strict";a.r(t);var n,i=a(12),s=a.n(i),c=a(233),r=a(26),m=a(46),o=a(62),l=a(142),u=a(141),p=a(143),h=a(0),f=a.n(h),d=(a(805),a(804)),_=(a(793),a(114)),b=a(992),v=a.n(b),y=(a(229),a(32));!function(e){e.BLOB="BLOB",e.TREE="TREE"}(n||(n={}));var g=a(63),E=a(87),N=a(993),S=a.n(N);var O=Object(E.f)(f.a.memo((function(e){var t=e.fileInfo,a=t.type,i=t.path,s=t.commit,c=s.message,r=s.time,m=e.location.pathname,o=i.split("/"),l=o[o.length-1];return"/"===m[m.length-1]&&(m=m.slice(0,-1)),f.a.createElement(d.a.Item,{className:S.a.Item},a===n.BLOB?f.a.createElement(y.a,{className:S.a.icon,type:"file-text"}):f.a.createElement(y.a,{className:S.a.icon,type:"folder"}),f.a.createElement("div",{className:S.a.fileName},f.a.createElement(g.b,{to:a===n.BLOB?"".concat(m,"/").concat(l):"".concat(m,"/").concat(l,"/")},l)),f.a.createElement("div",{className:S.a.message},c),f.a.createElement("div",{className:S.a.time},r))})));var L=f.a.memo((function(e){var t=e.fileList,a=e.lastCommit,n=a.commitHash,i=a.committerName,s=a.message,c=a.time,r=e.loading;return f.a.createElement("div",{className:v.a.FileList},f.a.createElement("div",{className:v.a.lastCommitInfoBar},f.a.createElement("div",{className:v.a.committerName},i),f.a.createElement("div",{className:v.a.message},s),f.a.createElement("div",{className:v.a.time},c),f.a.createElement("div",{className:v.a.commitHash},"\u6700\u540e\u63d0\u4ea4\uff1a",n.slice(0,7))),f.a.createElement(d.a,{locale:{emptyText:f.a.createElement(_.a,{description:"\u6ca1\u6709\u6587\u4ef6"})},loading:r,className:v.a.fileList},t.map((function(e){return f.a.createElement(O,{fileInfo:e,key:e.path})}))))})),k=a(74),w=a(103),x=a(145),B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={fileList:[],lastCommit:new x.a("","","","",""),loading:!0},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,i,r,m,o,l,u,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match.params,n=a.username,i=a.repository,r=a.path,m=t.branch,o=t.location.pathname,this.setState({loading:!0}),e.next=4,Promise.all([k.d.directory(n,i,m,void 0===r?"":"/"===o.slice(-1)?r+"/":r),k.d.lastCommit(n,i,m)]);case 4:l=e.sent,u=Object(c.a)(l,2),p=u[0],h=u[1],this.setState({loading:!1}),null!==p&&this.setState({fileList:p}),null!==h&&this.setState({lastCommit:h});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var i,c,r,m,o,l,u,p,h,f,d,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.branch,c=this.props.branch,r=t.match.params.path,m=this.props.match.params.path,c===i){e.next=9;break}return e.next=7,this.componentDidMount();case 7:e.next=17;break;case 9:if(r===m){e.next=17;break}return o=this.props,l=o.match.params,u=l.username,p=l.repository,h=l.path,f=o.branch,d=o.location.pathname,this.setState({loading:!0}),e.next=14,k.d.directory(u,p,f,void 0===h?"":"/"===d.slice(-1)?h+"/":h);case 14:_=e.sent,this.setState({loading:!1}),null!==_&&this.setState({fileList:_});case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fileList,a=e.lastCommit,n=e.loading;return f.a.createElement(L,{fileList:t,lastCommit:a,loading:n})}}]),t}(h.PureComponent),j=Object(E.f)(Object(w.b)((function(e){return{branch:e.Repository.branch}}))(B));a.d(t,"default",(function(){return j}))},992:function(e,t,a){e.exports={FileList:"Style_FileList__1f1i0",lastCommitInfoBar:"Style_lastCommitInfoBar__22tJ6",committerName:"Style_committerName__1e06b",message:"Style_message__2Rcba",commitHash:"Style_commitHash__W1D2b",time:"Style_time__EWwEt"}},993:function(e,t,a){e.exports={Item:"Style_Item__2g1sr",icon:"Style_icon__l2WQZ",fileName:"Style_fileName__3gBA3",message:"Style_message__1quhb",time:"Style_time__3UXd6"}}}]);
//# sourceMappingURL=17.500597b2.chunk.js.map