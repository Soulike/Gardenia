(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[41],{1142:function(e,t,a){e.exports={Code:"Style_Code__2UKpz",description:"Style_description__Yt5nK",buttonWrapper:"Style_buttonWrapper__3GVKN",leftButtonWrapper:"Style_leftButtonWrapper__3I9h4",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__2ls3J"}},1219:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(5),s=a(12),i=a(14),c=a(36),u=a(35),l=a(37),p=a(0),m=a.n(p),h=(a(1140),a(1193)),d=(a(164),a(46)),y=a(1142),f=a.n(y),b=a(39),v=a(24),E=a(45),C=m.a.lazy((function(){return Promise.all([a.e(6),a.e(37)]).then(a.bind(null,1230))})),w=m.a.lazy((function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(19)]).then(a.bind(null,1202))})),g=m.a.lazy((function(){return Promise.all([a.e(0),a.e(42)]).then(a.bind(null,1226))})),x=m.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(25)]).then(a.bind(null,1227))})),_=m.a.lazy((function(){return a.e(27).then(a.bind(null,1228))})),j=m.a.lazy((function(){return a.e(38).then(a.bind(null,1212))}));var k=m.a.memo((function(e){var t=e.repository,a=t.username,n=t.name,r=t.description,o=e.branches,s=e.commitCount,i=e.isEmpty,c=e.objectType,u=e.loading,l="",p=!0,y=!1,k=void 0;try{for(var S,R=o[Symbol.iterator]();!(p=(S=R.next()).done);p=!0){var O=S.value,B=O.isDefault,P=O.name;B&&(l=P)}}catch(W){y=!0,k=W}finally{try{p||null==R.return||R.return()}finally{if(y)throw k}}return m.a.createElement("div",{className:f.a.Code},m.a.createElement(h.a,{active:!0,loading:u},m.a.createElement("div",{className:f.a.description},r),m.a.createElement(j,{commitCount:s,branches:o}),i?m.a.createElement(x,null):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:f.a.buttonWrapper},m.a.createElement("div",{className:f.a.leftButtonWrapper},m.a.createElement(C,{branches:o}),m.a.createElement("div",{className:f.a.newPullRequestButtonWrapper},m.a.createElement(v.b,{to:E.b.generateRepositoryCompareRoute({sourceRepositoryUsername:a,sourceRepositoryName:n,sourceRepositoryBranch:l,targetRepositoryBranch:l,repository:n,username:a})},m.a.createElement(d.a,null,"\u521b\u5efa Pull Request")))),m.a.createElement(g,{username:a,repository:n})),void 0===c||c===b.a.TREE?m.a.createElement(w,null):m.a.createElement(_,null))))})),S=a(139),R=a(120),O=a(321),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadRepository=Object(o.a)(r.a.mark((function e(){var t,n,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,n=t.username,o=t.repository,e.next=3,O.a.repository({username:n},{name:o});case 3:null!==(s=e.sent)&&a.setState({repository:s});case 5:case"end":return e.stop()}}),e)}))),a.loadCommitCount=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,o,s,i,c,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"master",n=a.props.match.params,o=n.username,s=n.repository,e.next=4,O.a.commitCount({username:o},{name:s},t);case 4:null!==(i=e.sent)&&(0===(c=i.commitCount)?a.setState({isEmpty:!0}):a.setState({commitCount:c}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.loadBranches=Object(o.a)(r.a.mark((function e(){var t,n,o,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,n=t.username,o=t.repository,e.next=3,O.a.branches({username:n,name:o});case 3:null!==(s=e.sent)&&(i=s.branches,a.setState({branches:i}));case 5:case"end":return e.stop()}}),e)}))),a.state={repository:new S.f("","","",!0),branches:[],commitCount:0,isEmpty:!1,loading:!0},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Promise.all([this.loadRepository(),this.loadCommitCount()]);case 3:if(this.state.isEmpty){e.next=7;break}return e.next=7,this.loadBranches();case 7:this.setState({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(r.a.mark((function e(t,a,n){var o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.match.params.branch,s=this.props.match.params.branch,o===s){e.next=7;break}return this.setState({loading:!0}),e.next=6,this.loadCommitCount(s);case 6:this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.branches,n=e.commitCount,r=e.isEmpty,o=e.loading,s=this.props.match.params.objectType;return m.a.createElement(k,{isEmpty:r,repository:t,commitCount:n,branches:a,objectType:s,loading:o})}}]),t}(p.PureComponent),P=Object(R.f)(B);a.d(t,"default",(function(){return P}))}}]);
//# sourceMappingURL=41.ed92d98b.chunk.js.map