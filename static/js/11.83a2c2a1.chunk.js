(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[11],{1130:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"USERNAME",(function(){return k})),n.d(a,"PASSWORD",(function(){return S})),n.d(a,"VERIFICATION_CODE",(function(){return P}));var r={};n.r(r),n.d(r,"NAME",(function(){return _}));var o={};n.r(o),n.d(o,"NICKNAME",(function(){return M})),n.d(o,"EMAIL",(function(){return I}));var i={};n.r(i),n.d(i,"NAME",(function(){return x}));var s={};n.r(s),n.d(s,"CODE",(function(){return R}));var c={};n.r(c),n.d(c,"username",(function(){return j})),n.d(c,"password",(function(){return A})),n.d(c,"verificationCode",(function(){return V}));var l={};n.r(l),n.d(l,"name",(function(){return D}));var u={};n.r(u),n.d(u,"nickname",(function(){return T})),n.d(u,"email",(function(){return L}));var d={};n.r(d),n.d(d,"name",(function(){return F}));var m={};n.r(m),n.d(m,"code",(function(){return W}));var p={};n.r(p),n.d(p,"Account",(function(){return c})),n.d(p,"Group",(function(){return l})),n.d(p,"Profile",(function(){return u})),n.d(p,"Repository",(function(){return d})),n.d(p,"Collaborator",(function(){return m}));var f={};n.r(f),n.d(f,"USERNAME",(function(){return U})),n.d(f,"PASSWORD",(function(){return z}));var h={};n.r(h),n.d(h,"NAME",(function(){return H}));var b={};n.r(b),n.d(b,"NICKNAME",(function(){return K}));var v={};n.r(v),n.d(v,"NAME",(function(){return B}));var y={};n.r(y),n.d(y,"Account",(function(){return f})),n.d(y,"Group",(function(){return h})),n.d(y,"Profile",(function(){return b})),n.d(y,"Repository",(function(){return v}));var g={};n.r(g),n.d(g,"USERNAME",(function(){return $})),n.d(g,"PASSWORD",(function(){return G})),n.d(g,"VERIFICATION_CODE",(function(){return q}));var C={};n.r(C),n.d(C,"NAME",(function(){return J}));var w={};n.r(w),n.d(w,"NICKNAME",(function(){return Z})),n.d(w,"EMAIL",(function(){return Y}));var E={};n.r(E),n.d(E,"NAME",(function(){return Q}));var O={};n.r(O),n.d(O,"CODE",(function(){return X}));var N={};n.r(N),n.d(N,"Account",(function(){return g})),n.d(N,"Group",(function(){return C})),n.d(N,"Profile",(function(){return w})),n.d(N,"Repository",(function(){return E})),n.d(N,"Collaborator",(function(){return O}));const k=/^\w{1,20}$/,S=/^\S{6,}$/,P=/^\d{6}$/;var _=/^\S{1,20}$/,M=/^\S{1,20}$/,I=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,x=/^\w{1,20}$/,R=/^\w+_\w+_\d+$/;function j(e){return a.USERNAME.test(e)}function A(e){return a.PASSWORD.test(e)}function V(e){return a.VERIFICATION_CODE.test(e)}function D(e){return r.NAME.test(e)}function T(e){return o.NICKNAME.test(e)}function L(e){return o.EMAIL.test(e)}function F(e){return i.NAME.test(e)}function W(e){return s.CODE.test(e)}var U="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",z="6 \u4f4d\u4ee5\u4e0a",H="1~20 \u4f4d",K="1~20 \u4f4d",B="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf";const $="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",G="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",q="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e";var J="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Z="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Y="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Q="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",X="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return N})),n.d(t,"c",(function(){return y}))},1131:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1133),i=n.n(o);t.a=r.a.memo((function(e){var t=e.children,n=e.required;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},n?" *":""))}))},1133:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1136:function(e,t,n){"use strict";var a=n(1131);n.d(t,"a",(function(){return a.a}))},1137:function(e,t,n){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},1138:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1137),i=n.n(o);var s=r.a.memo((function(e){var t=e.children;return r.a.createElement("h2",{className:i.a.SettingsTitle},t)}));n.d(t,"a",(function(){return s}))},1158:function(e,t,n){"use strict";n(519);var a=n(358),r=(n(517),n(350)),o=n(0),i=n.n(o),s=n(1167),c=n.n(s);var l=i.a.memo((function(e){var t=e.warning,n=e.validateText,o=e.password,s=e.validateInputPlaceholder,l=e.onValidateInputChange,u=e.onPasswordInputChange,d=e.visible,m=e.onOk,p=e.onCancel,f=e.title,h=e.confirmLoading;return i.a.createElement(a.a,{confirmLoading:h,title:f,className:c.a.CriticalOperationConfirmModal,visible:d,onOk:m,onCancel:p,destroyOnClose:!0},i.a.createElement("div",{className:c.a.content},i.a.createElement("div",{className:c.a.warningWrapper},t),i.a.createElement(r.a,{className:c.a.input,value:n,onChange:l,placeholder:s,autoFocus:!0}),i.a.createElement(r.a,{className:c.a.input,placeholder:"\u8d26\u6237\u5bc6\u7801",type:"password",value:o,onChange:u})))}));n.d(t,"a",(function(){return l}))},1159:function(e,t,n){"use strict";n(54),n(1160)},1160:function(e,t,n){},1161:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(0),r=n(1162),o=n.n(r),i=n(6),s=n.n(i),c=n(44),l=n(158),u=n.n(l),d=n(250),m=n(117),p=n(71),f=n(141);function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,C(t).call(this,e))).saveSwitch=function(e){n.rcSwitch=e},n.renderSwitch=function(e){var t=e.getPrefixCls,r=e.direction,i=n.props,l=i.prefixCls,m=i.size,p=i.loading,h=i.className,y=void 0===h?"":h,g=i.disabled,C=t("switch",l),w=p?a.createElement(u.a,{className:"".concat(C,"-loading-icon")}):null;return a.createElement(f.b.Consumer,null,(function(e){var t,i=s()(y,(v(t={},"".concat(C,"-small"),"small"===(m||e)),v(t,"".concat(C,"-loading"),p),v(t,"".concat(C,"-rtl"),"rtl"===r),t));return a.createElement(d.a,{insertExtraNode:!0},a.createElement(o.a,b({},Object(c.a)(n.props,["loading"]),{prefixCls:C,className:i,disabled:g||p,ref:n.saveSwitch,loadingIcon:w})))}))},Object(p.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return a.createElement(m.a,null,this.renderSwitch)}}])&&y(n.prototype,r),i&&y(n,i),t}(a.Component);E.__ANT_SWITCH=!0},1162:function(e,t,n){e.exports=n(1163)},1163:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),s=n(189);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n(6),b=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=d(t).call(this,e),n=!r||"object"!==typeof r&&"function"!==typeof r?p(a):r,f(p(p(n)),"handleClick",(function(e){var t=n.state.checked,a=n.props.onClick,r=!t;n.setChecked(r,e),a&&a(r,e)})),f(p(p(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),f(p(p(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),f(p(p(n)),"saveNode",(function(e){n.node=e}));var o=!1;return o="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:o},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,a=n.disabled,r=n.onChange;a||("checked"in this.props||this.setState({checked:e}),r&&r(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.prefixCls,o=t.disabled,i=t.loadingIcon,s=t.checkedChildren,u=t.unCheckedChildren,d=l(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),m=this.state.checked,p=h((f(e={},n,!!n),f(e,a,!0),f(e,"".concat(a,"-checked"),m),f(e,"".concat(a,"-disabled"),o),e));return r.a.createElement("button",c({},d,{type:"button",role:"switch","aria-checked":m,disabled:o,className:p,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),i,r.a.createElement("span",{className:"".concat(a,"-inner")},m?s:u))}}])&&u(n.prototype,a),o&&u(n,o),t}(a.Component);b.propTypes={className:i.a.string,prefixCls:i.a.string,disabled:i.a.bool,checkedChildren:i.a.any,unCheckedChildren:i.a.any,onChange:i.a.func,onMouseUp:i.a.func,onClick:i.a.func,tabIndex:i.a.number,checked:i.a.bool,defaultChecked:i.a.bool,autoFocus:i.a.bool,loadingIcon:i.a.node},b.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(s.polyfill)(b),t.default=b},1167:function(e,t,n){e.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1176:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},i=n(12),s=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};s.displayName="LockOutlined";t.a=r.a.forwardRef(s)},1180:function(e,t,n){"use strict";n(1135);var a=n(1134),r=n(0),o=n.n(r);var i=o.a.memo((function(e){var t=e.children;return o.a.createElement(a.a,{bordered:!0,split:!0},t)}));n.d(t,"a",(function(){return i}))},1182:function(e,t,n){"use strict";n(1135);var a=n(1134),r=(n(91),n(20)),o=n(0),i=n.n(o);var s=i.a.memo((function(e){var t=e.title,n=e.description,o=e.onButtonClick,s=e.buttonText;return i.a.createElement(a.a.Item,{extra:i.a.createElement(r.a,{type:"danger",onClick:o},s)},i.a.createElement(a.a.Item.Meta,{title:t,description:n}))}));n.d(t,"a",(function(){return s}))},1250:function(e,t,n){e.exports={Options:"Style_Options__1uo9K",itemWrapper:"Style_itemWrapper__2NFs3"}},1251:function(e,t,n){e.exports={RepositoryName:"Style_RepositoryName__3_t91",label:"Style_label__1U8rk",input:"Style_input__3WUY0"}},1252:function(e,t,n){e.exports={Description:"Style_Description__3jlHf",textarea:"Style_textarea__iH3Cp",buttonWrapper:"Style_buttonWrapper__g906C"}},1253:function(e,t,n){},1331:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(5),i=n(47),s=n(48),c=n(50),l=n(49),u=n(51),d=n(0),m=n.n(d),p=n(1250),f=n.n(p),h=n(1138),b=(n(80),n(34)),v=(n(356),n(157)),y=(n(91),n(20)),g=(n(351),n(164)),C=(n(517),n(350)),w=n(1251),E=n.n(w),O=n(1136),N=n(1130);function k(e,t){return 0===e.length||t}var S=m.a.memo((function(e){const{repositoryName:t,onRenameConfirm:n,onRepositoryNameInputChange:a,submitting:r}=e;return m.a.createElement("div",{className:E.a.RepositoryName},m.a.createElement("label",{className:E.a.label},m.a.createElement(O.a,null,"\u4ed3\u5e93\u540d"),m.a.createElement(g.a,{trigger:"focus",title:N.c.Repository.NAME},m.a.createElement(C.a,{className:E.a.input,value:t,onChange:a,disabled:r})),m.a.createElement(v.a,{title:"\u91cd\u547d\u540d\u4ed3\u5e93\u4f1a\u5bfc\u81f4\u539f\u4ed3\u5e93\u7f51\u5740\u4e0e\u514b\u9686\u8def\u5f84\u5931\u6548\uff0c\u786e\u5b9a\u7ee7\u7eed\uff1f",onConfirm:n,disabled:k(t,r)},m.a.createElement(y.a,{className:E.a.button,loading:r,disabled:k(t,r)},"\u91cd\u547d\u540d"))))})),P=n(139),_=n(25),M=n(354),I=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).onRepositoryNameInputChange=function(e){n.setState({repositoryName:e.target.value})},n.onRenameConfirm=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.validateParameters()){e.next=5;break}return n.setState({submitting:!0}),e.next=4,n.submit();case 4:n.setState({submitting:!1});case 5:case"end":return e.stop()}}),e)}))),n.validateParameters=function(){var e=n.state.repositoryName;return!!N.b.Repository.name(e)||(b.a.warn({message:N.a.Repository.NAME,description:N.c.Repository.NAME}),!1)},n.submit=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.repositoryName,a=n.props.match.params.repository,e.next=4,M.a.setName({name:a},{name:t});case 4:null!==e.sent&&n.onSubmitSuccess();case 6:case"end":return e.stop()}}),e)}))),n.onSubmitSuccess=function(){b.a.success({message:"\u4ed3\u5e93\u91cd\u547d\u540d\u6210\u529f"});var e=n.props.history,t=n.props.match.params.username,a=n.state.repositoryName;return e.replace(_.Function.generateRepositorySettingsOptionsRoute({username:t,repository:a}))};var a=e.match.params.repository;return n.state={repositoryName:a,submitting:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.repositoryName,n=e.submitting;return m.a.createElement(S,{repositoryName:t,onRenameConfirm:this.onRenameConfirm,onRepositoryNameInputChange:this.onRepositoryNameInputChange,submitting:n})}}]),t}(d.PureComponent),x=Object(P.f)(I),R=(n(121),n(60)),j=n(1252),A=n.n(j);var V=m.a.memo((function(e){const{description:t,onSubmit:n,onTextareaChange:a,loading:r,submitting:o}=e;return m.a.createElement("div",{className:A.a.Description},m.a.createElement("label",null,m.a.createElement(O.a,null,"\u4ed3\u5e93\u63cf\u8ff0"),m.a.createElement(R.a,{spinning:r},m.a.createElement(C.a.TextArea,{disabled:r||o,value:t,className:A.a.textarea,onChange:a}))),m.a.createElement("div",{className:A.a.buttonWrapper},m.a.createElement(y.a,{loading:o,disabled:r||o,className:A.a.button,onClick:n},"\u786e\u5b9a")))}));class D extends d.PureComponent{constructor(e){super(e),this.onTextareaChange=e=>{this.setState({description:e.target.value})},this.onSubmit=async()=>{const{description:e}=this.state,{match:{params:{repository:t}}}=this.props;this.setState({submitting:!0});const n=await M.a.setDescription({name:t,description:e});this.setState({submitting:!1}),null!==n&&b.a.success({message:"\u4ed3\u5e93\u63cf\u8ff0\u4fee\u6539\u6210\u529f"})},this.state={description:"",submitting:!1}}componentDidUpdate(e,t,n){const{repository:{description:a},loading:r}=this.props,{loading:o}=e;o&&r&&this.setState({description:a})}render(){const{loading:e}=this.props,{description:t,submitting:n}=this.state;return m.a.createElement(V,{submitting:n,loading:e,description:t,onTextareaChange:this.onTextareaChange,onSubmit:this.onSubmit})}}var T=Object(P.f)(D),L=(n(1159),n(1161)),F=n(1253),W=n.n(F),U=n(1158),z={name:"unlock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},H=n(12),K=function(e,t){return m.a.createElement(H.a,Object.assign({},e,{ref:t,icon:z}))};K.displayName="UnlockOutlined";var B=m.a.forwardRef(K),$=n(1176);var G=m.a.memo((function(e){const{loading:t,isPublic:n,onSwitchChange:a,modalRepositoryName:r,modalPassword:o,onModalRepositoryNameInputChange:i,onModalPasswordInputChange:s,modalVisible:c,onModalOk:l,onModalCancel:u}=e;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:W.a.AccessibilitySwitch},m.a.createElement(O.a,null,"\u662f\u5426\u516c\u5f00"),m.a.createElement(L.a,{loading:t,checked:n,disabled:t,onChange:a,checkedChildren:m.a.createElement(m.a.Fragment,null,m.a.createElement(B,null)," \u516c\u5f00"),unCheckedChildren:m.a.createElement(m.a.Fragment,null,m.a.createElement($.a,null)," \u79c1\u6709")})),m.a.createElement(U.a,{confirmLoading:t,title:"\u53ef\u89c1\u6027\u5207\u6362\u786e\u8ba4",warning:m.a.createElement("strong",null,"\u5c06\u4ed3\u5e93\u6539\u4e3a\u516c\u6709\u5c06\u4f1a\u8ba9",m.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4eba"),"\u770b\u5230\u4ed3\u5e93\u5185\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u540d",validateText:r,password:o,visible:c,onPasswordInputChange:s,onValidateInputChange:i,onOk:l,onCancel:u}))})),q=n(33),J=n(149);class Z extends d.PureComponent{constructor(e){super(e),this.onSwitchChange=async e=>{const{isPublic:t}=this.state;!t&&e?this.setState({modalVisible:!0}):t&&!e&&await this.setIsPublic(e)},this.onModalRepositoryNameInputChange=e=>{this.setState({modalRepositoryName:e.target.value})},this.onModalPasswordInputChange=e=>{this.setState({modalPassword:e.target.value})},this.onModalOk=async()=>{const{match:{params:{repository:e,username:t}}}=this.props,{modalRepositoryName:n,modalPassword:a,isPublic:r}=this.state;if(e!==n)b.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"});else{const e=J.a.calculateHash(t,a),n=await q.a.checkPassword({hash:e});if(null!==n){const{isCorrect:e}=n;e?(await this.setIsPublic(!r),this.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""})):b.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"})}}},this.onModalCancel=async()=>{this.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""})},this.setIsPublic=async e=>{const{match:{params:{repository:t}}}=this.props,{isPublic:n}=this.state;if(n!==e){this.setState({submitting:!0}),null!==await q.h.setIsPublic({name:t,isPublic:e})&&window.location.reload(),this.setState({submitting:!1})}},this.state={submitting:!1,isPublic:!0,modalRepositoryName:"",modalPassword:"",modalVisible:!1}}componentDidUpdate(e,t,n){const{repository:{isPublic:a},loading:r}=this.props,{loading:o}=e;o&&r&&this.setState({isPublic:a})}render(){const{submitting:e,isPublic:t,modalRepositoryName:n,modalPassword:a,modalVisible:r}=this.state,{loading:o}=this.props;return m.a.createElement(G,{loading:e||o,isPublic:t,modalRepositoryName:n,modalPassword:a,modalVisible:r,onSwitchChange:this.onSwitchChange,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}var Y=Object(P.f)(Z),Q=n(1182);var X=m.a.memo((function(e){var t=e.onButtonClick,n=e.modalRepositoryName,a=e.modalPassword,r=e.onModalRepositoryNameInputChange,o=e.onModalPasswordInputChange,i=e.onModalOk,s=e.onModalCancel,c=e.modalVisible,l=e.modalConfirmLoading;return m.a.createElement(m.a.Fragment,null,m.a.createElement(Q.a,{buttonText:"\u5220\u9664\u4ed3\u5e93",title:"\u5220\u9664\u4ed3\u5e93",description:"\u5220\u9664\u4ed3\u5e93\u7684\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u614e\u91cd\u3002",onButtonClick:t}),m.a.createElement(U.a,{warning:m.a.createElement("strong",null,"\u5982\u679c\u4ed3\u5e93\u88ab\u5220\u9664\uff0c\u60a8\u5c06\u4e22\u5931\u4ed3\u5e93\u7684\u6587\u4ef6\u3001\u63d0\u4ea4\u8bb0\u5f55\u7b49",m.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4fe1\u606f"),"\uff0c\u4e14\u5220\u9664\u6210\u529f\u540e\u6ca1\u6709\u6062\u590d\u7684\u53ef\u80fd\u3002\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u7684\u540d\u5b57",title:"\u5220\u9664\u4ed3\u5e93\u786e\u8ba4",validateText:n,password:a,onValidateInputChange:r,onPasswordInputChange:o,onOk:i,onCancel:s,visible:c,confirmLoading:l}))})),ee=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).onButtonClick=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modalRepositoryName:"",modalPassword:"",modalVisible:!0});case 1:case"end":return e.stop()}}),e)}))),n.onModalRepositoryNameInputChange=function(e){n.setState({modalRepositoryName:e.target.value})},n.onModalPasswordInputChange=function(e){n.setState({modalPassword:e.target.value})},n.onModalOk=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c,l,u,d,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.match.params,o=a.repository,i=a.username,s=t.history,c=n.state,l=c.modalRepositoryName,u=c.modalPassword,o===l){e.next=6;break}b.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=25;break;case 6:return d=J.a.calculateHash(i,u),n.setState({modalConfirmLoading:!0}),e.next=10,q.a.checkPassword({hash:d});case 10:if(null===(m=e.sent)){e.next=24;break}if(!m.isCorrect){e.next=23;break}return e.next=16,q.g.del({name:o});case 16:if(null===e.sent){e.next=21;break}return b.a.success({message:"\u4ed3\u5e93\u5220\u9664\u6210\u529f"}),n.setState({modalVisible:!1}),e.abrupt("return",s.replace(_.Function.generatePersonalCenterRoute({username:i})));case 21:e.next=24;break;case 23:b.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 24:n.setState({modalConfirmLoading:!1});case 25:case"end":return e.stop()}}),e)}))),n.onModalCancel=function(){n.setState({modalVisible:!1})},n.state={modalRepositoryName:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.modalConfirmLoading,n=e.modalVisible,a=e.modalPassword,r=e.modalRepositoryName;return m.a.createElement(X,{onButtonClick:this.onButtonClick,modalConfirmLoading:t,modalVisible:n,modalPassword:a,modalRepositoryName:r,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),t}(d.PureComponent),te=Object(P.f)(ee),ne=n(1180);var ae=m.a.memo((function(){return m.a.createElement(ne.a,null,m.a.createElement(te,null))}));var re=m.a.memo((function(e){const{repository:t,loading:n}=e;return m.a.createElement("div",{className:f.a.Options},m.a.createElement(h.a,null,"\u9009\u9879"),m.a.createElement("div",{className:f.a.itemWrapper},m.a.createElement(x,null)),m.a.createElement("div",{className:f.a.itemWrapper},m.a.createElement(Y,{repository:t,loading:n})),m.a.createElement("div",{className:f.a.itemWrapper},m.a.createElement(T,{repository:t,loading:n})),m.a.createElement(h.a,null,m.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533a")),m.a.createElement(ae,null))})),oe=n(104),ie=_.CONFIG.PAGE_ID,se=_.CONFIG.PAGE_ID_TO_ROUTE,ce=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).setStatePromise=Object(oe.promisify)(n.setState),n.loadRepository=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match.params,o=a.repository,i=a.username,s=t.history,e.next=3,M.a.repository({username:i},{name:o});case 3:if(null===(c=e.sent)){e.next=9;break}return e.next=7,n.setStatePromise({repository:c});case 7:e.next=10;break;case 9:return e.abrupt("return",s.replace(se[ie.NOT_FOUND]));case 10:case"end":return e.stop()}}),e)}))),n.state={repository:new J.h("","","",!0),loading:!0},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadRepository();case 4:return e.next=6,this.setStatePromise({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,n=e.loading;return m.a.createElement(re,{repository:t,loading:n})}}]),t}(d.PureComponent),le=Object(P.f)(ce);n.d(t,"default",(function(){return le}))}}]);
//# sourceMappingURL=11.83a2c2a1.chunk.js.map