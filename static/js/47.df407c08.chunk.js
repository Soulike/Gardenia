(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[47],{1279:function(e,t,a){e.exports={Code:"Style_Code__21-ZH",description:"Style_description__2MbQ1",buttonWrapper:"Style_buttonWrapper__12jZU",leftButtonWrapper:"Style_leftButtonWrapper__255ZA",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__1SU7q"}},1400:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return re}));var r=a(228),n=a(1),s=a.n(n),c=a(4),o=a(18),i=a(21),l=a(46),u=a(45),m=a(0),p=a.n(m),f=a(1279),d=a.n(f),h=a(32),v=a(6),y=a.n(v),b=a(5),x=a.n(b),g=a(82),N=a.n(g),E=a(7),C=a.n(E),w=function(e){var t=e.prefixCls,a=e.className,r=e.width,n=e.style;return m.createElement("h3",{className:C()(t,a),style:x()({width:r},n)})},k=a(140),P=a.n(k),j=function(e){var t=function(t){var a=e.width,r=e.rows,n=void 0===r?2:r;return Array.isArray(a)?a[t]:n-1===t?a:void 0},a=e.prefixCls,r=e.className,n=e.style,s=e.rows,c=P()(Array(s)).map((function(e,a){return m.createElement("li",{key:a,style:{width:t(a)}})}));return m.createElement("ul",{className:C()(a,r),style:n},c)},O=a(119),q=function(e){var t,a,r=e.prefixCls,n=e.className,s=e.style,c=e.size,o=e.shape,i=C()((t={},y()(t,"".concat(r,"-lg"),"large"===c),y()(t,"".concat(r,"-sm"),"small"===c),t)),l=C()((a={},y()(a,"".concat(r,"-circle"),"circle"===o),y()(a,"".concat(r,"-square"),"square"===o),y()(a,"".concat(r,"-round"),"round"===o),a)),u="number"===typeof c?{width:c,height:c,lineHeight:"".concat(c,"px")}:{};return m.createElement("span",{className:C()(r,i,l,n),style:x()(x()({},u),s)})},z=a(43),S=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,n=e.className,s=e.active,c=a("skeleton",r),o=Object(z.a)(e,["prefixCls"]),i=C()(c,"".concat(c,"-element"),y()({},"".concat(c,"-active"),s),n);return m.createElement("div",{className:i},m.createElement(q,x()({prefixCls:"".concat(c,"-avatar")},o)))};return m.createElement(O.a,null,t)};S.defaultProps={size:"default",shape:"circle"};var _=S,R=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,n=e.className,s=e.active,c=a("skeleton",r),o=Object(z.a)(e,["prefixCls"]),i=C()(c,"".concat(c,"-element"),y()({},"".concat(c,"-active"),s),n);return m.createElement("div",{className:i},m.createElement(q,x()({prefixCls:"".concat(c,"-button")},o)))};return m.createElement(O.a,null,t)};R.defaultProps={size:"default"};var B=R,W=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,n=e.className,s=e.active,c=a("skeleton",r),o=Object(z.a)(e,["prefixCls"]),i=C()(c,"".concat(c,"-element"),y()({},"".concat(c,"-active"),s),n);return m.createElement("div",{className:i},m.createElement(q,x()({prefixCls:"".concat(c,"-input")},o)))};return m.createElement(O.a,null,t)};W.defaultProps={size:"default"};var M=W,T=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,n=e.className,s=e.style,c=a("skeleton",r),o=C()(c,"".concat(c,"-element"),n);return m.createElement("div",{className:o},m.createElement("div",{className:C()("".concat(c,"-image"),n),style:s},m.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(c,"-image-svg")},m.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(c,"-image-path")}))))};return m.createElement(O.a,null,t)};function D(e){return e&&"object"===N()(e)?e:{}}var A=function(e){var t=function(t){var a=t.getPrefixCls,r=t.direction,n=e.prefixCls,s=e.loading,c=e.className,o=e.children,i=e.avatar,l=e.title,u=e.paragraph,p=e.active,f=e.round,d=a("skeleton",n);if(s||!("loading"in e)){var h,v,b,g=!!i,N=!!l,E=!!u;if(g){var k=x()(x()({prefixCls:"".concat(d,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(N,E)),D(i));v=m.createElement("div",{className:"".concat(d,"-header")},m.createElement(q,k))}if(N||E){var P,O;if(N){var z=x()(x()({prefixCls:"".concat(d,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(g,E)),D(l));P=m.createElement(w,z)}if(E){var S=x()(x()({prefixCls:"".concat(d,"-paragraph")},function(e,t){var a={};return e&&t||(a.width="61%"),a.rows=!e&&t?3:2,a}(g,N)),D(u));O=m.createElement(j,S)}b=m.createElement("div",{className:"".concat(d,"-content")},P,O)}var _=C()(d,(h={},y()(h,"".concat(d,"-with-avatar"),g),y()(h,"".concat(d,"-active"),p),y()(h,"".concat(d,"-rtl"),"rtl"===r),y()(h,"".concat(d,"-round"),f),h),c);return m.createElement("div",{className:_},v,b)}return o};return m.createElement(O.a,null,t)};A.defaultProps={avatar:!1,title:!0,paragraph:!0},A.Button=B,A.Avatar=_,A.Input=M,A.Image=T;var H=A,U=a(118),F=a(31),Z=a(73),I=p.a.lazy((function(){return a.e(33).then(a.bind(null,1438))})),J=p.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(18)]).then(a.bind(null,1403))})),Q=p.a.lazy((function(){return a.e(48).then(a.bind(null,1432))})),G=p.a.lazy((function(){return a.e(42).then(a.bind(null,1433))})),K=p.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(31),a.e(10)]).then(a.bind(null,1395))})),L=p.a.lazy((function(){return a.e(39).then(a.bind(null,1439))}));var V=p.a.memo((function(e){var t,a=e.repository,n=a.username,s=a.name,c=a.description,o=e.branches,i=e.tagNames,l=e.commitCount,u=e.objectType,m=e.loading,f="",v=Object(r.a)(o);try{for(v.s();!(t=v.n()).done;){var y=t.value,b=y.isDefault,x=y.name;b&&(f=x)}}catch(g){v.e(g)}finally{v.f()}return p.a.createElement("div",{className:d.a.Code},p.a.createElement(H,{active:!0,loading:m},p.a.createElement("div",{className:d.a.description},c),p.a.createElement(L,{commitCount:l,branches:o}),0===l?p.a.createElement(G,null):p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:d.a.buttonWrapper},p.a.createElement("div",{className:d.a.leftButtonWrapper},p.a.createElement(I,{branches:o,tagNames:i}),p.a.createElement("div",{className:d.a.newPullRequestButtonWrapper},p.a.createElement(F.b,{to:Z.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:n,sourceRepositoryName:s,sourceRepositoryBranch:f,targetRepositoryBranch:f,repositoryName:s,username:n})},p.a.createElement(U.a,null,"\u521b\u5efa Pull Request")))),p.a.createElement(Q,{username:n,repository:s})),void 0===u||u===h.b.TREE?p.a.createElement(J,null):p.a.createElement(K,null))))})),X=a(160),Y=a(72),$=a(349),ee=a(122),te=a(3),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setStatePromise=Object(ee.promisify)(n.setState),n.loadRepository=Object(c.a)(s.a.mark((function e(){var t,a,r,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match.params,r=a.username,c=a.repositoryName,o=t.history,e.next=3,$.a.repository({username:r},{name:c});case 3:if(null===(i=e.sent)){e.next=9;break}return e.next=7,n.setStatePromise({repository:i});case 7:e.next=10;break;case 9:return e.abrupt("return",o.replace(te.d[te.b.NOT_FOUND]));case 10:case"end":return e.stop()}}),e)}))),n.loadCommitCount=Object(c.a)(s.a.mark((function e(){var t,a,c,o,i,l,u,m,p,f,d,h,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,a=t.username,c=t.repositoryName,o=t.commitHash,i=n.state.branches,l="",!o){u=Object(r.a)(i);try{for(u.s();!(m=u.n()).done;)p=m.value,f=p.isDefault,d=p.name,f&&(l=d)}catch(s){u.e(s)}finally{u.f()}}return e.next=6,$.a.commitCount({username:a},{name:c},o||l);case 6:if(null===(h=e.sent)){e.next=11;break}return v=h.commitCount,e.next=11,n.setStatePromise({commitCount:v});case 11:case"end":return e.stop()}}),e)}))),n.loadBranches=Object(c.a)(s.a.mark((function e(){var t,a,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,a=t.username,r=t.repositoryName,e.next=3,$.a.branches({username:a,name:r});case 3:if(null===(c=e.sent)){e.next=8;break}return o=c.branches,e.next=8,n.setStatePromise({branches:o});case 8:case"end":return e.stop()}}),e)}))),n.loadTagNames=Object(c.a)(s.a.mark((function e(){var t,a,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,a=t.username,r=t.repositoryName,e.next=3,$.a.tagNames({username:a,name:r});case 3:if(null===(c=e.sent)){e.next=8;break}return o=c.tagNames,e.next=8,n.setStatePromise({tagNames:o});case 8:case"end":return e.stop()}}),e)}))),n.state={repository:new X.i("","","",!0),branches:[],tagNames:[],commitCount:0,loading:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadBranches();case 4:return e.next=6,Promise.all([this.loadRepository(),this.loadTagNames(),this.loadCommitCount()]);case 6:return e.next=8,this.setStatePromise({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(s.a.mark((function e(t,a,r){var n,c,o,i,l,u,m,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.match.params,c=n.username,o=n.repositoryName,i=n.commitHash,l=this.props.match.params,u=l.username,m=l.repositoryName,p=l.commitHash,c===u&&o===m){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=14;break;case 7:if(i===p){e.next=14;break}return e.next=10,this.setStatePromise({loading:!0});case 10:return e.next=12,this.loadCommitCount();case 12:return e.next=14,this.setStatePromise({loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.branches,r=e.commitCount,n=e.loading,s=e.tagNames,c=this.props.match.params.objectType;return p.a.createElement(V,{repository:t,commitCount:r,branches:a,tagNames:s,objectType:c,loading:n})}}]),a}(m.PureComponent),re=Object(Y.i)(ae)}}]);
//# sourceMappingURL=47.df407c08.chunk.js.map