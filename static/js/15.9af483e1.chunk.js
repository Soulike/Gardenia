(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[15],{1126:function(e,t,a){"use strict";var r=a(0),n=a(9),o=a.n(n),c=a(63),s=a(121);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var l=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},u=function(e){return r.createElement(s.a,null,(function(t){var a,n,c,s=t.getPrefixCls,u=e.prefixCls,p=e.className,m=e.hoverable,y=void 0===m||m,h=l(e,["prefixCls","className","hoverable"]),d=s("card",u),f=o()("".concat(d,"-grid"),p,(a={},n="".concat(d,"-grid-hoverable"),c=y,n in a?Object.defineProperty(a,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[n]=c,a));return r.createElement("div",i({},h,{className:f}))}))};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var m=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},y=function(e){return r.createElement(s.a,null,(function(t){var a=t.getPrefixCls,n=e.prefixCls,c=e.className,s=e.avatar,i=e.title,l=e.description,u=m(e,["prefixCls","className","avatar","title","description"]),y=a("card",n),h=o()("".concat(y,"-meta"),c),d=s?r.createElement("div",{className:"".concat(y,"-meta-avatar")},s):null,f=i?r.createElement("div",{className:"".concat(y,"-meta-title")},i):null,v=l?r.createElement("div",{className:"".concat(y,"-meta-description")},l):null,b=f||v?r.createElement("div",{className:"".concat(y,"-meta-detail")},f,v):null;return r.createElement("div",p({},u,{className:h}),d,b)}))},h=a(155),d=a(1282).a,f=a(1248).a,v=a(43);function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.d(t,"a",(function(){return _}));var j=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function w(e){return e.map((function(t,a){return r.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},r.createElement("span",null,t))}))}var _=function(e){function t(){var e;return E(this,t),(e=N(this,C(t).apply(this,arguments))).onTabChange=function(t){e.props.onTabChange&&e.props.onTabChange(t)},e.renderCard=function(t){var a,n,s,i=t.getPrefixCls,l=e.props,u=l.prefixCls,p=l.className,m=l.extra,y=l.headStyle,v=void 0===y?{}:y,b=l.bodyStyle,E=void 0===b?{}:b,O=l.title,N=l.loading,C=l.bordered,S=void 0===C||C,_=l.size,k=void 0===_?"default":_,x=l.type,B=l.cover,P=l.actions,T=l.tabList,W=l.children,D=l.activeTabKey,U=l.defaultActiveTabKey,M=l.tabBarExtraContent,I=j(l,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent"]),q=i("card",u),A=o()(q,p,(R(a={},"".concat(q,"-loading"),N),R(a,"".concat(q,"-bordered"),S),R(a,"".concat(q,"-hoverable"),e.getCompatibleHoverable()),R(a,"".concat(q,"-contain-grid"),e.isContainGrid()),R(a,"".concat(q,"-contain-tabs"),T&&T.length),R(a,"".concat(q,"-").concat(k),"default"!==k),R(a,"".concat(q,"-type-").concat(x),!!x),a)),F=0===E.padding||"0px"===E.padding?{padding:24}:void 0,H=r.createElement("div",{className:"".concat(q,"-loading-content"),style:F},r.createElement(d,{gutter:8},r.createElement(f,{span:22},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(d,{gutter:8},r.createElement(f,{span:8},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(f,{span:15},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(d,{gutter:8},r.createElement(f,{span:6},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(f,{span:18},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(d,{gutter:8},r.createElement(f,{span:13},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(f,{span:9},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(d,{gutter:8},r.createElement(f,{span:4},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(f,{span:3},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(f,{span:16},r.createElement("div",{className:"".concat(q,"-loading-block")})))),K=void 0!==D,z=(R(n={},K?"activeKey":"defaultActiveKey",K?D:U),R(n,"tabBarExtraContent",M),n),G=T&&T.length?r.createElement(h.a,g({},z,{className:"".concat(q,"-head-tabs"),size:"large",onChange:e.onTabChange}),T.map((function(e){return r.createElement(h.a.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(O||m||G)&&(s=r.createElement("div",{className:"".concat(q,"-head"),style:v},r.createElement("div",{className:"".concat(q,"-head-wrapper")},O&&r.createElement("div",{className:"".concat(q,"-head-title")},O),m&&r.createElement("div",{className:"".concat(q,"-extra")},m)),G));var L=B?r.createElement("div",{className:"".concat(q,"-cover")},B):null,Y=r.createElement("div",{className:"".concat(q,"-body"),style:E},N?H:W),J=P&&P.length?r.createElement("ul",{className:"".concat(q,"-actions")},w(P)):null,X=Object(c.a)(I,["onTabChange","noHovering","hoverable"]);return r.createElement("div",g({},X,{className:A}),s,L,Y,J)},e}var a,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),a=t,(n=[{key:"componentDidMount",value:function(){"noHovering"in this.props&&(Object(v.a)(!this.props.noHovering,"Card","`noHovering` is deprecated, you can remove it safely or use `hoverable` instead."),Object(v.a)(!!this.props.noHovering,"Card","`noHovering={false}` is deprecated, use `hoverable` instead."))}},{key:"getCompatibleHoverable",value:function(){var e=this.props,t=e.noHovering,a=e.hoverable;return"noHovering"in this.props?!t||a:!!a}},{key:"isContainGrid",value:function(){var e;return r.Children.forEach(this.props.children,(function(t){t&&t.type&&t.type===u&&(e=!0)})),e}},{key:"render",value:function(){return r.createElement(s.a,null,this.renderCard)}}])&&O(a.prototype,n),i&&O(a,i),t}(r.Component);_.Grid=u,_.Meta=y},1128:function(e,t,a){"use strict";a(62),a(1129),a(456),a(1125)},1129:function(e,t,a){},1137:function(e,t,a){e.exports={PageTitle:"Style_PageTitle__3R_vY"}},1139:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1137),c=a.n(o);var s=function(e){var t=e.children;return n.a.createElement("h1",{className:c.a.PageTitle},t)};a.d(t,"a",(function(){return s}))},1204:function(e,t,a){e.exports={Compare:"Style_Compare__1mDVF",detailWrapper:"Style_detailWrapper__1-wfW",detailTabs:"Style_detailTabs__L8UYT",pullRequestCommitsWrapper:"Style_pullRequestCommitsWrapper__3LPfG"}},1205:function(e,t,a){e.exports={CompareCard:"Style_CompareCard__2IST9",selectorWrapper:"Style_selectorWrapper__328Ap",repositoriesSelectorWrapper:"Style_repositoriesSelectorWrapper__2pIWR",isMergeableIndicatorWrapper:"Style_isMergeableIndicatorWrapper__2PXxA"}},1206:function(e,t,a){e.exports={RepositoriesSelector:"Style_RepositoriesSelector__17eFU",arrow:"Style_arrow__24B1h",target:"Style_target__21Y1o",source:"Style_source__GvP7D",targetRepositorySelectWrapper:"Style_targetRepositorySelectWrapper__3letX",sourceRepository:"Style_sourceRepository__1Uaey"}},1207:function(e,t,a){},1208:function(e,t,a){e.exports={CommentPoster:"Style_CommentPoster__PKPyi",contentWrapper:"Style_contentWrapper__1E6hF",content:"Style_content__3_2cW",tipWrapper:"Style_tipWrapper__2mBWC",previewWrapper:"Style_previewWrapper__1FsZA",buttonWrapper:"Style_buttonWrapper__1qKkZ"}},1250:function(e,t,a){"use strict";a.r(t);var r=a(20),n=a(21),o=a(40),c=a(39),s=a(41),i=a(0),l=a.n(i),u=(a(456),a(155)),p=(a(305),a(91)),m=a(1204),y=a.n(m),h=a(1139),d=(a(1128),a(1126)),f=(a(102),a(11)),v=a(1205),b=a.n(v),g=a(100),R=a(436),E=a(3),O=a.n(E),N=a(5),C=(a(1165),a(1160)),S=a(1206),j=a.n(S),w=a(118);var _=Object(w.f)(l.a.memo((function(e){var t=e.sourceRepositoryBranchNames,a=e.targetRepositoryBranchNames,r=e.onSourceRepositoryBranchSelectorChange,n=e.onTargetRepositoryBranchSelectorChange,o=e.loading,c=e.targetRepositories,s=e.onTargetRepositorySelectorChange,i=e.match.params,u=i.sourceRepositoryUsername,p=i.sourceRepositoryName,m=i.sourceRepositoryBranch,y=i.targetRepositoryBranch,h=i.username,d=i.repository;return l.a.createElement("div",{className:j.a.RepositoriesSelector},l.a.createElement("div",{className:j.a.target},l.a.createElement("div",{className:j.a.targetRepositorySelectWrapper},l.a.createElement(C.a,{loading:o,disabled:o,dropdownMatchSelectWidth:!1,onChange:s,value:"".concat(h,"/").concat(d)},c.map((function(e){var t=e.username,a=e.name;return l.a.createElement(C.a.Option,{value:"".concat(t,"/").concat(a),key:"".concat(t,"/").concat(a)},t," / ",a)})))),l.a.createElement(C.a,{loading:o,disabled:o,dropdownMatchSelectWidth:!1,onChange:n,value:y},a.map((function(e){return l.a.createElement(C.a.Option,{value:e,key:e},e)})))),l.a.createElement("div",{className:j.a.arrow},l.a.createElement(f.a,{type:"arrow-left"})),l.a.createElement("div",{className:j.a.source},l.a.createElement("div",{className:j.a.sourceRepository},u," / ",p),l.a.createElement(C.a,{loading:o,disabled:o,dropdownMatchSelectWidth:!1,onChange:r,value:m},t.map((function(e){return l.a.createElement(C.a.Option,{value:e,key:e},e)})))))}))),k=a(45),x=a(77),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadSourceRepositoryBranchNames=Object(N.a)(O.a.mark((function e(){var t,r,n,o,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o={username:r,name:n},e.next=4,x.g.branchNames(o);case 4:null!==(c=e.sent)&&(s=c.branchNames,a.setState({sourceRepositoryBranchNames:s}));case 6:case"end":return e.stop()}}),e)}))),a.loadTargetRepositories=Object(N.a)(O.a.mark((function e(){var t,r,n,o,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o={username:r,name:n},e.next=4,x.g.forkFrom(o);case 4:null!==(c=e.sent)&&(null!==(s=c.repository)?a.setState({targetRepositories:[s,o]}):a.setState({targetRepositories:[o]}));case 6:case"end":return e.stop()}}),e)}))),a.loadTargetRepositoryBranchNames=Object(N.a)(O.a.mark((function e(){var t,r,n,o,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.repository,n=t.username,o={username:n,name:r},e.next=4,x.g.branchNames(o);case 4:null!==(c=e.sent)&&(s=c.branchNames,a.setState({targetRepositoryBranchNames:s}));case 6:case"end":return e.stop()}}),e)}))),a.onTargetRepositorySelectorChange=function(e){var t=a.props,r=t.match.params,n=t.history,o=e.toString().split("/"),c=Object(R.a)(o,2),s=c[0],i=c[1];n.push(k.b.generateRepositoryCompareRoute(Object(g.a)({},r,{username:s,repository:i})))},a.onSourceRepositoryBranchSelectorChange=function(e){var t=a.props,r=t.match.params;t.history.push(k.b.generateRepositoryCompareRoute(Object(g.a)({},r,{sourceRepositoryBranch:e.toString()})))},a.onTargetRepositoryBranchSelectorChange=function(e){var t=a.props,r=t.match.params;t.history.push(k.b.generateRepositoryCompareRoute(Object(g.a)({},r,{targetRepositoryBranch:e.toString()})))},a.state={sourceRepositoryBranchNames:[],targetRepositoryBranchNames:[],targetRepositories:[],loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Promise.all([this.loadSourceRepositoryBranchNames(),this.loadTargetRepositories(),this.loadTargetRepositoryBranchNames()]);case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.sourceRepositoryBranchNames,a=e.targetRepositoryBranchNames,r=e.loading,n=e.targetRepositories;return l.a.createElement(_,{sourceRepositoryBranchNames:t,targetRepositoryBranchNames:a,loading:r,targetRepositories:n,onTargetRepositorySelectorChange:this.onTargetRepositorySelectorChange,onSourceRepositoryBranchSelectorChange:this.onSourceRepositoryBranchSelectorChange,onTargetRepositoryBranchSelectorChange:this.onTargetRepositoryBranchSelectorChange})}}]),t}(i.PureComponent),P=Object(w.f)(B),T=(a(457),a(190)),W=a(1207),D=a.n(W);var U=l.a.memo((function(e){var t=e.isMergeable,a=e.loading;return l.a.createElement("div",{className:D.a.IsMergeableIndicator},a?l.a.createElement(T.a,{showIcon:!0,icon:l.a.createElement(f.a,{type:"loading"}),type:"info",message:"\u6b63\u5728\u68c0\u67e5\u662f\u5426\u53ef\u81ea\u52a8\u5408\u5e76"}):t?l.a.createElement(T.a,{showIcon:!0,type:"success",message:"\u53ef\u4ee5\u81ea\u52a8\u5408\u5e76"}):l.a.createElement(T.a,{showIcon:!0,type:"error",message:"\u4e0d\u80fd\u81ea\u52a8\u5408\u5e76\uff0c\u4f46\u60a8\u4ecd\u53ef\u521b\u5efa Pull Request"}))})),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadIsMergeable=Object(N.a)(O.a.mark((function e(){var t,r,n,o,c,s,i,l,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.username,n=t.repository,o=t.targetRepositoryBranch,c=t.sourceRepositoryUsername,s=t.sourceRepositoryName,i=t.sourceRepositoryBranch,e.next=3,x.f.isMergeable({username:c,name:s},i,{username:r,name:n},o);case 3:null!==(l=e.sent)&&(u=l.isMergeable,a.setState({isMergeable:u}));case 5:case"end":return e.stop()}}),e)}))),a.state={isMergeable:!0,loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadIsMergeable();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(N.a)(O.a.mark((function e(t,a,r){var n,o,c,s,i,l,u,p,m,y,h,d,f,v;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.match.params,o=n.username,c=n.repository,s=n.targetRepositoryBranch,i=n.sourceRepositoryUsername,l=n.sourceRepositoryName,u=n.sourceRepositoryBranch,p=t.match.params,m=p.username,y=p.repository,h=p.targetRepositoryBranch,d=p.sourceRepositoryUsername,f=p.sourceRepositoryName,v=p.sourceRepositoryBranch,o===m&&c===y&&s===h&&i===d&&l===f&&u===v){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isMergeable,a=e.loading;return l.a.createElement(U,{isMergeable:t,loading:a})}}]),t}(i.PureComponent),I=Object(w.f)(M);var q=Object(w.f)(l.a.memo((function(e){var t=e.match.params,a=t.sourceRepositoryUsername,r=t.sourceRepositoryName,n=t.sourceRepositoryBranch,o=t.username,c=t.repository,s=t.targetRepositoryBranch,i=a===o&&r===c&&n===s;return l.a.createElement(d.a,{size:"small"},l.a.createElement("div",{className:b.a.CompareCard},l.a.createElement("div",{className:b.a.selectorWrapper},l.a.createElement("div",{className:b.a.iconWrapper},l.a.createElement(f.a,{type:"pull-request"})),l.a.createElement("div",{className:b.a.repositoriesSelectorWrapper},l.a.createElement(P,null))),i?null:l.a.createElement("div",{className:b.a.isMergeableIndicatorWrapper},l.a.createElement(I,null))))}))),A=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return l.a.createElement(q,null)}}]),t}(i.PureComponent),F=(a(78),a(7)),H=(a(153),a(46)),K=(a(1130),a(1131)),z=a(1208),G=a.n(z),L=a(316);var Y=l.a.memo((function(e){var t=e.title,a=e.onTitleChange,r=e.content,n=e.onContentChange,o=e.onTabChange,c=e.contentToPreview,s=e.submitting,i=e.onSubmitButtonClick;return l.a.createElement(d.a,{size:"small"},l.a.createElement("div",{className:G.a.CommentPoster},l.a.createElement("div",{className:G.a.titleWrapper},l.a.createElement(K.a,{placeholder:"\u6807\u9898\uff08\u5fc5\u586b\uff09",size:"large",autoFocus:!0,value:t,onChange:a,disabled:s})),l.a.createElement("div",{className:G.a.contentWrapper},l.a.createElement(u.a,{defaultActiveKey:"write",type:"card",onChange:o},l.a.createElement(u.a.TabPane,{key:"write",tab:"\u7f16\u8f91"},l.a.createElement(K.a.TextArea,{placeholder:"\u8865\u5145\u8bf4\u660e\uff08\u9009\u586b\uff09",disabled:s,className:G.a.content,value:r,onChange:n}),l.a.createElement("div",{className:G.a.tipWrapper},l.a.createElement(T.a,{type:"info",message:"\u8865\u5145\u8bf4\u660e\u652f\u6301 Markdown \u8bed\u6cd5\u3002",showIcon:!0}))),l.a.createElement(u.a.TabPane,{key:"preview",tab:"\u9884\u89c8"},l.a.createElement("div",{className:G.a.previewWrapper},l.a.createElement(L.a,{markdown:c}))))),l.a.createElement("div",{className:G.a.buttonWrapper},l.a.createElement(H.a,{loading:s,disabled:s,size:"large",type:"primary",onClick:i},"\u521b\u5efa Pull Request"))))})),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).onTitleChange=function(e){a.setState({title:e.target.value})},a.onContentChange=function(e){a.setState({content:e.target.value})},a.onTabChange=function(e){if("preview"===e){var t=a.state.content;a.setState({contentToPreview:t})}},a.onSubmitButtonClick=Object(N.a)(O.a.mark((function e(){var t,r,n,o,c,s,i,l,u,p,m,y;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,r=t.title,n=t.content,0!==r.length){e.next=5;break}F.a.warn({message:"\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"}),e.next=12;break;case 5:return o=a.props,c=o.history,s=o.match.params,i=s.sourceRepositoryUsername,l=s.sourceRepositoryName,u=s.sourceRepositoryBranch,p=s.repository,m=s.username,y=s.targetRepositoryBranch,a.setState({submitting:!0}),e.next=9,x.e.add({title:r,content:n,sourceRepositoryUsername:i,sourceRepositoryName:l,sourceRepositoryBranchName:u,targetRepositoryUsername:m,targetRepositoryName:p,targetRepositoryBranchName:y});case 9:null!==e.sent&&(F.a.success({message:"\u521b\u5efa Pull Request \u6210\u529f"}),setTimeout((function(){c.replace(k.b.generateRepositoryPullRequestsRoute({username:m,repository:p}))}),1e3)),a.setState({submitting:!1});case 12:case"end":return e.stop()}}),e)}))),a.state={title:"",content:"",contentToPreview:"",submitting:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.content,r=e.contentToPreview,n=e.submitting;return l.a.createElement(Y,{title:t,content:a,contentToPreview:r,onTitleChange:this.onTitleChange,onContentChange:this.onContentChange,onTabChange:this.onTabChange,submitting:n,onSubmitButtonClick:this.onSubmitButtonClick})}}]),t}(i.PureComponent),X=Object(w.f)(J),Z=(a(154),a(90)),V=a(314);var Q=l.a.memo((function(e){var t=e.commits,a=e.loading;return l.a.createElement("div",null,l.a.createElement(Z.a,{spinning:a},l.a.createElement(V.a,{commits:t})))})),$=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadCommits=Object(N.a)(O.a.mark((function e(){var t,r,n,o,c,s,i,l,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o=t.sourceRepositoryBranch,c=t.username,s=t.repository,i=t.targetRepositoryBranch,e.next=3,x.g.forkCommitHistory({username:r,name:n},o,{username:c,name:s},i);case 3:null!==(l=e.sent)&&(u=l.commits,a.setState({commits:u}));case 5:case"end":return e.stop()}}),e)}))),a.state={commits:[],loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadCommits();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(N.a)(O.a.mark((function e(t,a,r){var n,o,c,s,i,l,u,p,m,y,h,d,f,v;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.match.params,o=n.username,c=n.repository,s=n.targetRepositoryBranch,i=n.sourceRepositoryUsername,l=n.sourceRepositoryName,u=n.sourceRepositoryBranch,p=t.match.params,m=p.username,y=p.repository,h=p.targetRepositoryBranch,d=p.sourceRepositoryUsername,f=p.sourceRepositoryName,v=p.sourceRepositoryBranch,o===m&&c===y&&s===h&&i===d&&l===f&&u===v){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.commits,a=e.loading;return l.a.createElement(Q,{commits:t,loading:a})}}]),t}(i.PureComponent),ee=Object(w.f)($),te=a(312);var ae=l.a.memo((function(e){var t=e.fileDiffs,a=e.loading;return l.a.createElement("div",null,l.a.createElement(Z.a,{spinning:a},l.a.createElement(te.a,{fileDiffs:t})))})),re=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadFileDiffs=Object(N.a)(O.a.mark((function e(){var t,r,n,o,c,s,i,l,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o=t.sourceRepositoryBranch,c=t.username,s=t.repository,i=t.targetRepositoryBranch,e.next=3,x.g.forkFileDiff({username:r,name:n},o,{username:c,name:s},i);case 3:null!==(l=e.sent)&&(u=l.fileDiffs,a.setState({fileDiffs:u}));case 5:case"end":return e.stop()}}),e)}))),a.state={fileDiffs:[],loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadFileDiffs();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(N.a)(O.a.mark((function e(t,a,r){var n,o,c,s,i,l,u,p,m,y,h,d,f,v;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.match.params,o=n.username,c=n.repository,s=n.targetRepositoryBranch,i=n.sourceRepositoryUsername,l=n.sourceRepositoryName,u=n.sourceRepositoryBranch,p=t.match.params,m=p.username,y=p.repository,h=p.targetRepositoryBranch,d=p.sourceRepositoryUsername,f=p.sourceRepositoryName,v=p.sourceRepositoryBranch,o===m&&c===y&&s===h&&i===d&&l===f&&u===v){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fileDiffs,a=e.loading;return l.a.createElement(ae,{fileDiffs:t,loading:a})}}]),t}(i.PureComponent),ne=Object(w.f)(re);var oe=Object(w.f)(l.a.memo((function(e){var t=e.match.params,a=t.sourceRepositoryUsername,r=t.sourceRepositoryName,n=t.sourceRepositoryBranch,o=t.username,c=t.repository,s=t.targetRepositoryBranch,i=a===o&&r===c&&n===s;return l.a.createElement("div",{className:y.a.Compare},l.a.createElement(h.a,null,"\u521b\u5efa Pull Request"),l.a.createElement("div",{className:y.a.compareCardWrapper},l.a.createElement(A,null)),l.a.createElement("div",{className:y.a.detailWrapper},i?l.a.createElement(p.a,{description:"\u5fc5\u987b\u662f\u4e0d\u540c\u5206\u652f\u624d\u53ef\u521b\u5efa Pull Request"}):l.a.createElement("div",{className:y.a.detail},l.a.createElement("div",{className:y.a.commentPosterWrapper},l.a.createElement(X,null)),l.a.createElement("div",{className:y.a.detailTabs},l.a.createElement(u.a,{defaultActiveKey:"commits",type:"card"},l.a.createElement(u.a.TabPane,{tab:"\u63d0\u4ea4",key:"commits"},l.a.createElement("div",{className:y.a.pullRequestCommitsWrapper},l.a.createElement(ee,null))),l.a.createElement(u.a.TabPane,{tab:"\u4fee\u6539\u7684\u6587\u4ef6",key:"fileChanged"},l.a.createElement("div",{className:y.a.pullRequestFileDiffsWrapper},l.a.createElement(ne,null))))))))}))),ce=k.a.PAGE_ID_TO_ROUTE,se=k.a.PAGE_ID,ie=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).checkURLParameters=function(){var e=a.props,t=e.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o=t.sourceRepositoryBranch,c=t.targetRepositoryBranch,s=e.history;void 0!==r&&void 0!==n&&void 0!==o&&void 0!==c||s.replace(ce[se.NOT_FOUND])},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.checkURLParameters()}},{key:"render",value:function(){return l.a.createElement(oe,null)}}]),t}(i.PureComponent),le=Object(w.f)(ie);a.d(t,"default",(function(){return le}))}}]);
//# sourceMappingURL=15.9af483e1.chunk.js.map