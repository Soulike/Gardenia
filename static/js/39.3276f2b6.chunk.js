(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[39],{1193:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s={name:"home",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]}},i=n(12),c=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:s}))};c.displayName="HomeOutlined";t.a=r.a.forwardRef(c)},1275:function(e,t,n){e.exports={Settings:"Style_Settings__1_D_n",menuWrapper:"Style_menuWrapper__3Nc6L",contentWrapper:"Style_contentWrapper__15Ahb"}},1363:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),s=n(7),i=n(341),c=n(342),u=n(344),o=n(343),m=n(345),p=n(0),l=n.n(p),h=(n(126),n(65)),f=(n(264),n(55)),d=n(1275),v=n.n(d),b=n(15);var I=l.a.memo((function(e){var t=e.children,n=e.menuItems,a=e.activeItemKey,r=e.loading;return l.a.createElement(h.a,{spinning:r},l.a.createElement("div",{className:v.a.Settings},l.a.createElement("div",{className:v.a.menuWrapper},l.a.createElement(f.a,{className:v.a.menu,selectedKeys:[a],mode:"inline"},n.map((function(e){var t=e.key,n=e.to,a=e.title,r=e.icon;return l.a.createElement(f.a.Item,{key:t,className:v.a.item},l.a.createElement(b.b,{to:n},r,a))})))),l.a.createElement("div",{className:v.a.contentWrapper},t)))})),O=n(30),k=n(1108),x=n(1193),S=n(346),y=n(39),E=O.CONFIG.PAGE_ID,g=O.CONFIG.PAGE_ID_TO_ROUTE,P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).setStatePromise=Object(S.promisify)(n.setState),n.initMenuItems=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,n.setStatePromise({menuItems:[{icon:l.a.createElement(k.a,null),title:"\u8bbe\u7f6e",key:E.GROUP.SETTINGS.OPTIONS,to:O.Function.generateGroupSettingsRoute({id:t})},{icon:l.a.createElement(x.a,null),title:"\u4ed3\u5e93\u7ba1\u7406",key:E.GROUP.SETTINGS.REPOSITORIES,to:O.Function.generateGroupSettingsRepositoriesRoute({id:t})}]});case 3:case"end":return e.stop()}}),e)}))),n.isAdmin=Object(s.a)(r.a.mark((function e(){var t,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,e.next=3,y.c.isAdmin({id:Number.parseInt(t)});case 3:if(null===(a=e.sent)){e.next=9;break}return s=a.isAdmin,e.abrupt("return",s);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),n.setActiveMenuItemKey=Object(s.a)(r.a.mark((function e(){var t,a,s,i,c,u,o,m,p,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.location.pathname,a=n.state.menuItems,s=!0,i=!1,c=void 0,e.prev=5,u=a[Symbol.iterator]();case 7:if(s=(o=u.next()).done){e.next=16;break}if(m=o.value,p=m.to,l=m.key,p!==t){e.next=13;break}return e.next=12,n.setStatePromise({activeItemKey:l});case 12:return e.abrupt("break",16);case 13:s=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),i=!0,c=e.t0;case 22:e.prev=22,e.prev=23,s||null==u.return||u.return();case 25:if(e.prev=25,!i){e.next=28;break}throw c;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}}),e,null,[[5,18,22,30],[23,,25,29]])}))),n.state={menuItems:[],activeItemKey:E.REPOSITORY.SETTINGS.OPTIONS,loading:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.isAdmin();case 4:return t=e.sent,e.next=7,this.setStatePromise({loading:!1});case 7:if(!t){e.next=12;break}return e.next=10,Promise.all([this.initMenuItems(),this.setActiveMenuItemKey()]);case 10:e.next=14;break;case 12:this.props.history.replace(g[E.GROUP.REPOSITORIES]);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(s.a)(r.a.mark((function e(t,n,a){var s,i,c,u,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.match,i=s.path,c=s.params.id,u=this.props.match,o=u.path,u.params.id===c){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=10;break;case 7:if(i===o){e.next=10;break}return e.next=10,this.setActiveMenuItemKey();case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.activeItemKey,a=t.menuItems,r=t.loading;return l.a.createElement(I,{loading:r,menuItems:a,activeItemKey:n},e)}}]),t}(p.PureComponent);n.d(t,"default",(function(){return P}))}}]);
//# sourceMappingURL=39.3276f2b6.chunk.js.map