(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[14],{648:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(650),a=n.n(i);t.a=o.a.memo((function(e){const{children:t,required:n}=e;return o.a.createElement("div",{className:a.a.InputLabel},t,o.a.createElement("span",{className:a.a.requiredSign},n?" *":""))}))},649:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"USERNAME",(function(){return N})),n.d(r,"PASSWORD",(function(){return O})),n.d(r,"VERIFICATION_CODE",(function(){return _}));var o={};n.r(o),n.d(o,"NAME",(function(){return I}));var i={};n.r(i),n.d(i,"NICKNAME",(function(){return P})),n.d(i,"EMAIL",(function(){return A}));var a={};n.r(a),n.d(a,"NAME",(function(){return M}));var c={};n.r(c),n.d(c,"CODE",(function(){return j}));var u={};n.r(u),n.d(u,"username",(function(){return R})),n.d(u,"password",(function(){return D})),n.d(u,"verificationCode",(function(){return x}));var s={};n.r(s),n.d(s,"name",(function(){return T}));var l={};n.r(l),n.d(l,"nickname",(function(){return F})),n.d(l,"email",(function(){return U}));var f={};n.r(f),n.d(f,"name",(function(){return K}));var d={};n.r(d),n.d(d,"code",(function(){return $}));var p={};n.r(p),n.d(p,"Account",(function(){return u})),n.d(p,"Group",(function(){return s})),n.d(p,"Profile",(function(){return l})),n.d(p,"Repository",(function(){return f})),n.d(p,"Collaborator",(function(){return d}));var h={};n.r(h),n.d(h,"USERNAME",(function(){return L})),n.d(h,"PASSWORD",(function(){return W}));var m={};n.r(m),n.d(m,"NAME",(function(){return q}));var b={};n.r(b),n.d(b,"NICKNAME",(function(){return z}));var y={};n.r(y),n.d(y,"NAME",(function(){return B}));var v={};n.r(v),n.d(v,"Account",(function(){return h})),n.d(v,"Group",(function(){return m})),n.d(v,"Profile",(function(){return b})),n.d(v,"Repository",(function(){return y}));var g={};n.r(g),n.d(g,"USERNAME",(function(){return V})),n.d(g,"PASSWORD",(function(){return G})),n.d(g,"VERIFICATION_CODE",(function(){return J}));var C={};n.r(C),n.d(C,"NAME",(function(){return Z}));var E={};n.r(E),n.d(E,"NICKNAME",(function(){return H})),n.d(E,"EMAIL",(function(){return X}));var S={};n.r(S),n.d(S,"NAME",(function(){return Y}));var k={};n.r(k),n.d(k,"CODE",(function(){return Q}));var w={};n.r(w),n.d(w,"Account",(function(){return g})),n.d(w,"Group",(function(){return C})),n.d(w,"Profile",(function(){return E})),n.d(w,"Repository",(function(){return S})),n.d(w,"Collaborator",(function(){return k}));const N=/^\w{1,20}$/,O=/^\S{6,}$/,_=/^\d{6}$/,I=/^\S{1,20}$/,P=/^\S{1,20}$/,A=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,M=/^\w{1,20}$/,j=/^\w+_\w+_\d+$/;function R(e){return r.USERNAME.test(e)}function D(e){return r.PASSWORD.test(e)}function x(e){return r.VERIFICATION_CODE.test(e)}function T(e){return o.NAME.test(e)}function F(e){return i.NICKNAME.test(e)}function U(e){return i.EMAIL.test(e)}function K(e){return a.NAME.test(e)}function $(e){return c.CODE.test(e)}const L="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",W="6 \u4f4d\u4ee5\u4e0a",q="1~20 \u4f4d",z="1~20 \u4f4d",B="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",V="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",G="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",J="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e",Z="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",H="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",X="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Y="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Q="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return v}))},650:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},654:function(e,t,n){e.exports={PageTitle:"Style_PageTitle__3R_vY"}},655:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(654),a=n.n(i);var c=function(e){const{children:t}=e;return o.a.createElement("h1",{className:a.a.PageTitle},t)};n.d(t,"a",(function(){return c}))},667:function(e,t,n){"use strict";n(27),n(668)},668:function(e,t,n){},669:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(0),o=n(670),i=n.n(o),a=n(3),c=n.n(a),u=n(25),s=n(88),l=n.n(s),f=n(142),d=n(62),p=n(34),h=n(75);function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,C(t).call(this,e))).saveSwitch=function(e){n.rcSwitch=e},n.renderSwitch=function(e){var t=e.getPrefixCls,o=e.direction,a=n.props,s=a.prefixCls,d=a.size,p=a.loading,m=a.className,v=void 0===m?"":m,g=a.disabled,C=t("switch",s),E=p?r.createElement(l.a,{className:"".concat(C,"-loading-icon")}):null;return r.createElement(h.b.Consumer,null,(function(e){var t,a=c()(v,(y(t={},"".concat(C,"-small"),"small"===(d||e)),y(t,"".concat(C,"-loading"),p),y(t,"".concat(C,"-rtl"),"rtl"===o),t));return r.createElement(f.a,{insertExtraNode:!0},r.createElement(i.a,b({},Object(u.a)(n.props,["loading"]),{prefixCls:C,className:a,disabled:g||p,ref:n.saveSwitch,loadingIcon:E})))}))},Object(p.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return r.createElement(d.a,null,this.renderSwitch)}}])&&v(n.prototype,o),a&&v(n,a),t}(r.Component);S.__ANT_SWITCH=!0},670:function(e,t,n){e.exports=n(671)},671:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(2),a=n.n(i),c=n(119);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(3),b=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=f(t).call(this,e),n=!o||"object"!==typeof o&&"function"!==typeof o?p(r):o,h(p(p(n)),"handleClick",(function(e){var t=n.state.checked,r=n.props.onClick,o=!t;n.setChecked(o,e),r&&r(o,e)})),h(p(p(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),h(p(p(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),h(p(p(n)),"saveNode",(function(e){n.node=e}));var i=!1;return i="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:i},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,r=n.disabled,o=n.onChange;r||("checked"in this.props||this.setState({checked:e}),o&&o(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.prefixCls,i=t.disabled,a=t.loadingIcon,c=t.checkedChildren,l=t.unCheckedChildren,f=s(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),d=this.state.checked,p=m((h(e={},n,!!n),h(e,r,!0),h(e,"".concat(r,"-checked"),d),h(e,"".concat(r,"-disabled"),i),e));return o.a.createElement("button",u({},f,{type:"button",role:"switch","aria-checked":d,disabled:i,className:p,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),a,o.a.createElement("span",{className:"".concat(r,"-inner")},d?c:l))}}])&&l(n.prototype,r),i&&l(n,i),t}(r.Component);b.propTypes={className:a.a.string,prefixCls:a.a.string,disabled:a.a.bool,checkedChildren:a.a.any,unCheckedChildren:a.a.any,onChange:a.a.func,onMouseUp:a.a.func,onClick:a.a.func,tabIndex:a.a.number,checked:a.a.bool,defaultChecked:a.a.bool,autoFocus:a.a.bool,loadingIcon:a.a.node},b.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(c.polyfill)(b),t.default=b},709:function(e,t,n){e.exports={CreateRepository:"Style_CreateRepository__2Mw5u",label:"Style_label__3gZrW",submitButton:"Style_submitButton__3gaVe",inlineDescription:"Style_inlineDescription__2_j5X"}},803:function(e,t,n){"use strict";n.r(t);n(52);var r=n(22),o=n(0),i=n.n(o),a=(n(51),n(14)),c=(n(667),n(669)),u=(n(212),n(96)),s=(n(323),n(209)),l=n(709),f=n.n(l),d=n(649),p=n(655),h=n(648);var m=i.a.memo((function(e){const{username:t,name:n,description:r,isPublic:o,onNameInputChange:l,onDescriptionInputChange:m,onIsPublicSwitchChange:b,onSubmit:y,submitting:v,loading:g}=e;return i.a.createElement("div",{className:f.a.CreateRepository},i.a.createElement(p.a,null,"\u521b\u5efa\u65b0\u4ed3\u5e93"),i.a.createElement("form",{action:"#",className:f.a.form,onSubmit:y},i.a.createElement("label",{className:f.a.label},i.a.createElement(h.a,{required:!0},"\u4ed3\u5e93\u540d"),i.a.createElement(u.a,{trigger:"focus",title:d.c.Repository.NAME},i.a.createElement(s.a,{addonBefore:i.a.createElement("div",null,t," /"),autoFocus:!0,value:n,onChange:l,disabled:g}))),i.a.createElement("label",{className:f.a.label},i.a.createElement(h.a,null,"\u63cf\u8ff0"),i.a.createElement(s.a,{value:r,onChange:m,disabled:g})),i.a.createElement("label",{className:f.a.label},i.a.createElement(h.a,null,"\u516c\u5f00"),i.a.createElement(c.a,{checked:o,onChange:b,disabled:g}),i.a.createElement("div",{className:f.a.inlineDescription},o?"\u6240\u6709\u4eba\u90fd\u80fd\u770b\u5230\u8be5\u4ed3\u5e93":"\u53ea\u6709\u4f60\u548c\u4ed3\u5e93\u5408\u4f5c\u8005\u80fd\u770b\u5230\u8be5\u4ed3\u5e93")),i.a.createElement(a.a,{htmlType:"submit",type:"primary",block:!0,className:f.a.submitButton,loading:v,disabled:v||g},"\u521b\u5efa\u4ed3\u5e93")))})),b=n(223),y=n(23),v=n(76),g=n(20),C=n(134);class E extends o.PureComponent{constructor(e){super(e),this.setTitle=()=>{document.title="\u521b\u5efa\u4ed3\u5e93 - ".concat(C.a.NAME)},this.loadUsername=async()=>{const e=await b.a.get();if(null!==e){const{username:t}=e;this.setState({username:t})}},this.onNameInputChange=e=>{this.setState({name:e.target.value})},this.onDescriptionInputChange=e=>{this.setState({description:e.target.value})},this.onIsPublicSwitchChange=e=>{this.setState({isPublic:e})},this.onSubmit=async e=>{e.preventDefault(),this.validateFormInput()&&await this.submitForm()},this.validateFormInput=()=>{const{name:e}=this.state;return!!d.b.Repository.name(e)||(r.a.warn({message:d.a.Repository.NAME,description:d.c.Repository.NAME}),!1)},this.submitForm=async()=>{const{username:e,name:t,description:n,isPublic:o}=this.state;this.setState({submitting:!0});const i=await y.g.create({name:t,description:n,isPublic:o});if(this.setState({submitting:!1}),null!==i){const{history:n}=this.props;r.a.success({message:"\u4ed3\u5e93\u521b\u5efa\u6210\u529f"}),n.push(g.Function.generateRepositoryCodeRoute({username:e,repository:t}))}},this.state={username:"",name:"",description:"",isPublic:!0,submitting:!1,loading:!0}}async componentDidMount(){this.setTitle(),this.setState({loading:!0}),await this.loadUsername(),this.setState({loading:!1})}render(){const{username:e,name:t,description:n,isPublic:r,submitting:o,loading:a}=this.state;return i.a.createElement(m,{username:e,name:t,description:n,isPublic:r,submitting:o,loading:a,onNameInputChange:this.onNameInputChange,onDescriptionInputChange:this.onDescriptionInputChange,onIsPublicSwitchChange:this.onIsPublicSwitchChange,onSubmit:this.onSubmit})}}var S=Object(v.f)(E);n.d(t,"default",(function(){return S}))}}]);
//# sourceMappingURL=14.39c5fdbd.chunk.js.map