(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[45],{1111:function(e,t,a){e.exports={Code:"Style_Code__21-ZH",description:"Style_description__2MbQ1",buttonWrapper:"Style_buttonWrapper__12jZU",leftButtonWrapper:"Style_leftButtonWrapper__255ZA",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__1SU7q"}},1394:function(e,t,a){"use strict";var r=a(6),n=a.n(r),s=a(5),c=a.n(s),i=a(74),o=a.n(i),l=a(0),u=a(8),m=a.n(u),p=function(e){var t=e.prefixCls,a=e.className,r=e.width,n=e.style;return l.createElement("h3",{className:m()(t,a),style:c()({width:r},n)})},f=a(127),d=a.n(f),h=function(e){var t=function(t){var a=e.width,r=e.rows,n=void 0===r?2:r;return Array.isArray(a)?a[t]:n-1===t?a:void 0},a=e.prefixCls,r=e.className,n=e.style,s=e.rows,c=d()(Array(s)).map((function(e,a){return l.createElement("li",{key:a,style:{width:t(a)}})}));return l.createElement("ul",{className:m()(a,r),style:n},c)},v=a(110),b=function(e){var t,a,r=e.prefixCls,s=e.className,i=e.style,o=e.size,u=e.shape,p=m()((t={},n()(t,"".concat(r,"-lg"),"large"===o),n()(t,"".concat(r,"-sm"),"small"===o),t)),f=m()((a={},n()(a,"".concat(r,"-circle"),"circle"===u),n()(a,"".concat(r,"-square"),"square"===u),n()(a,"".concat(r,"-round"),"round"===u),a)),d="number"===typeof o?{width:o,height:o,lineHeight:"".concat(o,"px")}:{};return l.createElement("span",{className:m()(r,p,f,s),style:c()(c()({},d),i)})},x=a(47),y=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,s=e.className,i=e.active,o=a("skeleton",r),u=Object(x.a)(e,["prefixCls"]),p=m()(o,"".concat(o,"-element"),n()({},"".concat(o,"-active"),i),s);return l.createElement("div",{className:p},l.createElement(b,c()({prefixCls:"".concat(o,"-avatar")},u)))};return l.createElement(v.a,null,t)};y.defaultProps={size:"default",shape:"circle"};var j=y,g=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,s=e.className,i=e.active,o=a("skeleton",r),u=Object(x.a)(e,["prefixCls"]),p=m()(o,"".concat(o,"-element"),n()({},"".concat(o,"-active"),i),s);return l.createElement("div",{className:p},l.createElement(b,c()({prefixCls:"".concat(o,"-button")},u)))};return l.createElement(v.a,null,t)};g.defaultProps={size:"default"};var N=g,C=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,s=e.className,i=e.active,o=a("skeleton",r),u=Object(x.a)(e,["prefixCls"]),p=m()(o,"".concat(o,"-element"),n()({},"".concat(o,"-active"),i),s);return l.createElement("div",{className:p},l.createElement(b,c()({prefixCls:"".concat(o,"-input")},u)))};return l.createElement(v.a,null,t)};C.defaultProps={size:"default"};var w=C,O=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,n=e.className,s=e.style,c=a("skeleton",r),i=m()(c,"".concat(c,"-element"),n);return l.createElement("div",{className:i},l.createElement("div",{className:m()("".concat(c,"-image"),n),style:s},l.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(c,"-image-svg")},l.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(c,"-image-path")}))))};return l.createElement(v.a,null,t)};function k(e){return e&&"object"===o()(e)?e:{}}var E=function(e){var t=function(t){var a=t.getPrefixCls,r=t.direction,s=e.prefixCls,i=e.loading,o=e.className,u=e.children,f=e.avatar,d=e.title,v=e.paragraph,x=e.active,y=e.round,j=a("skeleton",s);if(i||!("loading"in e)){var g,N,C,w=!!f,O=!!d,E=!!v;if(w){var P=c()(c()({prefixCls:"".concat(j,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(O,E)),k(f));N=l.createElement("div",{className:"".concat(j,"-header")},l.createElement(b,P))}if(O||E){var q,z;if(O){var S=c()(c()({prefixCls:"".concat(j,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(w,E)),k(d));q=l.createElement(p,S)}if(E){var _=c()(c()({prefixCls:"".concat(j,"-paragraph")},function(e,t){var a={};return e&&t||(a.width="61%"),a.rows=!e&&t?3:2,a}(w,O)),k(v));z=l.createElement(h,_)}C=l.createElement("div",{className:"".concat(j,"-content")},q,z)}var R=m()(j,(g={},n()(g,"".concat(j,"-with-avatar"),w),n()(g,"".concat(j,"-active"),x),n()(g,"".concat(j,"-rtl"),"rtl"===r),n()(g,"".concat(j,"-round"),y),g),o);return l.createElement("div",{className:R},N,C)}return u};return l.createElement(v.a,null,t)};E.defaultProps={avatar:!1,title:!0,paragraph:!0},E.Button=N,E.Avatar=j,E.Input=w,E.Image=O;var P=E;t.a=P},1416:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var r=a(224),n=a(2),s=a.n(n),c=a(4),i=a(14),o=a(15),l=a(39),u=a(38),m=a(1),p=a(0),f=a.n(p),d=a(1111),h=a.n(d),v=a(26),b=a(1394),x=a(118),y=a(22),j=a(66),g=f.a.lazy((function(){return a.e(35).then(a.bind(null,1426))})),N=f.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(21)]).then(a.bind(null,1389))})),C=f.a.lazy((function(){return a.e(50).then(a.bind(null,1421))})),w=f.a.lazy((function(){return a.e(48).then(a.bind(null,1408))})),O=f.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(11),a.e(13)]).then(a.bind(null,1382))})),k=f.a.lazy((function(){return a.e(41).then(a.bind(null,1427))}));function E(e){var t,a=e.repository,n=a.username,s=a.name,c=a.description,i=e.branches,o=e.tagNames,l=e.commitCount,u=e.objectType,p=e.loading,f="",d=Object(r.a)(i);try{for(d.s();!(t=d.n()).done;){var E=t.value,P=E.isDefault,q=E.name;P&&(f=q)}}catch(z){d.e(z)}finally{d.f()}return Object(m.jsx)("div",{className:h.a.Code,children:Object(m.jsxs)(b.a,{active:!0,loading:p,children:[Object(m.jsx)("div",{className:h.a.description,children:c}),Object(m.jsx)(k,{commitCount:l,branches:i}),0===l?Object(m.jsx)(w,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:h.a.buttonWrapper,children:[Object(m.jsxs)("div",{className:h.a.leftButtonWrapper,children:[Object(m.jsx)(g,{branches:i,tagNames:o}),Object(m.jsx)("div",{className:h.a.newPullRequestButtonWrapper,children:Object(m.jsx)(y.b,{to:j.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:n,sourceRepositoryName:s,sourceRepositoryBranch:f,targetRepositoryBranch:f,repositoryName:s,username:n}),children:Object(m.jsx)(x.a,{children:"\u521b\u5efa Pull Request"})})})]}),Object(m.jsx)(C,{username:n,repository:s})]}),void 0===u||u===v.b.TREE?Object(m.jsx)(N,{}):Object(m.jsx)(O,{})]})]})})}var P=f.a.memo(E),q=a(148),z=a(62),S=a(337),_=a(112),R=a(3),B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setStatePromise=Object(_.promisify)(n.setState),n.loadRepository=Object(c.a)(s.a.mark((function e(){var t,a,r,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match.params,r=a.username,c=a.repositoryName,i=t.history,e.next=3,S.a.repository({username:r},{name:c});case 3:if(null===(o=e.sent)){e.next=9;break}return e.next=7,n.setStatePromise({repository:o});case 7:e.next=10;break;case 9:return e.abrupt("return",i.replace(R.d[R.b.NOT_FOUND]));case 10:case"end":return e.stop()}}),e)}))),n.loadCommitCount=Object(c.a)(s.a.mark((function e(){var t,a,c,i,o,l,u,m,p,f,d,h,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,a=t.username,c=t.repositoryName,i=t.commitHash,o=n.state.branches,l="",!i){u=Object(r.a)(o);try{for(u.s();!(m=u.n()).done;)p=m.value,f=p.isDefault,d=p.name,f&&(l=d)}catch(s){u.e(s)}finally{u.f()}}return e.next=6,S.a.commitCount({username:a},{name:c},i||l);case 6:if(null===(h=e.sent)){e.next=11;break}return v=h.commitCount,e.next=11,n.setStatePromise({commitCount:v});case 11:case"end":return e.stop()}}),e)}))),n.loadBranches=Object(c.a)(s.a.mark((function e(){var t,a,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,a=t.username,r=t.repositoryName,e.next=3,S.a.branches({username:a,name:r});case 3:if(null===(c=e.sent)){e.next=8;break}return i=c.branches,e.next=8,n.setStatePromise({branches:i});case 8:case"end":return e.stop()}}),e)}))),n.loadTagNames=Object(c.a)(s.a.mark((function e(){var t,a,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,a=t.username,r=t.repositoryName,e.next=3,S.a.tagNames({username:a,name:r});case 3:if(null===(c=e.sent)){e.next=8;break}return i=c.tagNames,e.next=8,n.setStatePromise({tagNames:i});case 8:case"end":return e.stop()}}),e)}))),n.state={repository:new q.i("","","",!0),branches:[],tagNames:[],commitCount:0,loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadBranches();case 4:return e.next=6,Promise.all([this.loadRepository(),this.loadTagNames(),this.loadCommitCount()]);case 6:return e.next=8,this.setStatePromise({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(s.a.mark((function e(t,a,r){var n,c,i,o,l,u,m,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.match.params,c=n.username,i=n.repositoryName,o=n.commitHash,l=this.props.match.params,u=l.username,m=l.repositoryName,p=l.commitHash,c===u&&i===m){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=14;break;case 7:if(o===p){e.next=14;break}return e.next=10,this.setStatePromise({loading:!0});case 10:return e.next=12,this.loadCommitCount();case 12:return e.next=14,this.setStatePromise({loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.branches,r=e.commitCount,n=e.loading,s=e.tagNames,c=this.props.match.params.objectType;return Object(m.jsx)(P,{repository:t,commitCount:r,branches:a,tagNames:s,objectType:c,loading:n})}}]),a}(p.PureComponent),W=Object(z.j)(B)}}]);
//# sourceMappingURL=45.1075d4c2.chunk.js.map