(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[22],{1009:function(e,t,a){"use strict";var n=a(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},c=a(20),r=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:i}))};r.displayName="LockOutlined";t.a=n.forwardRef(r)},1010:function(e,t,a){"use strict";var n=a(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 160H72c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm833 0h-48c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zM200 736h112c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm321 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm126 0h178c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H647c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-255 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-79 64H201c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm257 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm256 0H648c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h178c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-385 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"barcode",theme:"outlined"},c=a(20),r=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:i}))};r.displayName="BarcodeOutlined";t.a=n.forwardRef(r)},1096:function(e,t,a){e.exports={ChangePassword:"Style_ChangePassword__3LmM_",loginTip:"Style_loginTip__2SPZg",form:"Style_form__2Tl8h",inputWrapper:"Style_inputWrapper__3YQNB",logo:"Style_logo__2tCeZ",button:"Style_button__3SEXr"}},1412:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var n=a(2),i=a.n(n),c=a(4),r=a(14),s=a(15),o=a(39),u=a(38),d=a(1),l=a(0),f=a.n(l),h=a(1096),p=a.n(h),g=a(964),b=a(22),m=a(946),v=a(909),j=a(118),x=a(924),C=a(1009),O=a(1010),w=a(954),S=a(167),V=a(3);function _(e){var t=e.username,a=e.password,n=e.repeatPassword,i=e.verificationCode,c=e.getVerificationCodeButtonText,r=e.onPasswordChange,s=e.onUsernameChange,o=e.onRepeatPasswordChange,u=e.onVerificationCodeChange,l=e.onSubmit,f=e.onGetVerificationCodeButtonClick,h=e.getVerificationCodeButtonDisabled,_=e.loading;return Object(d.jsx)("main",{className:p.a.ChangePassword,children:Object(d.jsxs)("form",{action:"#",className:p.a.form,onSubmit:l,children:[Object(d.jsx)("img",{className:p.a.logo,src:g.a,alt:"web_developer_logo"}),Object(d.jsxs)("div",{className:p.a.loginTip,children:["\u4e0d\u9700\u8981\u4fee\u6539\u5bc6\u7801\uff1f",Object(d.jsx)(b.b,{to:V.d[V.b.LOGIN],children:"\u70b9\u6b64\u767b\u5f55"})]}),Object(d.jsxs)("div",{className:p.a.inputWrapper,children:[Object(d.jsx)(m.a,{required:!0,children:"\u7528\u6237\u540d"}),Object(d.jsx)(v.a,{type:"text",size:"large",autoFocus:!0,value:t,onChange:s,prefix:Object(d.jsx)(x.a,{}),disabled:_})]}),Object(d.jsxs)("div",{className:p.a.inputWrapper,children:[Object(d.jsx)(m.a,{required:!0,children:"\u65b0\u5bc6\u7801"}),Object(d.jsx)(v.a,{type:"password",size:"large",value:a,onChange:r,prefix:Object(d.jsx)(C.a,{}),disabled:_}),Object(d.jsxs)(w.a,{children:["\u4e3a\u4e86\u60a8\u7684\u8d26\u6237\u5b89\u5168\uff0c\u5bc6\u7801\u8981\u6c42 ",S.c.Account.PASSWORD]})]}),Object(d.jsxs)("div",{className:p.a.inputWrapper,children:[Object(d.jsx)(m.a,{required:!0,children:"\u91cd\u590d\u65b0\u5bc6\u7801"}),Object(d.jsx)(v.a,{type:"password",size:"large",value:n,onChange:o,prefix:Object(d.jsx)(C.a,{}),disabled:_})]}),Object(d.jsxs)("div",{className:p.a.inputWrapper,children:[Object(d.jsx)(m.a,{required:!0,children:"\u90ae\u7bb1\u9a8c\u8bc1\u7801"}),Object(d.jsx)(v.a,{type:"text",size:"large",value:i,onChange:u,prefix:Object(d.jsx)(O.a,{}),disabled:_,addonAfter:Object(d.jsx)(j.a,{type:"link",onClick:f,disabled:h||_,children:c})})]}),Object(d.jsx)(j.a,{htmlType:"submit",className:p.a.button,size:"large",type:"primary",block:!0,disabled:_,loading:_,children:"\u4fee\u6539\u5bc6\u7801"})]})})}var k=f.a.memo(_),y=a(30),B=a(336),P=a(148),T=a(467),N=a(50),z=a(62),A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).setTitle=function(){document.title="\u4fee\u6539\u5bc6\u7801 - ".concat(V.a)},n.onUsernameChange=function(e){n.setState({username:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onRepeatPasswordChange=function(e){n.setState({repeatPassword:e.target.value})},n.onVerificationCodeChange=function(e){n.setState({verificationCode:e.target.value})},n.onGetVerificationCodeButtonClick=Object(c.a)(i.a.mark((function e(){var t,a,c,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=30,a=0,c=n.state.getVerificationCodeButtonText,r=n.state.username,S.b.Account.username(r)){e.next=8;break}B.a.warn({message:S.a.Account.USERNAME}),e.next=15;break;case 8:return n.setState({getVerificationCodeButtonDisabled:!0}),s=setInterval((function(){a++,n.setState({getVerificationCodeButtonText:"".concat(t-a," \u79d2\u540e\u518d\u6b21\u83b7\u53d6")})}),1e3),o=setTimeout((function(){clearInterval(s),n.setState({getVerificationCodeButtonDisabled:!1,getVerificationCodeButtonText:c})}),1e3*t),e.next=13,y.a.sendVerificationCodeByUsername({username:r});case 13:null!==e.sent?B.a.success({message:"\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f",description:"\u8bf7\u5230\u7528\u6237\u540d ".concat(r," \u4f7f\u7528\u7684\u90ae\u7bb1\u4e2d\u67e5\u770b")}):(clearInterval(s),clearTimeout(o),n.setState({getVerificationCodeButtonDisabled:!1,getVerificationCodeButtonText:c}));case 15:case"end":return e.stop()}}),e)}))),n.onSubmit=function(){var e=Object(c.a)(i.a.mark((function e(t){var a,c,r,s,o,u,d,l,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,c=a.username,r=a.password,s=a.repeatPassword,o=a.verificationCode,S.b.Account.username(c)){e.next=6;break}B.a.warn({message:S.a.Account.USERNAME}),e.next=30;break;case 6:if(S.b.Account.password(r)){e.next=10;break}B.a.warn({message:S.a.Account.PASSWORD}),e.next=30;break;case 10:if(r===s){e.next=14;break}B.a.warn({message:"\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"}),e.next=30;break;case 14:if(S.b.Account.verificationCode(o)){e.next=18;break}B.a.warn({message:S.a.Account.VERIFICATION_CODE}),e.next=30;break;case 18:return n.setState({loading:!0}),u=P.a.calculateHash(c,r),e.next=22,y.a.changePassword({username:c,hash:u},o);case 22:if(null===e.sent){e.next=29;break}return B.a.success({message:"\u4fee\u6539\u5bc6\u7801\u6210\u529f",description:"\u8bf7\u4f7f\u7528\u65b0\u5bc6\u7801\u767b\u5f55"}),d=n.props,l=d.setLoggedOut,f=d.history,e.next=28,l();case 28:return e.abrupt("return",f.push(V.d[V.b.LOGIN]));case 29:n.setState({loading:!1});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",password:"",repeatPassword:"",verificationCode:"",getVerificationCodeButtonText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",getVerificationCodeButtonDisabled:!1,loading:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setTitle()}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.repeatPassword,i=e.verificationCode,c=e.getVerificationCodeButtonText,r=e.loading,s=e.getVerificationCodeButtonDisabled;return Object(d.jsx)(k,{username:t,password:a,repeatPassword:n,verificationCode:i,onUsernameChange:this.onUsernameChange,onPasswordChange:this.onPasswordChange,onRepeatPasswordChange:this.onRepeatPasswordChange,onVerificationCodeChange:this.onVerificationCodeChange,onSubmit:this.onSubmit,getVerificationCodeButtonText:c,onGetVerificationCodeButtonClick:this.onGetVerificationCodeButtonClick,loading:r,getVerificationCodeButtonDisabled:s})}}]),a}(l.PureComponent),I={setLoggedOut:T.Action.setLoggedOutAction},D=Object(N.b)(null,I)(Object(z.j)(A))},944:function(e,t,a){"use strict";var n=a(1),i=a(0),c=a.n(i),r=a(945),s=a.n(r);function o(e){var t=e.children,a=e.required;return Object(n.jsxs)("div",{className:s.a.InputLabel,children:[t,Object(n.jsx)("span",{className:s.a.requiredSign,children:a?" *":""})]})}t.a=c.a.memo(o)},945:function(e,t,a){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},946:function(e,t,a){"use strict";var n=a(944);a.d(t,"a",(function(){return n.a}))},951:function(e,t,a){e.exports={InputTip:"Style_InputTip__KsPY_"}},954:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(1),i=a(0),c=a.n(i),r=a(951),s=a.n(r);function o(e){var t=e.children;return Object(n.jsx)("div",{className:s.a.InputTip,children:t})}var u=c.a.memo(o)},964:function(e,t,a){"use strict";t.a=a.p+"static/media/developing_code.ac8fbd80.svg"}}]);
//# sourceMappingURL=22.6965203d.chunk.js.map