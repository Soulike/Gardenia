(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[19],{1130:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"USERNAME",(function(){return N})),n.d(a,"PASSWORD",(function(){return O})),n.d(a,"VERIFICATION_CODE",(function(){return I}));var r={};n.r(r),n.d(r,"NAME",(function(){return V}));var o={};n.r(o),n.d(o,"NICKNAME",(function(){return x})),n.d(o,"EMAIL",(function(){return P}));var i={};n.r(i),n.d(i,"NAME",(function(){return k}));var c={};n.r(c),n.d(c,"CODE",(function(){return M}));var u={};n.r(u),n.d(u,"username",(function(){return T})),n.d(u,"password",(function(){return y})),n.d(u,"verificationCode",(function(){return R}));var s={};n.r(s),n.d(s,"name",(function(){return D}));var d={};n.r(d),n.d(d,"nickname",(function(){return B})),n.d(d,"email",(function(){return z}));var l={};n.r(l),n.d(l,"name",(function(){return G}));var f={};n.r(f),n.d(f,"code",(function(){return L}));var m={};n.r(m),n.d(m,"Account",(function(){return u})),n.d(m,"Group",(function(){return s})),n.d(m,"Profile",(function(){return d})),n.d(m,"Repository",(function(){return l})),n.d(m,"Collaborator",(function(){return f}));var p={};n.r(p),n.d(p,"USERNAME",(function(){return U})),n.d(p,"PASSWORD",(function(){return W}));var v={};n.r(v),n.d(v,"NAME",(function(){return j}));var g={};n.r(g),n.d(g,"NICKNAME",(function(){return H}));var C={};n.r(C),n.d(C,"NAME",(function(){return q}));var h={};n.r(h),n.d(h,"Account",(function(){return p})),n.d(h,"Group",(function(){return v})),n.d(h,"Profile",(function(){return g})),n.d(h,"Repository",(function(){return C}));var E={};n.r(E),n.d(E,"USERNAME",(function(){return F})),n.d(E,"PASSWORD",(function(){return $})),n.d(E,"VERIFICATION_CODE",(function(){return K}));var b={};n.r(b),n.d(b,"NAME",(function(){return Z}));var A={};n.r(A),n.d(A,"NICKNAME",(function(){return J})),n.d(A,"EMAIL",(function(){return Y}));var S={};n.r(S),n.d(S,"NAME",(function(){return Q}));var w={};n.r(w),n.d(w,"CODE",(function(){return X}));var _={};n.r(_),n.d(_,"Account",(function(){return E})),n.d(_,"Group",(function(){return b})),n.d(_,"Profile",(function(){return A})),n.d(_,"Repository",(function(){return S})),n.d(_,"Collaborator",(function(){return w}));const N=/^\w{1,20}$/,O=/^\S{6,}$/,I=/^\d{6}$/;var V=/^\S{1,20}$/,x=/^\S{1,20}$/,P=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,k=/^\w{1,20}$/,M=/^\w+_\w+_\d+$/;function T(e){return a.USERNAME.test(e)}function y(e){return a.PASSWORD.test(e)}function R(e){return a.VERIFICATION_CODE.test(e)}function D(e){return r.NAME.test(e)}function B(e){return o.NICKNAME.test(e)}function z(e){return o.EMAIL.test(e)}function G(e){return i.NAME.test(e)}function L(e){return c.CODE.test(e)}var U="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",W="6 \u4f4d\u4ee5\u4e0a",j="1~20 \u4f4d",H="1~20 \u4f4d",q="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf";const F="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",$="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",K="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e";var Z="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",J="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Y="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Q="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",X="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return h}))},1131:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1133),i=n.n(o);t.a=r.a.memo((function(e){var t=e.children,n=e.required;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},n?" *":""))}))},1133:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1136:function(e,t,n){"use strict";var a=n(1131);n.d(t,"a",(function(){return a.a}))},1141:function(e,t,n){e.exports={InputTip:"Style_InputTip__KsPY_"}},1143:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1141),i=n.n(o);var c=r.a.memo((function(e){var t=e.children;return r.a.createElement("div",{className:i.a.InputTip},t)}));n.d(t,"a",(function(){return c}))},1152:function(e,t,n){e.exports=n.p+"static/media/developing_code.240e8e0f.svg"},1176:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},i=n(12),c=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};c.displayName="LockOutlined";t.a=r.a.forwardRef(c)},1212:function(e,t,n){e.exports={ChangePassword:"Style_ChangePassword__3LmM_",loginTip:"Style_loginTip__2SPZg",form:"Style_form__2Tl8h",inputWrapper:"Style_inputWrapper__3YQNB",logo:"Style_logo__2tCeZ",button:"Style_button__3SEXr"}},1326:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o={name:"barcode",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 160H72c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm833 0h-48c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zM200 736h112c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm321 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm126 0h178c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H647c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-255 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-79 64H201c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm257 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm256 0H648c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h178c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-385 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]}},i=n(12),c=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};c.displayName="BarcodeOutlined";t.a=r.a.forwardRef(c)},1353:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=(n(80),n(34)),i=n(5),c=n(47),u=n(48),s=n(50),d=n(49),l=n(51),f=n(0),m=n.n(f),p=(n(91),n(20)),v=(n(517),n(350)),g=n(1212),C=n.n(g),h=n(1152),E=n.n(h),b=n(14),A=n(1136),S=n(25),w=n(1108),_=n(1176),N=n(1326),O=n(1143),I=n(1130);const{PAGE_ID:V,PAGE_ID_TO_ROUTE:x}=S.CONFIG;var P=m.a.memo((function(e){const{username:t,password:n,repeatPassword:a,verificationCode:r,getVerificationCodeButtonText:o,onPasswordChange:i,onUsernameChange:c,onRepeatPasswordChange:u,onVerificationCodeChange:s,onSubmit:d,onGetVerificationCodeButtonClick:l,getVerificationCodeButtonDisabled:f,loading:g}=e;return m.a.createElement("main",{className:C.a.ChangePassword},m.a.createElement("form",{action:"#",className:C.a.form,onSubmit:d},m.a.createElement("img",{className:C.a.logo,src:E.a,alt:"web_developer_logo"}),m.a.createElement("div",{className:C.a.loginTip},"\u4e0d\u9700\u8981\u4fee\u6539\u5bc6\u7801\uff1f",m.a.createElement(b.b,{to:x[V.LOGIN]},"\u70b9\u6b64\u767b\u5f55")),m.a.createElement("div",{className:C.a.inputWrapper},m.a.createElement(A.a,{required:!0},"\u7528\u6237\u540d"),m.a.createElement(v.a,{type:"text",size:"large",autoFocus:!0,value:t,onChange:c,prefix:m.a.createElement(w.a,null),disabled:g})),m.a.createElement("div",{className:C.a.inputWrapper},m.a.createElement(A.a,{required:!0},"\u65b0\u5bc6\u7801"),m.a.createElement(v.a,{type:"password",size:"large",value:n,onChange:i,prefix:m.a.createElement(_.a,null),disabled:g}),m.a.createElement(O.a,null,"\u4e3a\u4e86\u60a8\u7684\u8d26\u6237\u5b89\u5168\uff0c\u5bc6\u7801\u8981\u6c42 ",I.c.Account.PASSWORD)),m.a.createElement("div",{className:C.a.inputWrapper},m.a.createElement(A.a,{required:!0},"\u91cd\u590d\u65b0\u5bc6\u7801"),m.a.createElement(v.a,{type:"password",size:"large",value:a,onChange:u,prefix:m.a.createElement(_.a,null),disabled:g})),m.a.createElement("div",{className:C.a.inputWrapper},m.a.createElement(A.a,{required:!0},"\u90ae\u7bb1\u9a8c\u8bc1\u7801"),m.a.createElement(v.a,{type:"text",size:"large",value:r,onChange:s,prefix:m.a.createElement(N.a,null),disabled:g,addonAfter:m.a.createElement(p.a,{type:"link",onClick:l,disabled:f||g},o)})),m.a.createElement(p.a,{htmlType:"submit",className:C.a.button,size:"large",type:"primary",block:!0,disabled:g,loading:g},"\u4fee\u6539\u5bc6\u7801")))})),k=n(222),M=n(33),T=n(149),y=n(486),R=n(46),D=n(139),B=S.CONFIG.PAGE_ID,z=S.CONFIG.PAGE_ID_TO_ROUTE,G=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).setTitle=function(){document.title="\u4fee\u6539\u5bc6\u7801 - ".concat(k.a.NAME)},n.onUsernameChange=function(e){n.setState({username:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onRepeatPasswordChange=function(e){n.setState({repeatPassword:e.target.value})},n.onVerificationCodeChange=function(e){n.setState({verificationCode:e.target.value})},n.onGetVerificationCodeButtonClick=Object(i.a)(r.a.mark((function e(){var t,a,i,c,u,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=30,a=0,i=n.state.getVerificationCodeButtonText,c=n.state.username,I.b.Account.username(c)){e.next=8;break}o.a.warn({message:I.a.Account.USERNAME}),e.next=15;break;case 8:return n.setState({getVerificationCodeButtonDisabled:!0}),u=setInterval((function(){a++,n.setState({getVerificationCodeButtonText:"".concat(t-a," \u79d2\u540e\u518d\u6b21\u83b7\u53d6")})}),1e3),s=setTimeout((function(){clearInterval(u),n.setState({getVerificationCodeButtonDisabled:!1,getVerificationCodeButtonText:i})}),1e3*t),e.next=13,M.a.sendVerificationCodeByUsername({username:c});case 13:null!==e.sent?o.a.success({message:"\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f",description:"\u8bf7\u5230\u7528\u6237\u540d ".concat(c," \u4f7f\u7528\u7684\u90ae\u7bb1\u4e2d\u67e5\u770b")}):(clearInterval(u),clearTimeout(s),n.setState({getVerificationCodeButtonDisabled:!1,getVerificationCodeButtonText:i}));case 15:case"end":return e.stop()}}),e)}))),n.onSubmit=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i,c,u,s,d,l,f,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,i=a.username,c=a.password,u=a.repeatPassword,s=a.verificationCode,I.b.Account.username(i)){e.next=6;break}o.a.warn({message:I.a.Account.USERNAME}),e.next=30;break;case 6:if(I.b.Account.password(c)){e.next=10;break}o.a.warn({message:I.a.Account.PASSWORD}),e.next=30;break;case 10:if(c===u){e.next=14;break}o.a.warn({message:"\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"}),e.next=30;break;case 14:if(I.b.Account.verificationCode(s)){e.next=18;break}o.a.warn({message:I.a.Account.VERIFICATION_CODE}),e.next=30;break;case 18:return n.setState({loading:!0}),d=T.a.calculateHash(i,c),e.next=22,M.a.changePassword({username:i,hash:d},s);case 22:if(null===e.sent){e.next=29;break}return o.a.success({message:"\u4fee\u6539\u5bc6\u7801\u6210\u529f",description:"\u8bf7\u4f7f\u7528\u65b0\u5bc6\u7801\u767b\u5f55"}),l=n.props,f=l.setLoggedOut,m=l.history,e.next=28,f();case 28:return e.abrupt("return",m.push(z[B.LOGIN]));case 29:n.setState({loading:!1});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",password:"",repeatPassword:"",verificationCode:"",getVerificationCodeButtonText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",getVerificationCodeButtonDisabled:!1,loading:!1},n}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setTitle()}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.repeatPassword,r=e.verificationCode,o=e.getVerificationCodeButtonText,i=e.loading,c=e.getVerificationCodeButtonDisabled;return m.a.createElement(P,{username:t,password:n,repeatPassword:a,verificationCode:r,onUsernameChange:this.onUsernameChange,onPasswordChange:this.onPasswordChange,onRepeatPasswordChange:this.onRepeatPasswordChange,onVerificationCodeChange:this.onVerificationCodeChange,onSubmit:this.onSubmit,getVerificationCodeButtonText:o,onGetVerificationCodeButtonClick:this.onGetVerificationCodeButtonClick,loading:i,getVerificationCodeButtonDisabled:c})}}]),t}(f.PureComponent),L={setLoggedOut:y.Action.setLoggedOutAction},U=Object(R.b)(null,L)(Object(D.f)(G));n.d(t,"default",(function(){return U}))}}]);
//# sourceMappingURL=19.60f6bcd5.chunk.js.map