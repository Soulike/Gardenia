"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[3589],{3589:function(ne,F,t){t.r(F),t.d(F,{default:function(){return q}});var a=t(89526),v={Code:"Style_Code__nNuin",description:"Style_description__3UufL",buttonWrapper:"Style_buttonWrapper__qzbKi",leftButtonWrapper:"Style_leftButtonWrapper__s+cEz",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__dEEy4"},V=t(76320),r=t(97025),G=t(30592),N=t(565),K=t(18440);const $=a.lazy(()=>t.e(4215).then(t.bind(t,24215))),k=a.lazy(()=>Promise.all([t.e(4369),t.e(9207),t.e(5677)]).then(t.bind(t,95677))),J=a.lazy(()=>t.e(3285).then(t.bind(t,23285))),Q=a.lazy(()=>t.e(9176).then(t.bind(t,89176))),z=a.lazy(()=>Promise.all([t.e(4369),t.e(9207),t.e(252),t.e(9681)]).then(t.bind(t,42419))),X=a.lazy(()=>t.e(9309).then(t.bind(t,99309)));function I(W){const{repository:{username:C,name:c,description:f},branches:o,tagNames:i,commitCount:E,objectType:p,loading:n}=W;let e="";for(const{isDefault:s,name:h}of o)s&&(e=h);return a.createElement("div",{className:v.Code},a.createElement(r.Z,{active:!0,loading:n},a.createElement("div",{className:v.description},f),a.createElement(X,{commitCount:E,branches:o}),E===0?a.createElement(Q,null):a.createElement(a.Fragment,null,a.createElement("div",{className:v.buttonWrapper},a.createElement("div",{className:v.leftButtonWrapper},a.createElement($,{branches:o,tagNames:i}),a.createElement("div",{className:v.newPullRequestButtonWrapper},a.createElement(N.rU,{to:K.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:C,sourceRepositoryName:c,sourceRepositoryBranch:e,targetRepositoryBranch:e,repositoryName:c,username:C})},a.createElement(G.Z,null,"\u521B\u5EFA Pull Request")))),a.createElement(J,{username:C,repository:c})),p===void 0||p===V.LP.TREE?a.createElement(k,null):a.createElement(z,null))))}var A=a.memo(I),M=t(60269),Y=t(65092),R=t(19237),w=t(85663),D=t(36393),B=(W,C,c)=>new Promise((f,o)=>{var i=n=>{try{p(c.next(n))}catch(e){o(e)}},E=n=>{try{p(c.throw(n))}catch(e){o(e)}},p=n=>n.done?f(n.value):Promise.resolve(n.value).then(i,E);p((c=c.apply(W,C)).next())});class b extends a.PureComponent{constructor(C){super(C);this.setStatePromise=(0,w.promisify)(this.setState),this.loadRepository=()=>B(this,null,function*(){const{match:{params:{username:c,repositoryName:f}},history:o}=this.props,i=yield R.C.repository({username:c},{name:f});if(i!==null)yield this.setStatePromise({repository:i});else return o.replace(D.yt[D.DV.NOT_FOUND])}),this.loadCommitCount=()=>B(this,null,function*(){const{match:{params:{username:c,repositoryName:f,commitHash:o}}}=this.props,{branches:i}=this.state;let E="";if(!o)for(const{isDefault:n,name:e}of i)n&&(E=e);const p=yield R.C.commitCount({username:c},{name:f},o||E);if(p!==null){const{commitCount:n}=p;yield this.setStatePromise({commitCount:n})}}),this.loadBranches=()=>B(this,null,function*(){const{match:{params:{username:c,repositoryName:f}}}=this.props,o=yield R.C.branches({username:c,name:f});if(o!==null){const{branches:i}=o;yield this.setStatePromise({branches:i})}}),this.loadTagNames=()=>B(this,null,function*(){const{match:{params:{username:c,repositoryName:f}}}=this.props,o=yield R.C.tagNames({username:c,name:f});if(o!==null){const{tagNames:i}=o;yield this.setStatePromise({tagNames:i})}}),this.state={repository:new M._j("","","",!0),branches:[],tagNames:[],commitCount:0,loading:!0}}componentDidMount(){return B(this,null,function*(){yield this.setStatePromise({loading:!0}),yield this.loadBranches(),yield Promise.all([this.loadRepository(),this.loadTagNames(),this.loadCommitCount()]),yield this.setStatePromise({loading:!1})})}componentDidUpdate(C,c,f){return B(this,null,function*(){const{match:{params:{username:o,repositoryName:i,commitHash:E}}}=C,{match:{params:{username:p,repositoryName:n,commitHash:e}}}=this.props;o!==p||i!==n?yield this.componentDidMount():E!==e&&(yield this.setStatePromise({loading:!0}),yield this.loadCommitCount(),yield this.setStatePromise({loading:!1}))})}render(){const{repository:C,branches:c,commitCount:f,loading:o,tagNames:i}=this.state,{match:{params:{objectType:E}}}=this.props;return a.createElement(A,{repository:C,commitCount:f,branches:c,tagNames:i,objectType:E,loading:o})}}var q=(0,Y.EN)(b)},97025:function(ne,F,t){t.d(F,{Z:function(){return p}});var a=t(4942),v=t(87462),V=t(71002),r=t(89526),G=t(64403),N=t.n(G),K=function(e){var s=e.prefixCls,h=e.className,m=e.width,d=e.style;return r.createElement("h3",{className:N()(s,h),style:(0,v.Z)({width:m},d)})},$=K,k=t(93433),J=function(e){var s=function(l){var y=e.width,x=e.rows,S=x===void 0?2:x;if(Array.isArray(y))return y[l];if(S-1===l)return y},h=e.prefixCls,m=e.className,d=e.style,P=e.rows,u=(0,k.Z)(Array(P)).map(function(g,l){return r.createElement("li",{key:l,style:{width:s(l)}})});return r.createElement("ul",{className:N()(h,m),style:d},u)},Q=J,z=t(62432),X=function(e){var s,h,m=e.prefixCls,d=e.className,P=e.style,u=e.size,g=e.shape,l=N()((s={},(0,a.Z)(s,"".concat(m,"-lg"),u==="large"),(0,a.Z)(s,"".concat(m,"-sm"),u==="small"),s)),y=N()((h={},(0,a.Z)(h,"".concat(m,"-circle"),g==="circle"),(0,a.Z)(h,"".concat(m,"-square"),g==="square"),(0,a.Z)(h,"".concat(m,"-round"),g==="round"),h)),x=typeof u=="number"?{width:u,height:u,lineHeight:"".concat(u,"px")}:{};return r.createElement("span",{className:N()(m,l,y,d),style:(0,v.Z)((0,v.Z)({},x),P)})},I=X,A=t(78326),M=function(e){var s=function(m){var d=m.getPrefixCls,P=e.prefixCls,u=e.className,g=e.active,l=d("skeleton",P),y=(0,A.Z)(e,["prefixCls","className"]),x=N()(l,"".concat(l,"-element"),(0,a.Z)({},"".concat(l,"-active"),g),u);return r.createElement("div",{className:x},r.createElement(I,(0,v.Z)({prefixCls:"".concat(l,"-avatar")},y)))};return r.createElement(z.C,null,s)};M.defaultProps={size:"default",shape:"circle"};var Y=M,R=function(e){var s=function(m){var d,P=m.getPrefixCls,u=e.prefixCls,g=e.className,l=e.active,y=e.block,x=y===void 0?!1:y,S=P("skeleton",u),U=(0,A.Z)(e,["prefixCls"]),O=N()(S,"".concat(S,"-element"),(d={},(0,a.Z)(d,"".concat(S,"-active"),l),(0,a.Z)(d,"".concat(S,"-block"),x),d),g);return r.createElement("div",{className:O},r.createElement(I,(0,v.Z)({prefixCls:"".concat(S,"-button")},U)))};return r.createElement(z.C,null,s)};R.defaultProps={size:"default"};var w=R,D=function(e){var s=function(m){var d=m.getPrefixCls,P=e.prefixCls,u=e.className,g=e.active,l=d("skeleton",P),y=(0,A.Z)(e,["prefixCls"]),x=N()(l,"".concat(l,"-element"),(0,a.Z)({},"".concat(l,"-active"),g),u);return r.createElement("div",{className:x},r.createElement(I,(0,v.Z)({prefixCls:"".concat(l,"-input")},y)))};return r.createElement(z.C,null,s)};D.defaultProps={size:"default"};var B=D,b="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",q=function(e){var s=function(m){var d=m.getPrefixCls,P=e.prefixCls,u=e.className,g=e.style,l=d("skeleton",P),y=N()(l,"".concat(l,"-element"),u);return r.createElement("div",{className:y},r.createElement("div",{className:N()("".concat(l,"-image"),u),style:g},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(l,"-image-svg")},r.createElement("path",{d:b,className:"".concat(l,"-image-path")}))))};return r.createElement(z.C,null,s)},W=q;function C(n){return n&&(0,V.Z)(n)==="object"?n:{}}function c(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function f(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function o(n,e){var s={};return(!n||!e)&&(s.width="61%"),!n&&e?s.rows=3:s.rows=2,s}var i=function(e){var s=function(m){var d=m.getPrefixCls,P=m.direction,u=e.prefixCls,g=e.loading,l=e.className,y=e.style,x=e.children,S=e.avatar,U=e.title,O=e.paragraph,re=e.active,le=e.round,Z=d("skeleton",u);if(g||!("loading"in e)){var T,j=!!S,H=!!U,L=!!O,_;if(j){var se=(0,v.Z)((0,v.Z)({prefixCls:"".concat(Z,"-avatar")},c(H,L)),C(S));_=r.createElement("div",{className:"".concat(Z,"-header")},r.createElement(I,se))}var ee;if(H||L){var te;if(H){var oe=(0,v.Z)((0,v.Z)({prefixCls:"".concat(Z,"-title")},f(j,L)),C(U));te=r.createElement($,oe)}var ae;if(L){var ie=(0,v.Z)((0,v.Z)({prefixCls:"".concat(Z,"-paragraph")},o(j,H)),C(O));ae=r.createElement(Q,ie)}ee=r.createElement("div",{className:"".concat(Z,"-content")},te,ae)}var ce=N()(Z,(T={},(0,a.Z)(T,"".concat(Z,"-with-avatar"),j),(0,a.Z)(T,"".concat(Z,"-active"),re),(0,a.Z)(T,"".concat(Z,"-rtl"),P==="rtl"),(0,a.Z)(T,"".concat(Z,"-round"),le),T),l);return r.createElement("div",{className:ce,style:y},_,ee)}return x};return r.createElement(z.C,null,s)};i.defaultProps={avatar:!1,title:!0,paragraph:!0},i.Button=w,i.Avatar=Y,i.Input=B,i.Image=W;var E=i,p=E}}]);

//# sourceMappingURL=3589.1acc68a1.chunk.js.map