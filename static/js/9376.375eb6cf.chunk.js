"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[9376],{89376:function(Z,y,a){a.r(y),a.d(y,{default:function(){return Q}});var e=a(89526),p={Tags:"Style_Tags__ESxOX",tagsWrapper:"Style_tagsWrapper__u6fXq",tagCardWrapper:"Style_tagCardWrapper__pnIs7",showMoreButtonWrapper:"Style_showMoreButtonWrapper__tiwTY"},E=a(34405),C=a(5892),T=a(37109),h=a(30592),m=a(1413),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1067.88-67.89 48 48 0 10-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z"}}]},name:"tags",theme:"outlined"},S=N,v=a(36593),O=function(n,t){return e.createElement(v.Z,(0,m.Z)((0,m.Z)({},n),{},{ref:t,icon:S}))};O.displayName="TagsOutlined";var A=e.forwardRef(O),s={TagCard:"Style_TagCard__1P41b",content:"Style_content__DS8EK",top:"Style_top__0JOeR",bottom:"Style_bottom__XxLYl",showBodyButtonWrapper:"Style_showBodyButtonWrapper__R-Mss",subjectWrapper:"Style_subjectWrapper__tNFMQ",annotationBodyWrapper:"Style_annotationBodyWrapper__MRvdD",commitHashWrapper:"Style_commitHashWrapper__rgvsu",iconWrapper:"Style_iconWrapper__0gwKI"},x=a(43546),B=a(14006),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M112 476h72v72h-72zm182 0h72v72h-72zm364 0h72v72h-72zm182 0h72v72h-72zm-364 0h72v72h-72z"}}]},name:"small-dash",theme:"outlined"},L=D,M=function(n,t){return e.createElement(v.Z,(0,m.Z)((0,m.Z)({},n),{},{ref:t,icon:L}))};M.displayName="SmallDashOutlined";var z=e.forwardRef(M),w=a(30153),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M843.5 737.4c-12.4-75.2-79.2-129.1-155.3-125.4S550.9 676 546 752c-153.5-4.8-208-40.7-199.1-113.7 3.3-27.3 19.8-41.9 50.1-49 18.4-4.3 38.8-4.9 57.3-3.2 1.7.2 3.5.3 5.2.5 11.3 2.7 22.8 5 34.3 6.8 34.1 5.6 68.8 8.4 101.8 6.6 92.8-5 156-45.9 159.2-132.7 3.1-84.1-54.7-143.7-147.9-183.6-29.9-12.8-61.6-22.7-93.3-30.2-14.3-3.4-26.3-5.7-35.2-7.2-7.9-75.9-71.5-133.8-147.8-134.4-76.3-.6-140.9 56.1-150.1 131.9s40 146.3 114.2 163.9c74.2 17.6 149.9-23.3 175.7-95.1 9.4 1.7 18.7 3.6 28 5.8 28.2 6.6 56.4 15.4 82.4 26.6 70.7 30.2 109.3 70.1 107.5 119.9-1.6 44.6-33.6 65.2-96.2 68.6-27.5 1.5-57.6-.9-87.3-5.8-8.3-1.4-15.9-2.8-22.6-4.3-3.9-.8-6.6-1.5-7.8-1.8l-3.1-.6c-2.2-.3-5.9-.8-10.7-1.3-25-2.3-52.1-1.5-78.5 4.6-55.2 12.9-93.9 47.2-101.1 105.8-15.7 126.2 78.6 184.7 276 188.9 29.1 70.4 106.4 107.9 179.6 87 73.3-20.9 119.3-93.4 106.9-168.6zM329.1 345.2a83.3 83.3 0 11.01-166.61 83.3 83.3 0 01-.01 166.61zM695.6 845a83.3 83.3 0 11.01-166.61A83.3 83.3 0 01695.6 845z"}}]},name:"node-index",theme:"outlined"},F=R,W=function(n,t){return e.createElement(v.Z,(0,m.Z)((0,m.Z)({},n),{},{ref:t,icon:F}))};W.displayName="NodeIndexOutlined";var I=e.forwardRef(W),k=a(57428),j=a(18440),P=a(65092);function G(o){const{showBody:n,tag:{name:t,annotation:{subject:r,body:l},lastCommit:{commitHash:u,timestamp:i}},match:{params:{username:c,repositoryName:d}},onShowBodyButtonClick:f}=o;return e.createElement("div",{className:s.TagCard},e.createElement(E.Z,{title:t},e.createElement("div",{className:s.content},e.createElement("div",{className:s.top},e.createElement("div",{className:s.subjectWrapper},r),l.length>0?e.createElement("div",{className:s.showBodyButtonWrapper},e.createElement(h.Z,{size:"small",onClick:f},e.createElement(z,null))):null),n?e.createElement("div",{className:s.annotationBodyWrapper},e.createElement("pre",{className:s.annotationBody},l)):null,e.createElement("div",{className:s.bottom},e.createElement(x.Z,{title:B.Ej.parseTimestampToDate(i)},e.createElement("span",{className:s.timeWrapper},e.createElement("span",{className:s.iconWrapper},e.createElement(w.Z,null)),B.Ej.parseTimestampToDifference(i))),e.createElement("span",{className:s.commitHashWrapper},e.createElement(k.Z,{to:j.Function.generateRepositoryCommitRoute({username:c,repositoryName:d,commitHash:u})},e.createElement("span",{className:s.iconWrapper},e.createElement(I,null)),u.slice(0,7)))))))}var U=e.memo((0,P.EN)(G));class H extends e.PureComponent{constructor(n){super(n);this.onShowBodyButtonClick=()=>{const{showBody:t}=this.state;this.setState({showBody:!t})},this.state={showBody:!1}}render(){const{tag:n}=this.props,{showBody:t}=this.state;return e.createElement(U,{tag:n,showBody:t,onShowBodyButtonClick:this.onShowBodyButtonClick})}}var V=H;function X(o){const{tags:n,loading:t,onLoadMoreButtonClick:r}=o;return e.createElement("div",{className:p.Tags},e.createElement(E.Z,{title:e.createElement("span",null,e.createElement(A,null)," \u6807\u7B7E\uFF08Tags\uFF09")},e.createElement(C.Z,{spinning:t},n.length===0?e.createElement(T.Z,{description:"\u5F53\u524D\u4ED3\u5E93\u6CA1\u6709\u6807\u7B7E"}):e.createElement(e.Fragment,null,e.createElement("div",{className:p.tagsWrapper},n.map(l=>e.createElement("div",{className:p.tagCardWrapper,key:l.name},e.createElement(V,{tag:l})))),e.createElement("div",{className:p.showMoreButtonWrapper},e.createElement(h.Z,{type:"primary",loading:t,disabled:t,onClick:r},"\u52A0\u8F7D\u66F4\u591A"))))))}var b=e.memo(X),K=a(62371),Y=a(24315),g=(o,n,t)=>new Promise((r,l)=>{var u=d=>{try{c(t.next(d))}catch(f){l(f)}},i=d=>{try{c(t.throw(d))}catch(f){l(f)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(u,i);c((t=t.apply(o,n)).next())});class J extends e.PureComponent{constructor(n){super(n);this.TAG_AMOUNT_PER_PAGE=10,this.setStatePromise=t=>new Promise(r=>{this.setState(t,()=>{r()})}),this.loadTags=(t,r)=>g(this,null,function*(){const{match:{params:{username:l,repositoryName:u}}}=this.props;yield this.setStatePromise({loading:!0});const i=yield K.CB.tags({username:l,name:u},t,r);if(i!==null){i.tags.length<this.TAG_AMOUNT_PER_PAGE&&(yield this.setStatePromise({allTagsLoaded:!0}));const{tags:c}=this.state;yield this.setStatePromise({tags:[...c,...i.tags]})}yield this.setStatePromise({loading:!1})}),this.loadMoreTags=()=>g(this,null,function*(){const{nextLoadOffset:t}=this.state;yield Promise.all([this.loadTags(t,this.TAG_AMOUNT_PER_PAGE),this.setStatePromise({nextLoadOffset:t+this.TAG_AMOUNT_PER_PAGE})])}),this.onLoadMoreButtonClick=()=>g(this,null,function*(){const{allTagsLoaded:t}=this.state;t?Y.Z.success({message:"\u5DF2\u52A0\u8F7D\u6240\u6709\u6807\u7B7E"}):yield this.loadMoreTags()}),this.state={tags:[],loading:!1,nextLoadOffset:0,allTagsLoaded:!1}}componentDidMount(){return g(this,null,function*(){yield this.loadMoreTags()})}componentDidUpdate(n,t,r){return g(this,null,function*(){const{match:{params:{username:l,repositoryName:u}}}=this.props,{match:{params:{username:i,repositoryName:c}}}=this.props;(l!==i||u!==c)&&(yield this.setStatePromise({nextLoadOffset:0}),yield this.componentDidMount())})}render(){const{tags:n,loading:t}=this.state;return e.createElement(b,{tags:n,loading:t,onLoadMoreButtonClick:this.onLoadMoreButtonClick})}}var Q=(0,P.EN)(J)},30153:function(Z,y,a){a.d(y,{Z:function(){return m}});var e=a(1413),p=a(89526),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},C=E,T=a(36593),h=function(S,v){return p.createElement(T.Z,(0,e.Z)((0,e.Z)({},S),{},{ref:v,icon:C}))};h.displayName="ClockCircleOutlined";var m=p.forwardRef(h)}}]);

//# sourceMappingURL=9376.375eb6cf.chunk.js.map