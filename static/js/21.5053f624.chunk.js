(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[21],{1205:function(e,t,a){e.exports={FileList:"Style_FileList__3rWIg",lastCommitInfoBar:"Style_lastCommitInfoBar__2XW39",readmeWrapper:"Style_readmeWrapper__25GwL"}},1206:function(e,t,a){e.exports={Item:"Style_Item__2qcqg",icon:"Style_icon__1TlO4",fileName:"Style_fileName__zs9qY",message:"Style_message__1rBHL",time:"Style_time__2cJ9G"}},1207:function(e,t,a){e.exports={Readme:"Style_Readme__2e1Tq",titleWrapper:"Style_titleWrapper__2ExlZ",title:"Style_title__2mCc5",contentWrapper:"Style_contentWrapper__3fQZA"}},1274:function(e,t,a){"use strict";var r=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},s=a(12),i=function(e,t){return r.createElement(s.a,Object.assign({},e,{ref:t,icon:n}))};i.displayName="FileTextOutlined";t.a=r.forwardRef(i)},1283:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return te}));var r=a(89),n=a(2),s=a.n(n),i=a(212),c=a(6),o=a(15),u=a(16),m=a(38),l=a(37),p=a(0),f=a.n(p),h=a(1205),b=a.n(h),d=a(1317),j=a(182),v=a(29),x=a(25),g=a(56),y=a(1206),O=a.n(y),k=a(57),N=a(71),w=a(1274),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},H=a(12),B=function(e,t){return p.createElement(H.a,Object.assign({},e,{ref:t,icon:_}))};B.displayName="FolderOutlined";var M=p.forwardRef(B),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},R=function(e,t){return p.createElement(H.a,Object.assign({},e,{ref:t,icon:L}))};R.displayName="ContainerOutlined";var S=p.forwardRef(R),C=a(1);function T(e){var t=e.masterBranchName,a=e.fileInfo,r=a.type,n=a.path,s=a.commit,i=s.message,c=s.timestamp,o=s.commitHash,u=e.match.params,m=u.username,l=u.repositoryName,p=u.commitHash,f=function(e){var t=e.split("/");return t[t.length-1]}(n);return Object(C.jsxs)(d.b.Item,{className:O.a.Item,children:[r===v.b.BLOB?Object(C.jsx)(w.a,{className:O.a.icon}):r===v.b.TREE?Object(C.jsx)(M,{className:O.a.icon}):Object(C.jsx)(S,{className:O.a.icon}),Object(C.jsx)("div",{className:O.a.fileName,children:r===v.b.COMMIT?f:Object(C.jsx)(x.b,{to:k.Function.generateRepositoryCodeRoute({username:m,repositoryName:l,objectType:r,commitHash:p||t,path:n}),children:f})}),Object(C.jsx)(x.b,{className:O.a.message,to:k.Function.generateRepositoryCommitRoute({username:m,repositoryName:l,commitHash:o}),children:i}),Object(C.jsx)("div",{className:O.a.time,children:N.b.parseTimestampToDifference(c)})]})}var D=Object(g.j)(f.a.memo(T)),A=a(1207),E=a.n(A),I=a(815),F=a(925);function P(e){var t=e.readme,a=e.exists,r=e.loading;return a?Object(C.jsx)("div",{className:E.a.Readme,children:Object(C.jsxs)(I.a,{spinning:r,children:[Object(C.jsxs)("div",{className:E.a.titleWrapper,children:[Object(C.jsx)(w.a,{}),Object(C.jsx)("div",{className:E.a.title,children:"README.md"})]}),Object(C.jsx)("div",{className:E.a.contentWrapper,children:Object(C.jsx)(F.a,{markdown:t})})]})}):null}var z=f.a.memo(P),U=a(325),W=a(863),V=a(101),q=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).setStatePromise=Object(V.promisify)(r.setState),r.loadRawReadme=Object(c.a)(s.a.mark((function e(){var t,a,n,i,c,o,u,m,l,p,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setStatePromise({exists:!1});case 2:t=["README.md","readme.md","readMe.md","ReadMe.md","README.MD","readme.MD","readMe.MD","ReadMe.MD"],a=r.props,n=a.match.params,i=n.username,c=n.repositoryName,o=n.path,u=a.commitHash,m=0,l=t;case 5:if(!(m<l.length)){e.next=26;break}return p=l[m],e.next=9,U.a.fileInfo({username:i},{name:c},Object(W.join)(o||"",p),u);case 9:if(null===(f=e.sent)||f.objectType!==v.b.BLOB){e.next=23;break}return e.next=13,U.a.rawFile({username:i},{name:c},Object(W.join)(o||"",p),u);case 13:if(null===(h=e.sent)){e.next=22;break}return e.t0=r,e.next=18,N.c.transformBlobToString(h);case 18:return e.t1=e.sent,e.t2={readme:e.t1,exists:!0},e.next=22,e.t0.setStatePromise.call(e.t0,e.t2);case 22:return e.abrupt("break",26);case 23:m++,e.next=5;break;case 26:case"end":return e.stop()}}),e)}))),r.state={exists:!1,readme:"",loading:!1},r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.commitHash){e.next=8;break}return e.next=4,this.setStatePromise({loading:!0});case 4:return e.next=6,this.loadRawReadme();case 6:return e.next=8,this.setStatePromise({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(s.a.mark((function e(t,a,r){var n,i,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,i=n.location.pathname,c=n.commitHash,o=t.location.pathname,u=t.commitHash,i===o&&c===u){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.readme,a=e.exists,r=e.loading;return Object(C.jsx)(z,{exists:a,readme:t,loading:r})}}]),a}(p.PureComponent),J=Object(g.j)(q),Y=a(924),$=f.a.lazy((function(){return a.e(49).then(a.bind(null,1316))}));function G(e){var t=e.fileList,a=e.lastCommit,r=e.loading,n=e.showPreviousFolderItem,s=e.masterBranchName,i=a.commitHash;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:b.a.FileList,children:[Object(C.jsx)("div",{className:b.a.lastCommitInfoBar,children:Object(C.jsx)(Y.a,{lastCommit:a})}),Object(C.jsxs)(d.b,{locale:{emptyText:Object(C.jsx)(j.a,{description:"\u6ca1\u6709\u6587\u4ef6"})},loading:r,className:b.a.fileList,children:[n?Object(C.jsx)($,{}):null,t.map((function(e){return Object(C.jsx)(D,{masterBranchName:s,fileInfo:e},e.path)}))]})]}),Object(C.jsx)("div",{className:b.a.readmeWrapper,children:Object(C.jsx)(J,{commitHash:i})})]})}var X=f.a.memo(G),Z=a(32),Q=a(133),K=a(3),ee=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setStatePromise=Object(V.promisify)(n.setState),n.loadMasterBranchName=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,c,o,u,m,l,p,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.match.params,r=a.username,c=a.repositoryName,e.next=3,Z.j.branches({username:r,name:c});case 3:if(null===(o=e.sent)){e.next=26;break}u=o.branches,m="",l=Object(i.a)(u),e.prev=8,l.s();case 10:if((p=l.n()).done){e.next=17;break}if(f=p.value,h=f.name,!f.isDefault){e.next=15;break}return m=h,e.abrupt("break",17);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),l.e(e.t0);case 22:return e.prev=22,l.f(),e.finish(22);case 25:n.setState({masterBranchName:m},(function(){return t()}));case 26:case"end":return e.stop()}}),e,null,[[8,19,22,25]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.loadDirectory=Object(c.a)(s.a.mark((function e(){var t,a,i,c,o,u,m,l,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match.params,i=a.username,c=a.repositoryName,o=a.path,u=a.commitHash,m=t.history,l=n.state.masterBranchName,e.next=4,Z.j.directory({username:i},{name:c},u||l,void 0===o?"":o+"/");case 4:if(null===(p=e.sent)){e.next=10;break}return e.next=8,n.setStatePromise({fileList:Object(r.a)(p)});case 8:e.next=11;break;case 10:m.replace(K.d[K.b.NOT_FOUND]);case 11:case"end":return e.stop()}}),e)}))),n.loadLastCommit=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,i,c,o,u,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.match.params,r=a.username,i=a.repositoryName,c=a.commitHash,o=a.path,u=n.state.masterBranchName,e.next=4,Z.j.lastBranchCommit({username:r},{name:i},c||u,o);case 4:null!==(m=e.sent)?n.setState({lastCommit:m},(function(){return t()})):t();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.state={fileList:[],lastCommit:new Q.b("","","",0,"",""),loading:!0,masterBranchName:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadMasterBranchName();case 3:return e.next=5,this.loadLastCommit();case 5:return e.next=7,this.loadDirectory();case 7:this.setState({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(s.a.mark((function e(t,a,r){var n,i,c,o,u,m,l,p,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.match.params,i=n.username,c=n.repositoryName,o=n.commitHash,u=n.path,m=this.props.match.params,l=m.username,p=m.repositoryName,f=m.commitHash,h=m.path,i===l&&c===p){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=19;break;case 7:if(o===f){e.next=14;break}return this.setState({loading:!0}),e.next=11,Promise.all([this.loadDirectory(),this.loadLastCommit()]);case 11:this.setState({loading:!1}),e.next=19;break;case 14:if(u===h){e.next=19;break}return this.setState({loading:!0}),e.next=18,this.loadDirectory();case 18:this.setState({loading:!1});case 19:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fileList,a=e.lastCommit,r=e.loading,n=e.masterBranchName,s=this.props.match.params.path;return Object(C.jsx)(X,{fileList:t,masterBranchName:n,lastCommit:a,loading:r,showPreviousFolderItem:void 0!==s&&"."!==s})}}]),a}(p.Component),te=Object(g.j)(ee)},863:function(e,t,a){(function(e){function a(e,t){for(var a=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),a++):a&&(e.splice(r,1),a--)}if(t)for(;a--;a)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var a=[],r=0;r<e.length;r++)t(e[r],r,e)&&a.push(e[r]);return a}t.resolve=function(){for(var t="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var i=s>=0?arguments[s]:e.cwd();if("string"!==typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,n="/"===i.charAt(0))}return(n?"/":"")+(t=a(r(t.split("/"),(function(e){return!!e})),!n).join("/"))||"."},t.normalize=function(e){var s=t.isAbsolute(e),i="/"===n(e,-1);return(e=a(r(e.split("/"),(function(e){return!!e})),!s).join("/"))||s||(e="."),e&&i&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,a){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var a=e.length-1;a>=0&&""===e[a];a--);return t>a?[]:e.slice(t,a-t+1)}e=t.resolve(e).substr(1),a=t.resolve(a).substr(1);for(var n=r(e.split("/")),s=r(a.split("/")),i=Math.min(n.length,s.length),c=i,o=0;o<i;o++)if(n[o]!==s[o]){c=o;break}var u=[];for(o=c;o<n.length;o++)u.push("..");return(u=u.concat(s.slice(c))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),a=47===t,r=-1,n=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!n){r=s;break}}else n=!1;return-1===r?a?"/":".":a&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var a=function(e){"string"!==typeof e&&(e+="");var t,a=0,r=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){a=t+1;break}}else-1===r&&(n=!1,r=t+1);return-1===r?"":e.slice(a,r)}(e);return t&&a.substr(-1*t.length)===t&&(a=a.substr(0,a.length-t.length)),a},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,a=0,r=-1,n=!0,s=0,i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(47!==c)-1===r&&(n=!1,r=i+1),46===c?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!n){a=i+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===a+1?"":e.slice(t,r)};var n="b"==="ab".substr(-1)?function(e,t,a){return e.substr(t,a)}:function(e,t,a){return t<0&&(t=e.length+t),e.substr(t,a)}}).call(this,a(52))},911:function(e,t){e.exports=function(e){if("string"!==typeof e)return!1;var t=e.match(a);if(!t)return!1;var s=t[1];if(!s)return!1;if(r.test(s)||n.test(s))return!0;return!1};var a=/^(?:\w+:)?\/\/(\S+)$/,r=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,n=/^[^\s\.]+\.\S{2,}$/},912:function(e,t,a){e.exports={CommitInfoBar:"Style_CommitInfoBar__AogMa",left:"Style_left__3aqnY",right:"Style_right__XNYqn",message:"Style_message__3Jq3M"}},924:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a(0),n=a.n(r),s=a(912),i=a.n(s),c=a(25),o=a(56),u=a(57),m=a(175),l=a(71),p=a(327),f=a(1);function h(e){var t=e.lastCommit,a=t.committerName,r=t.commitHash,n=t.message,s=t.timestamp,o=t.committerEmail,h=e.match.params,b=h.username,d=h.repositoryName;return Object(f.jsxs)("div",{className:i.a.CommitInfoBar,children:[Object(f.jsxs)("div",{className:i.a.left,children:[Object(f.jsx)(p.a,{committerEmail:o,committerName:a}),Object(f.jsx)("div",{className:i.a.message,children:n})]}),Object(f.jsxs)("div",{className:i.a.right,children:[Object(f.jsx)("div",{className:i.a.time,children:l.b.parseTimestampToDifference(s)}),Object(f.jsx)(m.a,{title:r,children:Object(f.jsxs)("div",{className:i.a.commitHash,children:["\u6700\u540e\u63d0\u4ea4\uff1a",Object(f.jsx)(c.b,{to:u.Function.generateRepositoryCommitRoute({username:b,repositoryName:d,commitHash:r}),children:r.slice(0,7)})]})})]})]})}var b=Object(o.j)(n.a.memo(h))},925:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var r=a(2),n=a.n(r),s=a(212),i=a(6),c=a(15),o=a(16),u=a(38),m=a(37),l=a(0),p=a(56),f=a(57),h=a(325),b=a(911),d=a.n(b),j=a(29),v=a(863),x=a.n(v),g=a(243),y=a(1),O=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).objectURLs=[],r.loadMainBranchName=Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(n.a.mark((function e(t){var a,i,c,o,u,m,l,p,f;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props.match.params,i=a.username,c=a.repositoryName,e.next=3,h.a.branches({username:i,name:c});case 3:if(null===(o=e.sent)){e.next=24;break}u=o.branches,m=Object(s.a)(u),e.prev=7,m.s();case 9:if((l=m.n()).done){e.next=16;break}if(p=l.value,f=p.name,!p.isDefault){e.next=14;break}return r.setState({mainBranchName:f},(function(){return t()})),e.abrupt("break",16);case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),m.e(e.t0);case 21:return e.prev=21,m.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[7,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),r.processHTML=function(){var e=Object(i.a)(n.a.mark((function e(t){var a,c,o,u,m,l,p,f,h,b,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=document.implementation.createHTMLDocument(),(c=a.createElement("div")).innerHTML=t,o=c.getElementsByTagName("a"),u=c.getElementsByTagName("img"),m=[],l=Object(s.a)(o);try{for(f=function(){var e=p.value,t=e.getAttribute("href");null!==t&&m.push(Object(i.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=e,a.next=3,r.getCompleteLink(t);case 3:a.t1=a.sent,a.t0.setAttribute.call(a.t0,"href",a.t1);case 5:case"end":return a.stop()}}),a)})))())},l.s();!(p=l.n()).done;)f()}catch(j){l.e(j)}finally{l.f()}h=Object(s.a)(u);try{for(d=function(){var e=b.value,t=e.getAttribute("src");null!==t&&m.push(Object(i.a)(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.getImageURL(t);case 2:s=a.sent,r.objectURLs.push(s),e.setAttribute("src",s);case 5:case"end":return a.stop()}}),a)})))())},h.s();!(b=h.n()).done;)d()}catch(j){h.e(j)}finally{h.f()}return e.next=12,Promise.all(m);case 12:return e.abrupt("return",c.innerHTML);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCompleteLink=function(){var e=Object(i.a)(n.a.mark((function e(t){var a,s,i,c,o,u,m,l,p,b;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length&&!d()(t)&&!x.a.isAbsolute(t)&&"#"!==t.charAt(0)&&"?"!==t.charAt(0)){e.next=4;break}return e.abrupt("return",t);case 4:return a=r.props.match.params,s=a.username,i=a.repositoryName,c=a.objectType,o=a.commitHash,u=a.path,m=r.state.mainBranchName,l=u?c===j.b.BLOB?x.a.join(x.a.dirname(u),t):x.a.join(u,t):x.a.join("",t),e.next=9,h.a.fileInfo({username:s},{name:i},l,o||m);case 9:if(null===(p=e.sent)){e.next=23;break}if((b=p.objectType)!==j.b.BLOB){e.next=16;break}return e.abrupt("return",f.Function.generateRepositoryCodeRoute({username:s,repositoryName:i,commitHash:o||m,path:l,objectType:j.b.BLOB}));case 16:if(b!==j.b.TREE){e.next=20;break}return e.abrupt("return",f.Function.generateRepositoryCodeRoute({username:s,repositoryName:i,commitHash:o||m,path:l,objectType:j.b.TREE}));case 20:return e.abrupt("return",f.Function.generateRepositoryCodeRoute({username:s,repositoryName:i,commitHash:o||m,path:l,objectType:j.b.COMMIT}));case 21:e.next=24;break;case 23:return e.abrupt("return",f.Function.generateRepositoryCodeRoute({username:s,repositoryName:i,commitHash:o||m,path:l,objectType:j.b.BLOB}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getImageURL=function(){var e=Object(i.a)(n.a.mark((function e(t){var a,s,i,c,o,u,m,l,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d()(t)&&!x.a.isAbsolute(t)){e.next=4;break}return e.abrupt("return",t);case 4:return a=r.props.match.params,s=a.username,i=a.repositoryName,c=a.objectType,o=a.commitHash,u=a.path,m=r.state.mainBranchName,l=u?c===j.b.BLOB?x.a.join(x.a.dirname(u),t):x.a.join(u,t):x.a.join("",t),e.next=9,h.a.rawFile({username:s},{name:i},l,o||m);case 9:if(null===(p=e.sent)){e.next=14;break}return e.abrupt("return",URL.createObjectURL(p));case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={mainBranchName:"",loading:!1},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.commitHash,this.setState({loading:!0}),"string"===typeof t){e.next=5;break}return e.next=5,this.loadMainBranchName();case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(n.a.mark((function e(t,a,r){var s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.props.markdown,i=t.markdown,s===i){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.objectURLs.forEach((function(e){return URL.revokeObjectURL(e)}))}},{key:"render",value:function(){var e=this.state.loading,t=this.props.markdown;return Object(y.jsx)(g.a,{markdown:t,processHTML:this.processHTML,loading:e})}}]),a}(l.PureComponent),k=Object(p.j)(O)}}]);
//# sourceMappingURL=21.5053f624.chunk.js.map