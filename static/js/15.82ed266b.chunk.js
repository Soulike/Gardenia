(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[15],{1056:function(e,t,a){"use strict";var r=a(0),n=a(7),o=a.n(n),c=a(62),s=a(112);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var l=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},u=function(e){return r.createElement(s.a,null,(function(t){var a,n,c,s=t.getPrefixCls,u=e.prefixCls,p=e.className,m=e.hoverable,y=void 0===m||m,f=l(e,["prefixCls","className","hoverable"]),h=s("card",u),d=o()("".concat(h,"-grid"),p,(a={},n="".concat(h,"-grid-hoverable"),c=y,n in a?Object.defineProperty(a,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[n]=c,a));return r.createElement("div",i({},f,{className:d}))}))};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var m=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},y=function(e){return r.createElement(s.a,null,(function(t){var a=t.getPrefixCls,n=e.prefixCls,c=e.className,s=e.avatar,i=e.title,l=e.description,u=m(e,["prefixCls","className","avatar","title","description"]),y=a("card",n),f=o()("".concat(y,"-meta"),c),h=s?r.createElement("div",{className:"".concat(y,"-meta-avatar")},s):null,d=i?r.createElement("div",{className:"".concat(y,"-meta-title")},i):null,v=l?r.createElement("div",{className:"".concat(y,"-meta-description")},l):null,b=d||v?r.createElement("div",{className:"".concat(y,"-meta-detail")},d,v):null;return r.createElement("div",p({},u,{className:f}),h,b)}))},f=a(166),h=a(1231).a,d=a(1197).a,v=a(199);function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.d(t,"a",(function(){return _}));var j=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function w(e){return e.map((function(t,a){return r.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},r.createElement("span",null,t))}))}var _=function(e){function t(){var e;return R(this,t),(e=N(this,C(t).apply(this,arguments))).onTabChange=function(t){e.props.onTabChange&&e.props.onTabChange(t)},e.renderCard=function(t){var a,n,s=t.getPrefixCls,i=t.direction,l=e.props,u=l.prefixCls,p=l.className,m=l.extra,y=l.headStyle,b=void 0===y?{}:y,R=l.bodyStyle,O=void 0===R?{}:R,N=l.title,C=l.loading,S=l.bordered,_=void 0===S||S,k=l.size,x=l.type,B=l.cover,P=l.actions,T=l.tabList,W=l.children,U=l.activeTabKey,D=l.defaultActiveTabKey,M=l.tabBarExtraContent,I=l.hoverable,A=j(l,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable"]),q=s("card",u),F=0===O.padding||"0px"===O.padding?{padding:24}:void 0,K=r.createElement("div",{className:"".concat(q,"-loading-content"),style:F},r.createElement(h,{gutter:8},r.createElement(d,{span:22},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(h,{gutter:8},r.createElement(d,{span:8},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(d,{span:15},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(h,{gutter:8},r.createElement(d,{span:6},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(d,{span:18},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(h,{gutter:8},r.createElement(d,{span:13},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(d,{span:9},r.createElement("div",{className:"".concat(q,"-loading-block")}))),r.createElement(h,{gutter:8},r.createElement(d,{span:4},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(d,{span:3},r.createElement("div",{className:"".concat(q,"-loading-block")})),r.createElement(d,{span:16},r.createElement("div",{className:"".concat(q,"-loading-block")})))),L=void 0!==U,z=(E(a={},L?"activeKey":"defaultActiveKey",L?U:D),E(a,"tabBarExtraContent",M),a),G=T&&T.length?r.createElement(f.a,g({},z,{className:"".concat(q,"-head-tabs"),size:"large",onChange:e.onTabChange}),T.map((function(e){return r.createElement(f.a.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(N||m||G)&&(n=r.createElement("div",{className:"".concat(q,"-head"),style:b},r.createElement("div",{className:"".concat(q,"-head-wrapper")},N&&r.createElement("div",{className:"".concat(q,"-head-title")},N),m&&r.createElement("div",{className:"".concat(q,"-extra")},m)),G));var H=B?r.createElement("div",{className:"".concat(q,"-cover")},B):null,Y=r.createElement("div",{className:"".concat(q,"-body"),style:O},C?K:W),J=P&&P.length?r.createElement("ul",{className:"".concat(q,"-actions")},w(P)):null,X=Object(c.a)(A,["onTabChange"]);return r.createElement(v.b.Consumer,null,(function(t){var a,c=k||t,s=o()(q,p,(E(a={},"".concat(q,"-loading"),C),E(a,"".concat(q,"-bordered"),_),E(a,"".concat(q,"-hoverable"),I),E(a,"".concat(q,"-contain-grid"),e.isContainGrid()),E(a,"".concat(q,"-contain-tabs"),T&&T.length),E(a,"".concat(q,"-").concat(c),c),E(a,"".concat(q,"-type-").concat(x),!!x),E(a,"".concat(q,"-rtl"),"rtl"===i),a));return r.createElement("div",g({},X,{className:s}),n,H,Y,J)}))},e}var a,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),a=t,(n=[{key:"isContainGrid",value:function(){var e;return r.Children.forEach(this.props.children,(function(t){t&&t.type&&t.type===u&&(e=!0)})),e}},{key:"render",value:function(){return r.createElement(s.a,null,this.renderCard)}}])&&O(a.prototype,n),i&&O(a,i),t}(r.Component);_.Grid=u,_.Meta=y},1057:function(e,t,a){"use strict";a(67),a(1058),a(478),a(1055)},1058:function(e,t,a){},1068:function(e,t,a){e.exports={PageTitle:"Style_PageTitle__3R_vY"}},1070:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1068),c=a.n(o);var s=function(e){var t=e.children;return n.a.createElement("h1",{className:c.a.PageTitle},t)};a.d(t,"a",(function(){return s}))},1146:function(e,t,a){e.exports={Compare:"Style_Compare__1mDVF",detailWrapper:"Style_detailWrapper__1-wfW",detailTabs:"Style_detailTabs__L8UYT",pullRequestCommitsWrapper:"Style_pullRequestCommitsWrapper__3LPfG"}},1147:function(e,t,a){e.exports={CompareCard:"Style_CompareCard__2IST9",selectorWrapper:"Style_selectorWrapper__328Ap",repositoriesSelectorWrapper:"Style_repositoriesSelectorWrapper__2pIWR",isMergeableIndicatorWrapper:"Style_isMergeableIndicatorWrapper__2PXxA"}},1148:function(e,t,a){e.exports={RepositoriesSelector:"Style_RepositoriesSelector__17eFU",arrow:"Style_arrow__24B1h",target:"Style_target__21Y1o",source:"Style_source__GvP7D",targetRepositorySelectWrapper:"Style_targetRepositorySelectWrapper__3letX",sourceRepository:"Style_sourceRepository__1Uaey"}},1149:function(e,t,a){},1150:function(e,t,a){e.exports={CommentPoster:"Style_CommentPoster__PKPyi",contentWrapper:"Style_contentWrapper__1E6hF",content:"Style_content__3_2cW",tipWrapper:"Style_tipWrapper__2mBWC",previewWrapper:"Style_previewWrapper__1FsZA",buttonWrapper:"Style_buttonWrapper__1qKkZ"}},1199:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a(14),o=a(36),c=a(35),s=a(37),i=a(0),l=a.n(i),u=(a(478),a(166)),p=(a(319),a(91)),m=a(1146),y=a.n(m),f=a(1070),h=(a(1057),a(1056)),d=a(1147),v=a.n(d),b=a(100),g=a(154),E=a(2),R=a.n(E),O=a(5),N=(a(1097),a(1091)),C=a(1148),S=a.n(C),j=a(120),w={name:"arrow-left",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]}},_=a(17),k=function(e,t){return l.a.createElement(_.a,Object.assign({},e,{ref:t,icon:w}))};k.displayName="ArrowLeftOutlined";var x=l.a.forwardRef(k);var B=Object(j.f)(l.a.memo((function(e){var t=e.sourceRepositoryBranchNames,a=e.targetRepositoryBranchNames,r=e.onSourceRepositoryBranchSelectorChange,n=e.onTargetRepositoryBranchSelectorChange,o=e.loading,c=e.targetRepositories,s=e.onTargetRepositorySelectorChange,i=e.match.params,u=i.sourceRepositoryUsername,p=i.sourceRepositoryName,m=i.sourceRepositoryBranch,y=i.targetRepositoryBranch,f=i.username,h=i.repository;return l.a.createElement("div",{className:S.a.RepositoriesSelector},l.a.createElement("div",{className:S.a.target},l.a.createElement("div",{className:S.a.targetRepositorySelectWrapper},l.a.createElement(N.a,{loading:o,disabled:o,onChange:s,value:"".concat(f,"/").concat(h)},c.map((function(e){var t=e.username,a=e.name;return l.a.createElement(N.a.Option,{value:"".concat(t,"/").concat(a),key:"".concat(t,"/").concat(a)},t," / ",a)})))),l.a.createElement(N.a,{loading:o,disabled:o,onChange:n,value:y},a.map((function(e){return l.a.createElement(N.a.Option,{value:e,key:e},e)})))),l.a.createElement("div",{className:S.a.arrow},l.a.createElement(x,null)),l.a.createElement("div",{className:S.a.source},l.a.createElement("div",{className:S.a.sourceRepository},u," / ",p),l.a.createElement(N.a,{loading:o,disabled:o,onChange:r,value:m},t.map((function(e){return l.a.createElement(N.a.Option,{value:e,key:e},e)})))))}))),P=a(45),T=a(78),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadSourceRepositoryBranchNames=Object(O.a)(R.a.mark((function e(){var t,r,n,o,c,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o={username:r,name:n},e.next=4,T.g.branchNames(o);case 4:null!==(c=e.sent)&&(s=c.branchNames,a.setState({sourceRepositoryBranchNames:s}));case 6:case"end":return e.stop()}}),e)}))),a.loadTargetRepositories=Object(O.a)(R.a.mark((function e(){var t,r,n,o,c,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o={username:r,name:n},e.next=4,T.g.forkFrom(o);case 4:null!==(c=e.sent)&&(null!==(s=c.repository)?a.setState({targetRepositories:[s,o]}):a.setState({targetRepositories:[o]}));case 6:case"end":return e.stop()}}),e)}))),a.loadTargetRepositoryBranchNames=Object(O.a)(R.a.mark((function e(){var t,r,n,o,c,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.repository,n=t.username,o={username:n,name:r},e.next=4,T.g.branchNames(o);case 4:null!==(c=e.sent)&&(s=c.branchNames,a.setState({targetRepositoryBranchNames:s}));case 6:case"end":return e.stop()}}),e)}))),a.onTargetRepositorySelectorChange=function(e){var t=a.props,r=t.match.params,n=t.history,o=e.toString().split("/"),c=Object(g.a)(o,2),s=c[0],i=c[1];n.push(P.b.generateRepositoryCompareRoute(Object(b.a)({},r,{username:s,repository:i})))},a.onSourceRepositoryBranchSelectorChange=function(e){var t=a.props,r=t.match.params;t.history.push(P.b.generateRepositoryCompareRoute(Object(b.a)({},r,{sourceRepositoryBranch:e.toString()})))},a.onTargetRepositoryBranchSelectorChange=function(e){var t=a.props,r=t.match.params;t.history.push(P.b.generateRepositoryCompareRoute(Object(b.a)({},r,{targetRepositoryBranch:e.toString()})))},a.state={sourceRepositoryBranchNames:[],targetRepositoryBranchNames:[],targetRepositories:[],loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Promise.all([this.loadSourceRepositoryBranchNames(),this.loadTargetRepositories(),this.loadTargetRepositoryBranchNames()]);case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.sourceRepositoryBranchNames,a=e.targetRepositoryBranchNames,r=e.loading,n=e.targetRepositories;return l.a.createElement(B,{sourceRepositoryBranchNames:t,targetRepositoryBranchNames:a,loading:r,targetRepositories:n,onTargetRepositorySelectorChange:this.onTargetRepositorySelectorChange,onSourceRepositoryBranchSelectorChange:this.onSourceRepositoryBranchSelectorChange,onTargetRepositoryBranchSelectorChange:this.onTargetRepositoryBranchSelectorChange})}}]),t}(i.PureComponent),U=Object(j.f)(W),D=(a(479),a(203)),M=a(1149),I=a.n(M),A=a(1049);var q=l.a.memo((function(e){var t=e.isMergeable,a=e.loading;return l.a.createElement("div",{className:I.a.IsMergeableIndicator},a?l.a.createElement(D.a,{showIcon:!0,icon:l.a.createElement(A.a,null),type:"info",message:"\u6b63\u5728\u68c0\u67e5\u662f\u5426\u53ef\u81ea\u52a8\u5408\u5e76"}):t?l.a.createElement(D.a,{showIcon:!0,type:"success",message:"\u53ef\u4ee5\u81ea\u52a8\u5408\u5e76"}):l.a.createElement(D.a,{showIcon:!0,type:"error",message:"\u4e0d\u80fd\u81ea\u52a8\u5408\u5e76\uff0c\u4f46\u60a8\u4ecd\u53ef\u521b\u5efa Pull Request"}))})),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadIsMergeable=Object(O.a)(R.a.mark((function e(){var t,r,n,o,c,s,i,l,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.username,n=t.repository,o=t.targetRepositoryBranch,c=t.sourceRepositoryUsername,s=t.sourceRepositoryName,i=t.sourceRepositoryBranch,e.next=3,T.f.isMergeable({username:c,name:s},i,{username:r,name:n},o);case 3:null!==(l=e.sent)&&(u=l.isMergeable,a.setState({isMergeable:u}));case 5:case"end":return e.stop()}}),e)}))),a.state={isMergeable:!0,loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadIsMergeable();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(O.a)(R.a.mark((function e(t,a,r){var n,o,c,s,i,l,u,p,m,y,f,h,d,v;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.match.params,o=n.username,c=n.repository,s=n.targetRepositoryBranch,i=n.sourceRepositoryUsername,l=n.sourceRepositoryName,u=n.sourceRepositoryBranch,p=t.match.params,m=p.username,y=p.repository,f=p.targetRepositoryBranch,h=p.sourceRepositoryUsername,d=p.sourceRepositoryName,v=p.sourceRepositoryBranch,o===m&&c===y&&s===f&&i===h&&l===d&&u===v){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isMergeable,a=e.loading;return l.a.createElement(q,{isMergeable:t,loading:a})}}]),t}(i.PureComponent),K=Object(j.f)(F),L=a(1047);var z=Object(j.f)(l.a.memo((function(e){var t=e.match.params,a=t.sourceRepositoryUsername,r=t.sourceRepositoryName,n=t.sourceRepositoryBranch,o=t.username,c=t.repository,s=t.targetRepositoryBranch,i=a===o&&r===c&&n===s;return l.a.createElement(h.a,{size:"small"},l.a.createElement("div",{className:v.a.CompareCard},l.a.createElement("div",{className:v.a.selectorWrapper},l.a.createElement("div",{className:v.a.iconWrapper},l.a.createElement(L.a,null)),l.a.createElement("div",{className:v.a.repositoriesSelectorWrapper},l.a.createElement(U,null))),i?null:l.a.createElement("div",{className:v.a.isMergeableIndicatorWrapper},l.a.createElement(K,null))))}))),G=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return l.a.createElement(z,null)}}]),t}(i.PureComponent),H=(a(79),a(8)),Y=(a(164),a(46)),J=(a(1059),a(1060)),X=a(1150),Z=a.n(X),V=a(331);var Q=l.a.memo((function(e){var t=e.title,a=e.onTitleChange,r=e.content,n=e.onContentChange,o=e.onTabChange,c=e.contentToPreview,s=e.submitting,i=e.onSubmitButtonClick;return l.a.createElement(h.a,{size:"small"},l.a.createElement("div",{className:Z.a.CommentPoster},l.a.createElement("div",{className:Z.a.titleWrapper},l.a.createElement(J.a,{placeholder:"\u6807\u9898\uff08\u5fc5\u586b\uff09",size:"large",autoFocus:!0,value:t,onChange:a,disabled:s})),l.a.createElement("div",{className:Z.a.contentWrapper},l.a.createElement(u.a,{defaultActiveKey:"write",type:"card",onChange:o},l.a.createElement(u.a.TabPane,{key:"write",tab:"\u7f16\u8f91"},l.a.createElement(J.a.TextArea,{placeholder:"\u8865\u5145\u8bf4\u660e\uff08\u9009\u586b\uff09",disabled:s,className:Z.a.content,value:r,onChange:n}),l.a.createElement("div",{className:Z.a.tipWrapper},l.a.createElement(D.a,{type:"info",message:"\u8865\u5145\u8bf4\u660e\u652f\u6301 Markdown \u8bed\u6cd5\u3002",showIcon:!0}))),l.a.createElement(u.a.TabPane,{key:"preview",tab:"\u9884\u89c8"},l.a.createElement("div",{className:Z.a.previewWrapper},l.a.createElement(V.a,{markdown:c}))))),l.a.createElement("div",{className:Z.a.buttonWrapper},l.a.createElement(Y.a,{loading:s,disabled:s,size:"large",type:"primary",onClick:i},"\u521b\u5efa Pull Request"))))})),$=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).onTitleChange=function(e){a.setState({title:e.target.value})},a.onContentChange=function(e){a.setState({content:e.target.value})},a.onTabChange=function(e){if("preview"===e){var t=a.state.content;a.setState({contentToPreview:t})}},a.onSubmitButtonClick=Object(O.a)(R.a.mark((function e(){var t,r,n,o,c,s,i,l,u,p,m,y;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,r=t.title,n=t.content,0!==r.length){e.next=5;break}H.a.warn({message:"\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"}),e.next=12;break;case 5:return o=a.props,c=o.history,s=o.match.params,i=s.sourceRepositoryUsername,l=s.sourceRepositoryName,u=s.sourceRepositoryBranch,p=s.repository,m=s.username,y=s.targetRepositoryBranch,a.setState({submitting:!0}),e.next=9,T.e.add({title:r,content:n,sourceRepositoryUsername:i,sourceRepositoryName:l,sourceRepositoryBranchName:u,targetRepositoryUsername:m,targetRepositoryName:p,targetRepositoryBranchName:y});case 9:null!==e.sent&&(H.a.success({message:"\u521b\u5efa Pull Request \u6210\u529f"}),setTimeout((function(){c.replace(P.b.generateRepositoryPullRequestsRoute({username:m,repository:p}))}),1e3)),a.setState({submitting:!1});case 12:case"end":return e.stop()}}),e)}))),a.state={title:"",content:"",contentToPreview:"",submitting:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.content,r=e.contentToPreview,n=e.submitting;return l.a.createElement(Q,{title:t,content:a,contentToPreview:r,onTitleChange:this.onTitleChange,onContentChange:this.onContentChange,onTabChange:this.onTabChange,submitting:n,onSubmitButtonClick:this.onSubmitButtonClick})}}]),t}(i.PureComponent),ee=Object(j.f)($),te=(a(165),a(90)),ae=a(329);var re=l.a.memo((function(e){var t=e.commits,a=e.loading;return l.a.createElement("div",null,l.a.createElement(te.a,{spinning:a},l.a.createElement(ae.a,{commits:t})))})),ne=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadCommits=Object(O.a)(R.a.mark((function e(){var t,r,n,o,c,s,i,l,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o=t.sourceRepositoryBranch,c=t.username,s=t.repository,i=t.targetRepositoryBranch,e.next=3,T.g.forkCommitHistory({username:r,name:n},o,{username:c,name:s},i);case 3:null!==(l=e.sent)&&(u=l.commits,a.setState({commits:u}));case 5:case"end":return e.stop()}}),e)}))),a.state={commits:[],loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadCommits();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(O.a)(R.a.mark((function e(t,a,r){var n,o,c,s,i,l,u,p,m,y,f,h,d,v;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.match.params,o=n.username,c=n.repository,s=n.targetRepositoryBranch,i=n.sourceRepositoryUsername,l=n.sourceRepositoryName,u=n.sourceRepositoryBranch,p=t.match.params,m=p.username,y=p.repository,f=p.targetRepositoryBranch,h=p.sourceRepositoryUsername,d=p.sourceRepositoryName,v=p.sourceRepositoryBranch,o===m&&c===y&&s===f&&i===h&&l===d&&u===v){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.commits,a=e.loading;return l.a.createElement(re,{commits:t,loading:a})}}]),t}(i.PureComponent),oe=Object(j.f)(ne),ce=a(328);var se=l.a.memo((function(e){var t=e.fileDiffs,a=e.loading;return l.a.createElement("div",null,l.a.createElement(te.a,{spinning:a},l.a.createElement(ce.a,{fileDiffs:t})))})),ie=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).loadFileDiffs=Object(O.a)(R.a.mark((function e(){var t,r,n,o,c,s,i,l,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o=t.sourceRepositoryBranch,c=t.username,s=t.repository,i=t.targetRepositoryBranch,e.next=3,T.g.forkFileDiff({username:r,name:n},o,{username:c,name:s},i);case 3:null!==(l=e.sent)&&(u=l.fileDiffs,a.setState({fileDiffs:u}));case 5:case"end":return e.stop()}}),e)}))),a.state={fileDiffs:[],loading:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadFileDiffs();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(O.a)(R.a.mark((function e(t,a,r){var n,o,c,s,i,l,u,p,m,y,f,h,d,v;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.match.params,o=n.username,c=n.repository,s=n.targetRepositoryBranch,i=n.sourceRepositoryUsername,l=n.sourceRepositoryName,u=n.sourceRepositoryBranch,p=t.match.params,m=p.username,y=p.repository,f=p.targetRepositoryBranch,h=p.sourceRepositoryUsername,d=p.sourceRepositoryName,v=p.sourceRepositoryBranch,o===m&&c===y&&s===f&&i===h&&l===d&&u===v){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fileDiffs,a=e.loading;return l.a.createElement(se,{fileDiffs:t,loading:a})}}]),t}(i.PureComponent),le=Object(j.f)(ie);var ue=Object(j.f)(l.a.memo((function(e){var t=e.match.params,a=t.sourceRepositoryUsername,r=t.sourceRepositoryName,n=t.sourceRepositoryBranch,o=t.username,c=t.repository,s=t.targetRepositoryBranch,i=a===o&&r===c&&n===s;return l.a.createElement("div",{className:y.a.Compare},l.a.createElement(f.a,null,"\u521b\u5efa Pull Request"),l.a.createElement("div",{className:y.a.compareCardWrapper},l.a.createElement(G,null)),l.a.createElement("div",{className:y.a.detailWrapper},i?l.a.createElement(p.a,{description:"\u5fc5\u987b\u662f\u4e0d\u540c\u5206\u652f\u624d\u53ef\u521b\u5efa Pull Request"}):l.a.createElement("div",{className:y.a.detail},l.a.createElement("div",{className:y.a.commentPosterWrapper},l.a.createElement(ee,null)),l.a.createElement("div",{className:y.a.detailTabs},l.a.createElement(u.a,{defaultActiveKey:"commits",type:"card"},l.a.createElement(u.a.TabPane,{tab:"\u63d0\u4ea4",key:"commits"},l.a.createElement("div",{className:y.a.pullRequestCommitsWrapper},l.a.createElement(oe,null))),l.a.createElement(u.a.TabPane,{tab:"\u4fee\u6539\u7684\u6587\u4ef6",key:"fileChanged"},l.a.createElement("div",{className:y.a.pullRequestFileDiffsWrapper},l.a.createElement(le,null))))))))}))),pe=P.a.PAGE_ID_TO_ROUTE,me=P.a.PAGE_ID,ye=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).checkURLParameters=function(){var e=a.props,t=e.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,o=t.sourceRepositoryBranch,c=t.targetRepositoryBranch,s=e.history;void 0!==r&&void 0!==n&&void 0!==o&&void 0!==c||s.replace(pe[me.NOT_FOUND])},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.checkURLParameters()}},{key:"render",value:function(){return l.a.createElement(ue,null)}}]),t}(i.PureComponent),fe=Object(j.f)(ye);a.d(t,"default",(function(){return fe}))}}]);
//# sourceMappingURL=15.82ed266b.chunk.js.map