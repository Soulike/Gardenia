(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[41],{712:function(e,t,n){e.exports={Code:"Style_Code__2UKpz",description:"Style_description__Yt5nK",buttonWrapper:"Style_buttonWrapper__3GVKN",leftButtonWrapper:"Style_leftButtonWrapper__3I9h4",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__2ls3J"}},794:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(4),s=n(10),u=n(11),c=n(29),i=n(28),l=n(30),p=n(0),m=n.n(p),f=(n(710),n(767)),h=(n(87),n(27)),b=n(712),d=n.n(b),y=n(23),v=n(17),w=n(32),x=m.a.lazy((function(){return Promise.all([n.e(6),n.e(37)]).then(n.bind(null,804))})),k=m.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(17)]).then(n.bind(null,776))})),C=m.a.lazy((function(){return Promise.all([n.e(0),n.e(42)]).then(n.bind(null,801))})),E=m.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(26)]).then(n.bind(null,802))})),j=m.a.lazy((function(){return n.e(20).then(n.bind(null,777))})),_=m.a.lazy((function(){return n.e(38).then(n.bind(null,787))}));var g=m.a.memo((function(e){var t=e.repository,n=t.username,r=t.name,a=t.description,o=e.branches,s=e.commitCount,u=e.objectType,c=e.loading,i="",l=!0,p=!1,b=void 0;try{for(var g,O=o[Symbol.iterator]();!(l=(g=O.next()).done);l=!0){var S=g.value,P=S.isDefault,R=S.name;P&&(i=R)}}catch(B){p=!0,b=B}finally{try{l||null==O.return||O.return()}finally{if(p)throw b}}return m.a.createElement("div",{className:d.a.Code},m.a.createElement(f.a,{active:!0,loading:c},m.a.createElement("div",{className:d.a.description},a),m.a.createElement(_,{commitCount:s,branches:o}),0===s?m.a.createElement(E,null):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:d.a.buttonWrapper},m.a.createElement("div",{className:d.a.leftButtonWrapper},m.a.createElement(x,{branches:o}),m.a.createElement("div",{className:d.a.newPullRequestButtonWrapper},m.a.createElement(v.b,{to:w.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:n,sourceRepositoryName:r,sourceRepositoryBranch:i,targetRepositoryBranch:i,repository:r,username:n})},m.a.createElement(h.a,null,"\u521b\u5efa Pull Request")))),m.a.createElement(C,{username:n,repository:r})),void 0===u||u===y.b.TREE?m.a.createElement(k,null):m.a.createElement(j,null))))})),O=n(93),S=n(79),P=n(210),R=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).loadRepository=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(t){var r,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.match.params,o=r.username,s=r.repository,e.next=3,P.a.repository({username:o},{name:s});case 3:null!==(u=e.sent)&&n.setState({repository:u},(function(){return t()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.loadCommitCount=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(t){var r,o,s,u,c,i,l,p,m,f,h,b,d,y,v,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.match.params,o=r.username,s=r.repository,u=r.branch,c=n.state.branches,i="",u){e.next=23;break}for(l=!0,p=!1,m=void 0,e.prev=7,f=c[Symbol.iterator]();!(l=(h=f.next()).done);l=!0)b=h.value,d=b.isDefault,y=b.name,d&&(i=y);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),p=!0,m=e.t0;case 15:e.prev=15,e.prev=16,l||null==f.return||f.return();case 18:if(e.prev=18,!p){e.next=21;break}throw m;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.next=25,P.a.commitCount({username:o},{name:s},u||i);case 25:null!==(v=e.sent)&&(w=v.commitCount,n.setState({commitCount:w},(function(){return t()})));case 27:case"end":return e.stop()}}),e,null,[[7,11,15,23],[16,,18,22]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.loadBranches=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(t){var r,o,s,u,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.match.params,o=r.username,s=r.repository,e.next=3,P.a.branches({username:o,name:s});case 3:null!==(u=e.sent)&&(c=u.branches,n.setState({branches:c},(function(){return t()})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.state={repository:new O.f("","","",!0),branches:[],commitCount:0,loading:!0},n}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadBranches();case 3:return e.next=5,Promise.all([this.loadRepository(),this.loadCommitCount()]);case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var o,s,u,c,i,l,p,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.match.params,s=o.username,u=o.repository,c=o.branch,i=this.props.match.params,l=i.username,p=i.repository,m=i.branch,s===l&&u===p){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=12;break;case 7:if(c===m){e.next=12;break}return this.setState({loading:!0}),e.next=11,this.loadCommitCount();case 11:this.setState({loading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,n=e.branches,r=e.commitCount,a=e.loading,o=this.props.match.params.objectType;return m.a.createElement(g,{repository:t,commitCount:r,branches:n,objectType:o,loading:a})}}]),t}(p.PureComponent),B=Object(S.f)(R);n.d(t,"default",(function(){return B}))}}]);
//# sourceMappingURL=41.9a7f1395.chunk.js.map