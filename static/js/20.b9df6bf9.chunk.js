(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[20],{1215:function(e,t,n){"use strict";n.r(t);n(126);var a=n(38),o=n(8),r=n.n(o),s=n(29),u=n(60),i=n(83),c=n(262),p=n(261),m=n(263),l=n(0),g=n.n(l),h=(n(925),n(929)),f=(n(932),n(944)),d=(n(402),n(47)),b=n(978),w=n.n(b),v=n(955),I=n.n(v);var _=g.a.memo((function(e){var t=e.username,n=e.password,a=e.onUsernameInputChange,o=e.onPasswordInputChange,r=e.onLoginFormSubmit;return g.a.createElement("main",{className:w.a.Login},g.a.createElement("form",{action:"#",className:w.a.form,onSubmit:r},g.a.createElement("img",{className:w.a.logo,src:I.a,alt:"web_developer_logo"}),g.a.createElement(f.a,{type:"text",size:"large",onChange:a,autoFocus:!0,value:t,placeholder:"\u7528\u6237\u540d",prefix:g.a.createElement(d.a,{type:"user"})}),g.a.createElement(f.a,{type:"password",size:"large",onChange:o,value:n,placeholder:"\u5bc6\u7801",prefix:g.a.createElement(d.a,{type:"lock"})}),g.a.createElement(h.a,{htmlType:"submit",className:w.a.button,size:"large",type:"primary",block:!0},"\u767b\u5f55")))})),L=n(125),y=n(95),k=n(195),E=n(189),x=n(190),C=n(264),S=L.a.PAGE_ID,O=L.a.PAGE_ID_TO_ROUTE,j=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(p.a)(t).call(this,e))).setTitle=function(){document.title="\u767b\u5f55\u767b\u5f55- Git Demo"},n.onUsernameInputChange=function(e){n.setState({username:e.target.value})},n.onPasswordInputChange=function(e){n.setState({password:e.target.value})},n.onLoginFormSubmit=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.loginFormInputCheck()){e.next=4;break}return e.next=4,n.submitLoginForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loginFormInputCheck=function(){var e=n.state,t=e.username,o=e.password;return 0===t.length?(a.a.warn({message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"}),!1):0!==o.length||(a.a.warn({message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"}),!1)},n.submitLoginForm=Object(s.a)(r.a.mark((function e(){var t,a,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.username,o=t.password,s=C.a.calculateHash(a,o),e.next=4,k.a.login(new C.a(a,s));case 4:if(!e.sent){e.next=8;break}return e.next=8,n.onLoginSuccess();case 8:case"end":return e.stop()}}),e)}))),n.onLoginSuccess=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,n.props.setLoggedIn)(),a.a.success({message:"\u767b\u5f55\u6210\u529f"}),n.props.history.push(O[S.INDEX]);case 4:case"end":return e.stop()}}),e)}))),n.state={username:"",password:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setTitle(),this.props.isLoggedIn&&this.props.history.push(O[S.INDEX])}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return g.a.createElement(_,{username:t,password:n,onLoginFormSubmit:this.onLoginFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange})}}]),t}(l.PureComponent),F={setLoggedIn:E.setLoggedInAction},D=Object(y.f)(Object(x.b)((function(e){return{isLoggedIn:e.Root.isLoggedIn}}),F)(j));t.default=D},955:function(e,t,n){e.exports=n.p+"static/media/developing_code.240e8e0f.svg"},978:function(e,t,n){e.exports={Login:"Style_Login__2bEsG",form:"Style_form__1Yzdr",logo:"Style_logo__3bWtv",button:"Style_button__3L0sa"}}}]);
//# sourceMappingURL=20.b9df6bf9.chunk.js.map