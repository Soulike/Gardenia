(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[23],{1076:function(e,t,n){"use strict";var r=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},i=n(20),s=function(e,t){return r.createElement(i.a,Object.assign({},e,{ref:t,icon:a}))};s.displayName="HomeOutlined";t.a=r.forwardRef(s)},1151:function(e,t,n){},1152:function(e,t,n){e.exports={RepositoryItem:"Style_RepositoryItem__3S19U",infoWrapper:"Style_infoWrapper__21Bg0",icon:"Style_icon__2v4YP",tag:"Style_tag__1PcJi"}},1393:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r={};n.r(r),n.d(r,"repositoryChange",(function(){return A}));var a=n(2),i=n.n(a),s=n(4),o=n(14),c=n(15),u=n(39),l=n(38),p=n(1),m=n(0),d=n.n(m),j=n(1151),b=n.n(j),h=n(949),f=n(1423),v=n(194),O=n(904),g=n(118),x=n(1152),y=n.n(x),S=n(1076),k=n(268),R=n(66),_=n(989);function C(e){var t=e.repository,n=t.username,r=t.name,a=t.isPublic,i=e.onRemoveButtonClick,s=e.loading;return Object(p.jsx)(f.b.Item,{children:Object(p.jsxs)("div",{className:y.a.RepositoryItem,children:[Object(p.jsxs)("div",{className:y.a.infoWrapper,children:[Object(p.jsx)("div",{className:y.a.icon,children:Object(p.jsx)(S.a,{})}),Object(p.jsx)("div",{className:y.a.tag,children:Object(p.jsx)(_.a,{isPublic:a})}),Object(p.jsxs)("div",{className:y.a.repositoryName,children:[Object(p.jsx)(k.a,{to:R.Function.generatePersonalCenterRoute({username:n}),children:n}),"/",Object(p.jsx)(k.a,{to:R.Function.generateRepositoryCodeRoute({username:n,repositoryName:r}),children:Object(p.jsx)("span",{style:{fontWeight:"bold"},children:r})})]})]}),Object(p.jsx)("div",{className:y.a.buttonWrapper,children:Object(p.jsx)(O.a,{title:"\u786e\u8ba4\u4ece\u5c0f\u7ec4\u4e2d\u5220\u9664\u4ed3\u5e93 ".concat(n,"/").concat(r," \uff1f"),onConfirm:i,disabled:s,children:Object(p.jsx)(g.a,{type:"primary",danger:!0,disabled:s,loading:s,children:"\u4ece\u5c0f\u7ec4\u4e2d\u5220\u9664"})})})]})})}var N=d.a.memo(C),P=n(62),w=n(112),T=n(30),I=n(336),W=new(n(149).EventEmitter),A="repositoryChange",B=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setStatePromise=Object(w.promisify)(a.setState),a.onRemoveButtonClick=Object(s.a)(i.a.mark((function e(){var t,n,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.match.params.id,s=t.repository,o=s.username,c=s.name,e.next=3,a.setStatePromise({loading:!0});case 3:return e.next=5,T.d.removeRepositories({id:Number.parseInt(n)},[{username:o,name:c}]);case 5:return null!==e.sent&&(I.a.success({message:"\u4ed3\u5e93 ".concat(o,"/").concat(c," \u5df2\u4ece #").concat(n," \u5c0f\u7ec4\u4e2d\u5220\u9664")}),W.emit(r.repositoryChange)),e.next=9,a.setStatePromise({loading:!1});case 9:case"end":return e.stop()}}),e)}))),a.state={loading:!1},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.repository,t=this.state.loading;return Object(p.jsx)(N,{loading:t,onRemoveButtonClick:this.onRemoveButtonClick,repository:e})}}]),n}(m.PureComponent),H=Object(P.j)(B);function V(e){var t=e.repositories,n=e.loading;return Object(p.jsx)(f.b,{loading:n,locale:{emptyText:Object(p.jsx)(v.a,{description:"\u5c0f\u7ec4\u5185\u6ca1\u6709\u4ed3\u5e93"})},dataSource:t,renderItem:function(e){return Object(p.jsx)(H,{repository:e},"".concat(e.username,"/").concat(e.name))}})}var D=d.a.memo(V);function L(e){var t=e.repositories,n=e.loading;return Object(p.jsxs)("div",{className:b.a.Repositories,children:[Object(p.jsx)(h.a,{children:"\u4ed3\u5e93\u7ba1\u7406"}),Object(p.jsx)("div",{className:b.a.repositoryListWrapper,children:Object(p.jsx)(D,{repositories:t,loading:n})})]})}var M=d.a.memo(L),z=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setStatePromise=Object(w.promisify)(a.setState),a.onRepositoryChange=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.componentDidMount();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),a.loadRepositories=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,T.d.repositories({id:Number.parseInt(t)});case 3:null!==(n=e.sent)&&a.setStatePromise({repositories:Array.from(n)});case 5:case"end":return e.stop()}}),e)}))),a.state={repositories:[],loading:!1},W.on(r.repositoryChange,a.onRepositoryChange),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadRepositories();case 4:return e.next=6,this.setStatePromise({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.match.params.id,s=t.match.params.id,a===s){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){W.removeListener(r.repositoryChange,this.onRepositoryChange)}},{key:"render",value:function(){var e=this.state,t=e.repositories,n=e.loading;return Object(p.jsx)(M,{repositories:t,loading:n})}}]),n}(m.PureComponent),E=Object(P.j)(z)},947:function(e,t,n){"use strict";var r=n(19),a=n(226),i=n(1),s=n(0),o=n.n(s),c=n(916),u=n(950),l=n.n(u);function p(e){var t=e.isPublic,n=Object(a.a)(e,["isPublic"]);return t?Object(i.jsx)(c.a,Object(r.a)(Object(r.a)({className:l.a.AccessibilityTag,color:"blue"},n),{},{children:"\u516c\u5f00"})):Object(i.jsx)(c.a,Object(r.a)(Object(r.a)({className:l.a.AccessibilityTag,color:"gold"},n),{},{children:"\u79c1\u4eba"}))}t.a=o.a.memo(p)},948:function(e,t,n){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},949:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),a=n(0),i=n.n(a),s=n(948),o=n.n(s);function c(e){var t=e.children;return Object(r.jsx)("h2",{className:o.a.SettingsTitle,children:t})}var u=i.a.memo(c)},950:function(e,t,n){e.exports={AccessibilityTag:"Style_AccessibilityTag__4cAHc"}},989:function(e,t,n){"use strict";var r=n(947);n.d(t,"a",(function(){return r.a}))}}]);
//# sourceMappingURL=23.2db9d8ea.chunk.js.map