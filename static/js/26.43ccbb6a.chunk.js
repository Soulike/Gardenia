(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[26],{1020:function(e,t,n){e.exports={Login:"Style_Login__2bEsG",form:"Style_form__1Yzdr",logo:"Style_logo__3bWtv",button:"Style_button__3L0sa"}},1263:function(e,t,n){"use strict";n.r(t);n(100);var a=n(15),r=n(4),o=n.n(r),s=n(9),u=n(50),i=n(73),c=n(270),p=n(269),m=n(271),l=n(0),g=n.n(l),h=(n(412),n(205)),f=(n(950),n(951)),d=(n(411),n(38)),b=n(1020),v=n.n(b),w=n(979),I=n.n(w);var _=g.a.memo((function(e){var t=e.username,n=e.password,a=e.onUsernameInputChange,r=e.onPasswordInputChange,o=e.onLoginFormSubmit;return g.a.createElement("main",{className:v.a.Login},g.a.createElement("form",{action:"#",className:v.a.form,onSubmit:o},g.a.createElement("img",{className:v.a.logo,src:I.a,alt:"web_developer_logo"}),g.a.createElement(f.a,{type:"text",size:"large",onChange:a,autoFocus:!0,value:t,placeholder:"\u7528\u6237\u540d",prefix:g.a.createElement(d.a,{type:"user"})}),g.a.createElement(f.a,{type:"password",size:"large",onChange:r,value:n,placeholder:"\u5bc6\u7801",prefix:g.a.createElement(d.a,{type:"lock"})}),g.a.createElement(h.a,{htmlType:"submit",className:v.a.button,size:"large",type:"primary",block:!0},"\u767b\u5f55")))})),y=n(116),L=n(93),E=n(164),k=n(159),x=n(199),C=n(272),S=n(276),O=n.n(S),P=n(273),j=y.a.PAGE_ID,F=y.a.PAGE_ID_TO_ROUTE,N=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(p.a)(t).call(this,e))).setTitle=function(){document.title="\u767b\u5f55 - ".concat(P.a.NAME)},n.onUsernameInputChange=function(e){n.setState({username:e.target.value})},n.onPasswordInputChange=function(e){n.setState({password:e.target.value})},n.onLoginFormSubmit=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.loginFormInputCheck()){e.next=4;break}return e.next=4,n.submitLoginForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loginFormInputCheck=function(){var e=n.state,t=e.username,r=e.password;return 0===t.length?(a.a.warn({message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"}),!1):0!==r.length||(a.a.warn({message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"}),!1)},n.submitLoginForm=Object(s.a)(o.a.mark((function e(){var t,a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.username,r=t.password,s=C.a.calculateHash(a,r),e.next=4,E.a.login(new C.a(a,s));case 4:if(!e.sent){e.next=8;break}return e.next=8,n.onLoginSuccess();case 8:case"end":return e.stop()}}),e)}))),n.onLoginSuccess=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,n.props.setLoggedIn)(),a.a.success({message:"\u767b\u5f55\u6210\u529f"}),n.returnToPreviousPage();case 4:case"end":return e.stop()}}),e)}))),n.returnToPreviousPage=function(){var e=n.props.location.search,t=O.a.parse(e.slice(1)).prev;"string"===typeof t?n.props.history.push(t):n.props.history.push(F[j.INDEX])},n.state={username:"",password:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setTitle(),this.props.isLoggedIn&&this.props.history.push(F[j.INDEX])}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return g.a.createElement(_,{username:t,password:n,onLoginFormSubmit:this.onLoginFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange})}}]),t}(l.PureComponent),T={setLoggedIn:k.setLoggedInAction},D=Object(L.f)(Object(x.b)((function(e){return{isLoggedIn:e.Root.isLoggedIn}}),T)(N));t.default=D},979:function(e,t,n){e.exports=n.p+"static/media/developing_code.240e8e0f.svg"}}]);
//# sourceMappingURL=26.43ccbb6a.chunk.js.map