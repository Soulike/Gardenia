(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[21],{647:function(t,n,e){"use strict";var r=e(0),a=e.n(r),o=e(650),u=e.n(o);n.a=a.a.memo((function(t){const{children:n,required:e}=t;return a.a.createElement("div",{className:u.a.InputLabel},n,a.a.createElement("span",{className:u.a.requiredSign},e?" *":""))}))},648:function(t,n,e){"use strict";var r={};e.r(r),e.d(r,"USERNAME",(function(){return C})),e.d(r,"PASSWORD",(function(){return w})),e.d(r,"VERIFICATION_CODE",(function(){return O}));var a={};e.r(a),e.d(a,"NAME",(function(){return L}));var o={};e.r(o),e.d(o,"NICKNAME",(function(){return y})),e.d(o,"EMAIL",(function(){return M}));var u={};e.r(u),e.d(u,"NAME",(function(){return R}));var s={};e.r(s),e.d(s,"CODE",(function(){return P}));var i={};e.r(i),e.d(i,"username",(function(){return D})),e.d(i,"password",(function(){return T})),e.d(i,"verificationCode",(function(){return F}));var c={};e.r(c),e.d(c,"name",(function(){return G}));var l={};e.r(l),e.d(l,"nickname",(function(){return W})),e.d(l,"email",(function(){return z}));var d={};e.r(d),e.d(d,"name",(function(){return U}));var p={};e.r(p),e.d(p,"code",(function(){return k}));var f={};e.r(f),e.d(f,"Account",(function(){return i})),e.d(f,"Group",(function(){return c})),e.d(f,"Profile",(function(){return l})),e.d(f,"Repository",(function(){return d})),e.d(f,"Collaborator",(function(){return p}));var m={};e.r(m),e.d(m,"USERNAME",(function(){return x})),e.d(m,"PASSWORD",(function(){return $}));var g={};e.r(g),e.d(g,"NAME",(function(){return V}));var E={};e.r(E),e.d(E,"NICKNAME",(function(){return H}));var h={};e.r(h),e.d(h,"NAME",(function(){return K}));var v={};e.r(v),e.d(v,"Account",(function(){return m})),e.d(v,"Group",(function(){return g})),e.d(v,"Profile",(function(){return E})),e.d(v,"Repository",(function(){return h}));var I={};e.r(I),e.d(I,"USERNAME",(function(){return q})),e.d(I,"PASSWORD",(function(){return j})),e.d(I,"VERIFICATION_CODE",(function(){return J}));var _={};e.r(_),e.d(_,"NAME",(function(){return X}));var N={};e.r(N),e.d(N,"NICKNAME",(function(){return Q})),e.d(N,"EMAIL",(function(){return Y}));var S={};e.r(S),e.d(S,"NAME",(function(){return Z}));var A={};e.r(A),e.d(A,"CODE",(function(){return B}));var b={};e.r(b),e.d(b,"Account",(function(){return I})),e.d(b,"Group",(function(){return _})),e.d(b,"Profile",(function(){return N})),e.d(b,"Repository",(function(){return S})),e.d(b,"Collaborator",(function(){return A}));const C=/^\w{1,20}$/,w=/^\S{6,}$/,O=/^\d{6}$/,L=/^\S{1,20}$/,y=/^\S{1,20}$/,M=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,R=/^\w{1,20}$/,P=/^\w+_\w+_\d+$/;function D(t){return r.USERNAME.test(t)}function T(t){return r.PASSWORD.test(t)}function F(t){return r.VERIFICATION_CODE.test(t)}function G(t){return a.NAME.test(t)}function W(t){return o.NICKNAME.test(t)}function z(t){return o.EMAIL.test(t)}function U(t){return u.NAME.test(t)}function k(t){return s.CODE.test(t)}const x="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",$="6 \u4f4d\u4ee5\u4e0a",V="1~20 \u4f4d",H="1~20 \u4f4d",K="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",q="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",j="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",J="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e",X="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Q="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Y="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Z="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",B="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";e.d(n,"b",(function(){return f})),e.d(n,"a",(function(){return b})),e.d(n,"c",(function(){return v}))},650:function(t,n,e){t.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},654:function(t,n,e){t.exports={InputTip:"Style_InputTip__KsPY_"}},656:function(t,n,e){"use strict";var r=e(0),a=e.n(r),o=e(654),u=e.n(o);var s=a.a.memo((function(t){const{children:n}=t;return a.a.createElement("div",{className:u.a.InputTip},n)}));e.d(n,"a",(function(){return s}))},664:function(t,n,e){t.exports=e.p+"static/media/developing_code.240e8e0f.svg"},680:function(t,n,e){"use strict";var r=e(0),a=e.n(r),o={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},u=e(6),s=function(t,n){return a.a.createElement(u.a,Object.assign({},t,{ref:n,icon:o}))};s.displayName="LockOutlined";n.a=a.a.forwardRef(s)},707:function(t,n,e){t.exports={Login:"Style_Login__2bEsG",registerTip:"Style_registerTip__10XWI",form:"Style_form__1Yzdr",inputWrapper:"Style_inputWrapper__2aFQQ",logo:"Style_logo__3bWtv",button:"Style_button__3L0sa"}},803:function(t,n,e){"use strict";e.r(n);e(52);var r=e(22),a=e(0),o=e.n(a),u=(e(51),e(14)),s=(e(323),e(209)),i=e(707),c=e.n(i),l=e(664),d=e.n(l),p=e(647),f=e(7),m=e(20),g=e(628),E=e(680),h=e(656);const{PAGE_ID:v,PAGE_ID_TO_ROUTE:I}=m.CONFIG;var _=o.a.memo((function(t){const{username:n,password:e,onUsernameInputChange:r,onPasswordInputChange:a,onLoginFormSubmit:i,loading:l}=t;return o.a.createElement("main",{className:c.a.Login},o.a.createElement("form",{action:"#",className:c.a.form,onSubmit:i},o.a.createElement("img",{className:c.a.logo,src:d.a,alt:"web_developer_logo"}),o.a.createElement("div",{className:c.a.registerTip},"\u6ca1\u6709\u8d26\u53f7\uff1f",o.a.createElement(f.b,{to:I[v.REGISTER]},"\u70b9\u6b64\u6ce8\u518c")),o.a.createElement("div",{className:c.a.inputWrapper},o.a.createElement(p.a,null,"\u7528\u6237\u540d"),o.a.createElement(s.a,{type:"text",size:"large",onChange:r,autoFocus:!0,value:n,disabled:l,prefix:o.a.createElement(g.a,null)})),o.a.createElement("div",{className:c.a.inputWrapper},o.a.createElement(p.a,null,"\u5bc6\u7801"),o.a.createElement(s.a,{type:"password",size:"large",onChange:a,value:e,disabled:l,prefix:o.a.createElement(E.a,null)}),o.a.createElement(h.a,null,"\u5fd8\u8bb0\u5bc6\u7801\uff1f",o.a.createElement(f.b,{to:I[v.CHANGE_PASSWORD]},"\u70b9\u6b64\u4fee\u6539\u5bc6\u7801"))),o.a.createElement(u.a,{htmlType:"submit",className:c.a.button,size:"large",type:"primary",disabled:l,loading:l,block:!0},"\u767b\u5f55")))})),N=e(76),S=e(23),A=e(105),b=e(24),C=e(65),w=e(218),O=e.n(w),L=e(134),y=e(648);const{PAGE_ID:M,PAGE_ID_TO_ROUTE:R}=m.CONFIG,{Account:P}=y.b;class D extends a.PureComponent{constructor(t){super(t),this.setTitle=()=>{document.title="\u767b\u5f55 - ".concat(L.a.NAME)},this.onUsernameInputChange=t=>{this.setState({username:t.target.value})},this.onPasswordInputChange=t=>{this.setState({password:t.target.value})},this.onLoginFormSubmit=async t=>{t.preventDefault(),this.loginFormInputCheck()&&await this.submitLoginForm()},this.loginFormInputCheck=()=>{const{username:t,password:n}=this.state;return!(!P.username(t)||!P.password(n))||(r.a.warn({message:"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"}),!1)},this.submitLoginForm=async()=>{const{username:t,password:n}=this.state,e=C.a.calculateHash(t,n);this.setState({loading:!0}),await S.a.login(new C.a(t,e))&&await this.onLoginSuccess(),this.setState({loading:!1})},this.onLoginSuccess=async()=>{const{setLoggedIn:t}=this.props;t(),r.a.success({message:"\u767b\u5f55\u6210\u529f"}),this.returnToPreviousPage()},this.returnToPreviousPage=()=>{const{location:{search:t}}=this.props,{prev:n}=O.a.parse(t.slice(1));"string"===typeof n&&n!==R[M.LOGIN]&&n!==R[M.REGISTER]&&n!==R[M.NOT_FOUND]&&n!==R[M.CHANGE_PASSWORD]?this.props.history.push(n):this.props.history.push(R[M.INDEX])},this.state={username:"",password:"",loading:!1}}componentDidMount(){this.setTitle();const{isLoggedIn:t}=this.props;t&&this.props.history.push(R[M.INDEX])}render(){const{username:t,password:n,loading:e}=this.state;return o.a.createElement(_,{username:t,password:n,loading:e,onLoginFormSubmit:this.onLoginFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange})}}const T={setLoggedIn:A.setLoggedInAction};var F=Object(N.f)(Object(b.b)(t=>{const{Root:{isLoggedIn:n}}=t;return{isLoggedIn:n}},T)(D));n.default=F}}]);
//# sourceMappingURL=21.246c8b65.chunk.js.map