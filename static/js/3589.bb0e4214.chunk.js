"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[3589],{3589:function(te,M,t){t.r(M),t.d(M,{default:function(){return w}});var a=t(89526),v={Code:"Style_Code__nNuin",description:"Style_description__3UufL",buttonWrapper:"Style_buttonWrapper__qzbKi",leftButtonWrapper:"Style_leftButtonWrapper__s+cEz",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__dEEy4"},H=t(76320),l=t(97025),L=t(30592),E=t(565),V=t(18440);const G=a.lazy(()=>t.e(4215).then(t.bind(t,24215))),K=a.lazy(()=>Promise.all([t.e(1670),t.e(9207),t.e(5677)]).then(t.bind(t,95677))),J=a.lazy(()=>t.e(3285).then(t.bind(t,23285))),Q=a.lazy(()=>t.e(9176).then(t.bind(t,89176))),B=a.lazy(()=>Promise.all([t.e(1670),t.e(9207),t.e(2618),t.e(9681)]).then(t.bind(t,42419))),X=a.lazy(()=>t.e(9309).then(t.bind(t,99309)));function W(I){const{repository:{username:P,name:o,description:f},branches:i,tagNames:d,commitCount:h,objectType:p,loading:y}=I;let n="";for(const{isDefault:e,name:s}of i)e&&(n=s);return a.createElement("div",{className:v.Code},a.createElement(l.Z,{active:!0,loading:y},a.createElement("div",{className:v.description},f),a.createElement(X,{commitCount:h,branches:i}),h===0?a.createElement(Q,null):a.createElement(a.Fragment,null,a.createElement("div",{className:v.buttonWrapper},a.createElement("div",{className:v.leftButtonWrapper},a.createElement(G,{branches:i,tagNames:d}),a.createElement("div",{className:v.newPullRequestButtonWrapper},a.createElement(E.rU,{to:V.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:P,sourceRepositoryName:o,sourceRepositoryBranch:n,targetRepositoryBranch:n,repositoryName:o,username:P})},a.createElement(L.Z,null,"\u521B\u5EFA Pull Request")))),a.createElement(J,{username:P,repository:o})),p===void 0||p===H.LP.TREE?a.createElement(K,null):a.createElement(B,null))))}var F=a.memo(W),A=t(60269),Y=t(65092),R=t(19237),U=t(36393),z=(I,P,o)=>new Promise((f,i)=>{var d=y=>{try{p(o.next(y))}catch(n){i(n)}},h=y=>{try{p(o.throw(y))}catch(n){i(n)}},p=y=>y.done?f(y.value):Promise.resolve(y.value).then(d,h);p((o=o.apply(I,P)).next())});class k extends a.PureComponent{constructor(P){super(P),this.setStatePromise=o=>new Promise(f=>{this.setState(o,()=>{f()})}),this.loadRepository=()=>z(this,null,function*(){const{match:{params:{username:o,repositoryName:f}},history:i}=this.props,d=yield R.C.repository({username:o},{name:f});if(d!==null)yield this.setStatePromise({repository:d});else return i.replace(U.yt[U.DV.NOT_FOUND])}),this.loadCommitCount=()=>z(this,null,function*(){const{match:{params:{username:o,repositoryName:f,commitHash:i}}}=this.props,{branches:d}=this.state;let h="";if(!i)for(const{isDefault:y,name:n}of d)y&&(h=n);const p=yield R.C.commitCount({username:o},{name:f},i||h);if(p!==null){const{commitCount:y}=p;yield this.setStatePromise({commitCount:y})}}),this.loadBranches=()=>z(this,null,function*(){const{match:{params:{username:o,repositoryName:f}}}=this.props,i=yield R.C.branches({username:o,name:f});if(i!==null){const{branches:d}=i;yield this.setStatePromise({branches:d})}}),this.loadTagNames=()=>z(this,null,function*(){const{match:{params:{username:o,repositoryName:f}}}=this.props,i=yield R.C.tagNames({username:o,name:f});if(i!==null){const{tagNames:d}=i;yield this.setStatePromise({tagNames:d})}}),this.state={repository:new A._j("","","",!0),branches:[],tagNames:[],commitCount:0,loading:!0}}componentDidMount(){return z(this,null,function*(){yield this.setStatePromise({loading:!0}),yield this.loadBranches(),yield Promise.all([this.loadRepository(),this.loadTagNames(),this.loadCommitCount()]),yield this.setStatePromise({loading:!1})})}componentDidUpdate(P,o,f){return z(this,null,function*(){const{match:{params:{username:i,repositoryName:d,commitHash:h}}}=P,{match:{params:{username:p,repositoryName:y,commitHash:n}}}=this.props;i!==p||d!==y?yield this.componentDidMount():h!==n&&(yield this.setStatePromise({loading:!0}),yield this.loadCommitCount(),yield this.setStatePromise({loading:!1}))})}render(){const{repository:P,branches:o,commitCount:f,loading:i,tagNames:d}=this.state,{match:{params:{objectType:h}}}=this.props;return a.createElement(F,{repository:P,commitCount:f,branches:o,tagNames:d,objectType:h,loading:i})}}var w=(0,Y.EN)(k)},97025:function(te,M,t){t.d(M,{Z:function(){return y}});var a=t(4942),v=t(87462),H=t(71002),l=t(89526),L=t(64403),E=t.n(L),V=function(e){var s=e.prefixCls,c=e.className,m=e.width,g=e.style;return l.createElement("h3",{className:E()(s,c),style:(0,v.Z)({width:m},g)})},G=V,K=t(93433),J=function(e){var s=function(u){var N=e.width,Z=e.rows,T=Z===void 0?2:Z;if(Array.isArray(N))return N[u];if(T-1===u)return N},c=e.prefixCls,m=e.className,g=e.style,x=e.rows,r=(0,K.Z)(Array(x)).map(function(C,u){return l.createElement("li",{key:u,style:{width:s(u)}})});return l.createElement("ul",{className:E()(c,m),style:g},r)},Q=J,B=t(62432),X=function(e){var s,c,m=e.prefixCls,g=e.className,x=e.style,r=e.size,C=e.shape,u=E()((s={},(0,a.Z)(s,"".concat(m,"-lg"),r==="large"),(0,a.Z)(s,"".concat(m,"-sm"),r==="small"),s)),N=E()((c={},(0,a.Z)(c,"".concat(m,"-circle"),C==="circle"),(0,a.Z)(c,"".concat(m,"-square"),C==="square"),(0,a.Z)(c,"".concat(m,"-round"),C==="round"),c)),Z=typeof r=="number"?{width:r,height:r,lineHeight:"".concat(r,"px")}:{};return l.createElement("span",{className:E()(m,u,N,g),style:(0,v.Z)((0,v.Z)({},Z),x)})},W=X,F=t(78326),A=function(e){var s=e.prefixCls,c=e.className,m=e.active,g=l.useContext(B.E_),x=g.getPrefixCls,r=x("skeleton",s),C=(0,F.Z)(e,["prefixCls","className"]),u=E()(r,"".concat(r,"-element"),(0,a.Z)({},"".concat(r,"-active"),m),c);return l.createElement("div",{className:u},l.createElement(W,(0,v.Z)({prefixCls:"".concat(r,"-avatar")},C)))};A.defaultProps={size:"default",shape:"circle"};var Y=A,R=function(e){var s,c=e.prefixCls,m=e.className,g=e.active,x=e.block,r=x===void 0?!1:x,C=l.useContext(B.E_),u=C.getPrefixCls,N=u("skeleton",c),Z=(0,F.Z)(e,["prefixCls"]),T=E()(N,"".concat(N,"-element"),(s={},(0,a.Z)(s,"".concat(N,"-active"),g),(0,a.Z)(s,"".concat(N,"-block"),r),s),m);return l.createElement("div",{className:T},l.createElement(W,(0,v.Z)({prefixCls:"".concat(N,"-button")},Z)))};R.defaultProps={size:"default"};var U=R,z=function(e){var s,c=e.prefixCls,m=e.className,g=e.active,x=e.block,r=l.useContext(B.E_),C=r.getPrefixCls,u=C("skeleton",c),N=(0,F.Z)(e,["prefixCls"]),Z=E()(u,"".concat(u,"-element"),(s={},(0,a.Z)(s,"".concat(u,"-active"),g),(0,a.Z)(s,"".concat(u,"-block"),x),s),m);return l.createElement("div",{className:Z},l.createElement(W,(0,v.Z)({prefixCls:"".concat(u,"-input")},N)))};z.defaultProps={size:"default"};var k=z,w="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",I=function(e){var s=e.prefixCls,c=e.className,m=e.style,g=l.useContext(B.E_),x=g.getPrefixCls,r=x("skeleton",s),C=E()(r,"".concat(r,"-element"),c);return l.createElement("div",{className:C},l.createElement("div",{className:E()("".concat(r,"-image"),c),style:m},l.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(r,"-image-svg")},l.createElement("path",{d:w,className:"".concat(r,"-image-path")}))))},P=I;function o(n){return n&&(0,H.Z)(n)==="object"?n:{}}function f(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function i(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function d(n,e){var s={};return(!n||!e)&&(s.width="61%"),!n&&e?s.rows=3:s.rows=2,s}var h=function(e){var s=e.prefixCls,c=e.loading,m=e.className,g=e.style,x=e.children,r=e.avatar,C=e.title,u=e.paragraph,N=e.active,Z=e.round,T=l.useContext(B.E_),ae=T.getPrefixCls,ne=T.direction,S=ae("skeleton",s);if(c||!("loading"in e)){var D,$=!!r,O=!!C,j=!!u,b;if($){var se=(0,v.Z)((0,v.Z)({prefixCls:"".concat(S,"-avatar")},f(O,j)),o(r));b=l.createElement("div",{className:"".concat(S,"-header")},l.createElement(W,se))}var q;if(O||j){var _;if(O){var le=(0,v.Z)((0,v.Z)({prefixCls:"".concat(S,"-title")},i($,j)),o(C));_=l.createElement(G,le)}var ee;if(j){var re=(0,v.Z)((0,v.Z)({prefixCls:"".concat(S,"-paragraph")},d($,O)),o(u));ee=l.createElement(Q,re)}q=l.createElement("div",{className:"".concat(S,"-content")},_,ee)}var oe=E()(S,(D={},(0,a.Z)(D,"".concat(S,"-with-avatar"),$),(0,a.Z)(D,"".concat(S,"-active"),N),(0,a.Z)(D,"".concat(S,"-rtl"),ne==="rtl"),(0,a.Z)(D,"".concat(S,"-round"),Z),D),m);return l.createElement("div",{className:oe,style:g},b,q)}return x};h.defaultProps={avatar:!1,title:!0,paragraph:!0},h.Button=U,h.Avatar=Y,h.Input=k,h.Image=P;var p=h,y=p}}]);

//# sourceMappingURL=3589.bb0e4214.chunk.js.map