(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[11],{1004:function(e,t,a){e.exports={FileList:"Style_FileList__2OQFJ",lastCommitInfoBar:"Style_lastCommitInfoBar__7Haom",committerName:"Style_committerName__2Janu",message:"Style_message__cL0hI",commitHash:"Style_commitHash__33yq2",time:"Style_time__1GrHJ",readmeWrapper:"Style_readmeWrapper__3CalM"}},1005:function(e,t,a){e.exports={Item:"Style_Item__2vv2j",icon:"Style_icon__3Brt4",fileName:"Style_fileName__3Xcz8",message:"Style_message__1lvb5",time:"Style_time__1hBMM"}},1006:function(e,t,a){e.exports={Readme:"Style_Readme__1yCKv",title:"Style_title__BO69S",content:"Style_content__3Rr6k"}},1205:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),i=a(950),s=a(31),o=a(59),c=a(81),l=a(261),m=a(260),u=a(262),f=a(0),p=a.n(f),d=(a(936),a(933)),h=(a(927),a(122)),v=a(1004),y=a.n(v),_=(a(399),a(46)),b=a(937),g=a(82),E=a(95),S=a(1005),j=a.n(S),x=a(194);var O=Object(E.f)(p.a.memo((function(e){var t=e.fileInfo,a=t.type,n=t.path,r=t.commit,i=r.message,s=r.time,o=e.match.params,c=o.username,l=o.repository,m=o.branch,u=n.split("/"),f=u[u.length-1];return p.a.createElement(d.a.Item,{className:j.a.Item},a===b.a.BLOB?p.a.createElement(_.a,{className:j.a.icon,type:"file-text"}):p.a.createElement(_.a,{className:j.a.icon,type:"folder"}),p.a.createElement("div",{className:j.a.fileName},p.a.createElement(g.b,{to:x.Function.generateRepositoryRoute({username:c,repository:l,objectType:a,branch:m||"HEAD",path:n})},f)),p.a.createElement("div",{className:j.a.message},i),p.a.createElement("div",{className:j.a.time},s))}))),k=(a(931),a(932)),N=a(1006),w=a.n(N);var C=p.a.memo((function(e){var t=e.html,a=e.exists,n=e.loading;return a?p.a.createElement("div",{className:w.a.Readme},p.a.createElement(k.a,{spinning:n},p.a.createElement("div",{className:w.a.title},"README.md"),p.a.createElement("div",{className:w.a.content,dangerouslySetInnerHTML:{__html:t}}))):null})),H=a(264),I=a(962),L=a(955),D=a(954),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={exists:!1,readme:"",loading:!0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var i,s,o,c,l,m,u,f,p,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props,s=i.match.params,o=s.username,c=s.repository,l=s.path,m=i.commitHash,u=t.match.params.path,f=t.commitHash,0===m.length||u===l&&f===m){e.next=24;break}return this.setState({loading:!0}),e.next=6,H.a.fileInfo(o,c,Object(I.join)(l||"","README.md"),m);case 6:if(p=e.sent,this.setState({loading:!1}),null===p||!p.exists){e.next=23;break}return this.setState({loading:!0}),e.next=12,H.a.rawFile(o,c,Object(I.join)(l||"","README.md"),m);case 12:if(d=e.sent,this.setState({loading:!1}),null===d){e.next=21;break}return e.t0=this,e.next=18,D.a.transformBlobToString(d);case 18:e.t1=e.sent,e.t2={readme:e.t1,exists:!0},e.t0.setState.call(e.t0,e.t2);case 21:e.next=24;break;case 23:this.setState({exists:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.readme,a=e.exists,n=e.loading;return p.a.createElement(C,{exists:a,html:L.a.makeHtml(t),loading:n})}}]),t}(f.PureComponent),B=Object(E.f)(A);var R=p.a.memo((function(e){var t=e.fileList,a=e.lastCommit,n=a.commitHash,r=a.committerName,i=a.message,s=a.time,o=e.loading;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:y.a.FileList},p.a.createElement("div",{className:y.a.lastCommitInfoBar},p.a.createElement("div",{className:y.a.committerName},r),p.a.createElement("div",{className:y.a.message},i),p.a.createElement("div",{className:y.a.time},s),p.a.createElement("div",{className:y.a.commitHash},"\u6700\u540e\u63d0\u4ea4\uff1a",n.slice(0,7))),p.a.createElement(d.a,{locale:{emptyText:p.a.createElement(h.a,{description:"\u6ca1\u6709\u6587\u4ef6"})},loading:o,className:y.a.fileList},t.map((function(e){return p.a.createElement(O,{fileInfo:e,key:e.path})})))),p.a.createElement("div",{className:y.a.readmeWrapper},p.a.createElement(B,{commitHash:n})))})),M=a(156),F=a(263),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={fileList:[],lastCommit:new F.b("","","","",""),loading:!0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s,o,c,l,m,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.username,n=t.repository,s=t.path,o=t.branch,this.setState({loading:!0}),e.next=4,Promise.all([M.d.directory(a,n,o||"HEAD",void 0===s?"":s+"/"),M.d.lastCommit(a,n,o||"HEAD")]);case 4:c=e.sent,l=Object(i.a)(c,2),m=l[0],u=l[1],this.setState({loading:!1}),null!==m&&this.setState({fileList:m}),null!==u&&this.setState({lastCommit:u});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props.location.pathname,s=t.location.pathname,i===s){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fileList,a=e.lastCommit,n=e.loading;return p.a.createElement(R,{fileList:t,lastCommit:a,loading:n})}}]),t}(f.Component),J=Object(E.f)(T);a.d(t,"default",(function(){return J}))},950:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",(function(){return n}))},954:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"transformBlobToString",(function(){return o})),a.d(n,"startDownload",(function(){return l}));var r=a(11),i=a.n(r),s=a(31);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.readAsText(t),n.onloadend=function(){e(n.result)},n.onerror=function(e){a(e)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){var a=document.createElement("a");a.href=e,a.download=t,a.click()}a.d(t,"a",(function(){return n}))},955:function(e,t,a){"use strict";var n=a(963),r=new(a.n(n).a.Converter)({tables:!0,strikethrough:!0,tasklists:!0,emoji:!0});a.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=11.bc1015c8.chunk.js.map