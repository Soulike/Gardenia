(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[14],{1142:function(e,t,a){e.exports={PageTitle:"Style_PageTitle__3R_vY"}},1144:function(e,t,a){"use strict";var r=a(0),o=a.n(r),n=a(1142),s=a.n(n);var i=function(e){var t=e.children;return o.a.createElement("h1",{className:s.a.PageTitle},t)};a.d(t,"a",(function(){return i}))},1165:function(e,t,a){e.exports={TopicPoster:"Style_TopicPoster__3QRvq",commentPosterWrapper:"Style_commentPosterWrapper__7KgUY"}},1179:function(e,t,a){"use strict";a(518);var r=a(354),o=(a(517),a(349)),n=a(0),s=a.n(n),i=a(1165),c=a.n(i),m=a(365);var l=s.a.memo((function(e){const{title:t,onTitleChange:a,content:n,onContentChange:i,onTabChange:l,contentToPreview:u,submitting:p,onSubmitButtonClick:h,buttonText:f}=e;return s.a.createElement(r.a,{size:"small"},s.a.createElement("div",{className:c.a.TopicPoster},s.a.createElement("div",{className:c.a.titleWrapper},s.a.createElement(o.a,{placeholder:"\u6807\u9898\uff08\u5fc5\u586b\uff09",size:"large",autoFocus:!0,value:t,onChange:a,disabled:p,maxLength:255})),s.a.createElement("div",{className:c.a.commentPosterWrapper},s.a.createElement(m.a,{placeholder:"\u8865\u5145\u8bf4\u660e\uff08\u9009\u586b\uff09",content:n,buttonText:f,onContentChange:i,onSubmitButtonClick:h,onTabChange:l,submitting:p,contentToPreview:u}))))}));a.d(t,"a",(function(){return l}))},1235:function(e,t,a){e.exports={Compare:"Style_Compare__39h1m",detailWrapper:"Style_detailWrapper__2Azv5",detailTabs:"Style_detailTabs__2XZoZ",pullRequestCommitsWrapper:"Style_pullRequestCommitsWrapper__3A57w",tag:"Style_tag__97nnJ"}},1236:function(e,t,a){e.exports={CompareCard:"Style_CompareCard__tE84-",selectorWrapper:"Style_selectorWrapper__zgG0r",repositoriesSelectorWrapper:"Style_repositoriesSelectorWrapper__2Dvff",isMergeableIndicatorWrapper:"Style_isMergeableIndicatorWrapper__1W1oO"}},1237:function(e,t,a){e.exports={RepositoriesSelector:"Style_RepositoriesSelector__2lAeB",arrow:"Style_arrow__15L4a",target:"Style_target__2vqYE",source:"Style_source__2RAOj",targetRepositorySelectWrapper:"Style_targetRepositorySelectWrapper__DxL1j",sourceRepository:"Style_sourceRepository__1i5O8"}},1238:function(e,t,a){},1239:function(e,t,a){e.exports={PullRequestCommits:"Style_PullRequestCommits__22rzd",loadMoreButtonWrapper:"Style_loadMoreButtonWrapper__3ig_5"}},1240:function(e,t,a){e.exports={PullRequestDiffs:"Style_PullRequestDiffs__2UqKE",loadMoreButtonWrapper:"Style_loadMoreButtonWrapper__2hqbq"}},1330:function(e,t,a){"use strict";a.r(t);var r=a(2),o=a.n(r),n=a(5),s=a(55),i=a(56),c=a(58),m=a(57),l=a(59),u=a(0),p=a.n(u),h=(a(120),a(60)),f=(a(273),a(93)),y=(a(187),a(61)),d=(a(351),a(104)),g=a(1235),R=a.n(g),b=a(1144),v=(a(518),a(354)),C=a(1236),S=a.n(C),E=a(9);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],r=!0,o=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(c){o=!0,n=c}finally{try{r||null==i.return||i.return()}finally{if(o)throw n}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a(1185);var O=a(1174),w=a(1237),P=a.n(w),k=a(137),D={name:"arrow-left",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]}},A=a(12),x=function(e,t){return p.a.createElement(A.a,Object.assign({},e,{ref:t,icon:D}))};x.displayName="ArrowLeftOutlined";var j=p.a.forwardRef(x);var M=Object(k.f)(p.a.memo((function(e){const{sourceRepositoryBranchNames:t,targetRepositoryBranchNames:a,onSourceRepositoryBranchSelectorChange:r,onTargetRepositoryBranchSelectorChange:o,loading:n,targetRepositories:s,onTargetRepositorySelectorChange:i,match:{params:{sourceRepositoryUsername:c,sourceRepositoryName:m,sourceRepositoryBranch:l,targetRepositoryBranch:u,username:h,repository:f}}}=e;return p.a.createElement("div",{className:P.a.RepositoriesSelector},p.a.createElement("div",{className:P.a.target},p.a.createElement("div",{className:P.a.targetRepositorySelectWrapper},p.a.createElement(O.a,{loading:n,disabled:n,onChange:i,value:"".concat(h,"/").concat(f)},s.map(({username:e,name:t})=>p.a.createElement(O.a.Option,{value:"".concat(e,"/").concat(t),key:"".concat(e,"/").concat(t)},e," / ",t)))),p.a.createElement(O.a,{loading:n,disabled:n,onChange:o,value:u},a.map(e=>p.a.createElement(O.a.Option,{value:e,key:e},e)))),p.a.createElement("div",{className:P.a.arrow},p.a.createElement(j,null)),p.a.createElement("div",{className:P.a.source},p.a.createElement("div",{className:P.a.sourceRepository},c," / ",m),p.a.createElement(O.a,{loading:n,disabled:n,onChange:r,value:l},t.map(e=>p.a.createElement(O.a.Option,{value:e,key:e},e)))))}))),T=a(24),W=a(37),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).loadSourceRepositoryBranchNames=Object(n.a)(o.a.mark((function e(){var t,r,n,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,s={username:r,name:n},e.next=4,W.h.branchNames(s);case 4:null!==(i=e.sent)&&(c=i.branchNames,a.setState({sourceRepositoryBranchNames:c}));case 6:case"end":return e.stop()}}),e)}))),a.loadTargetRepositories=Object(n.a)(o.a.mark((function e(){var t,r,n,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,s={username:r,name:n},e.next=4,W.h.forkFrom(s);case 4:null!==(i=e.sent)&&(null!==(c=i.repository)?a.setState({targetRepositories:[c,s]}):a.setState({targetRepositories:[s]}));case 6:case"end":return e.stop()}}),e)}))),a.loadTargetRepositoryBranchNames=Object(n.a)(o.a.mark((function e(){var t,r,n,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,r=t.repository,n=t.username,s={username:n,name:r},e.next=4,W.h.branchNames(s);case 4:null!==(i=e.sent)&&(c=i.branchNames,a.setState({targetRepositoryBranchNames:c}));case 6:case"end":return e.stop()}}),e)}))),a.onTargetRepositorySelectorChange=function(e){var t=a.props,r=t.match.params,o=t.history,n=B(e.toString().split("/"),2),s=n[0],i=n[1];return o.push(T.Function.generateRepositoryCompareRoute(N({},r,{username:s,repository:i})))},a.onSourceRepositoryBranchSelectorChange=function(e){var t=a.props,r=t.match.params;return t.history.push(T.Function.generateRepositoryCompareRoute(N({},r,{sourceRepositoryBranch:e.toString()})))},a.onTargetRepositoryBranchSelectorChange=function(e){var t=a.props,r=t.match.params;return t.history.push(T.Function.generateRepositoryCompareRoute(N({},r,{targetRepositoryBranch:e.toString()})))},a.state={sourceRepositoryBranchNames:[],targetRepositoryBranchNames:[],targetRepositories:[],loading:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(n.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Promise.all([this.loadSourceRepositoryBranchNames(),this.loadTargetRepositories(),this.loadTargetRepositoryBranchNames()]);case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.sourceRepositoryBranchNames,a=e.targetRepositoryBranchNames,r=e.loading,o=e.targetRepositories;return p.a.createElement(M,{sourceRepositoryBranchNames:t,targetRepositoryBranchNames:a,loading:r,targetRepositories:o,onTargetRepositorySelectorChange:this.onTargetRepositorySelectorChange,onSourceRepositoryBranchSelectorChange:this.onSourceRepositoryBranchSelectorChange,onTargetRepositoryBranchSelectorChange:this.onTargetRepositoryBranchSelectorChange})}}]),t}(u.PureComponent),F=Object(k.f)(U),q=(a(352),a(164)),I=a(1238),L=a.n(I),G=a(1103);var z=p.a.memo((function(e){const{isMergeable:t,loading:a}=e;return p.a.createElement("div",{className:L.a.IsMergeableIndicator},a?p.a.createElement(q.a,{showIcon:!0,icon:p.a.createElement(G.a,null),type:"info",message:"\u6b63\u5728\u68c0\u67e5\u662f\u5426\u53ef\u81ea\u52a8\u5408\u5e76"}):t?p.a.createElement(q.a,{showIcon:!0,type:"success",message:"\u53ef\u4ee5\u81ea\u52a8\u5408\u5e76"}):p.a.createElement(q.a,{showIcon:!0,type:"error",message:"\u4e0d\u80fd\u81ea\u52a8\u5408\u5e76\uff0c\u4f46\u60a8\u4ecd\u53ef\u521b\u5efa Pull Request"}))}));class H extends u.PureComponent{constructor(e){super(e),this.loadIsMergeable=async()=>{const{match:{params:{username:e,repository:t,targetRepositoryBranch:a,sourceRepositoryUsername:r,sourceRepositoryName:o,sourceRepositoryBranch:n}}}=this.props,s=await W.g.isMergeable({username:r,name:o},n,{username:e,name:t},a);if(null!==s){const{isMergeable:e}=s;this.setState({isMergeable:e})}},this.state={isMergeable:!0,loading:!1}}async componentDidMount(){this.setState({loading:!0}),await this.loadIsMergeable(),this.setState({loading:!1})}async componentDidUpdate(e,t,a){const{match:{params:{username:r,repository:o,targetRepositoryBranch:n,sourceRepositoryUsername:s,sourceRepositoryName:i,sourceRepositoryBranch:c}}}=this.props,{match:{params:{username:m,repository:l,targetRepositoryBranch:u,sourceRepositoryUsername:p,sourceRepositoryName:h,sourceRepositoryBranch:f}}}=e;r===m&&o===l&&n===u&&s===p&&i===h&&c===f||await this.componentDidMount()}render(){const{isMergeable:e,loading:t}=this.state;return p.a.createElement(z,{isMergeable:e,loading:t})}}var J=Object(k.f)(H),K=a(1120);var Y=Object(k.f)(p.a.memo((function(e){const{match:{params:{sourceRepositoryUsername:t,sourceRepositoryName:a,sourceRepositoryBranch:r,username:o,repository:n,targetRepositoryBranch:s}}}=e,i=t===o&&a===n&&r===s;return p.a.createElement(v.a,{size:"small"},p.a.createElement("div",{className:S.a.CompareCard},p.a.createElement("div",{className:S.a.selectorWrapper},p.a.createElement("div",{className:S.a.iconWrapper},p.a.createElement(K.a,null)),p.a.createElement("div",{className:S.a.repositoriesSelectorWrapper},p.a.createElement(F,null))),i?null:p.a.createElement("div",{className:S.a.isMergeableIndicatorWrapper},p.a.createElement(J,null))))})));class Z extends u.PureComponent{render(){return p.a.createElement(Y,null)}}var Q=Z,X=(a(97),a(42)),V=a(1179),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onTitleChange=function(e){a.setState({title:e.target.value})},a.onContentChange=function(e){a.setState({content:e.target.value})},a.onTabChange=function(e){if("preview"===e){var t=a.state.content;a.setState({contentToPreview:t})}},a.onSubmitButtonClick=Object(n.a)(o.a.mark((function e(){var t,r,n,s,i,c,m,l,u,p,h,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,r=t.title,n=t.content,0!==r.length){e.next=5;break}X.a.warn({message:"\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"}),e.next=14;break;case 5:return s=a.props,i=s.history,c=s.match.params,m=c.sourceRepositoryUsername,l=c.sourceRepositoryName,u=c.sourceRepositoryBranch,p=c.repository,h=c.username,f=c.targetRepositoryBranch,a.setState({submitting:!0}),e.next=9,W.f.add({title:r,content:n,sourceRepositoryUsername:m,sourceRepositoryName:l,sourceRepositoryBranchName:u,targetRepositoryUsername:h,targetRepositoryName:p,targetRepositoryBranchName:f});case 9:if(null===e.sent){e.next=13;break}return X.a.success({message:"\u521b\u5efa Pull Request \u6210\u529f"}),e.abrupt("return",i.replace(T.Function.generateRepositoryPullRequestsRoute({username:h,repository:p})));case 13:a.setState({submitting:!1});case 14:case"end":return e.stop()}}),e)}))),a.state={title:"",content:"",contentToPreview:"",submitting:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.content,r=e.contentToPreview,o=e.submitting;return p.a.createElement(V.a,{title:t,content:a,contentToPreview:r,onTitleChange:this.onTitleChange,onContentChange:this.onContentChange,onTabChange:this.onTabChange,submitting:o,onSubmitButtonClick:this.onSubmitButtonClick,buttonText:"\u521b\u5efa Pull Request"})}}]),t}(u.PureComponent),ee=Object(k.f)($),te=(a(96),a(25)),ae=a(363),re=a(1239),oe=a.n(re);var ne=p.a.memo((function(e){const{commits:t,loading:a,onLoadMoreButtonClick:r}=e;return p.a.createElement("div",{className:oe.a.PullRequestCommits},p.a.createElement(h.a,{spinning:a},p.a.createElement(ae.a,{commits:t}),p.a.createElement("div",{className:oe.a.loadMoreButtonWrapper},p.a.createElement(te.a,{disabled:a,loading:a,onClick:r},"\u52a0\u8f7d\u66f4\u65e9\u7684\u63d0\u4ea4\u5386\u53f2"))))}));class se extends u.PureComponent{constructor(e){super(e),this.init=async()=>new Promise(e=>{this.setState({commits:[]},()=>e())}),this.loadMoreCommits=async()=>{const{match:{params:{sourceRepositoryUsername:e,sourceRepositoryName:t,sourceRepositoryBranch:a,username:r,repository:o,targetRepositoryBranch:n}}}=this.props,{commits:s}=this.state,i=await W.h.forkCommitHistory({username:e,name:t},a,{username:r,name:o},n,s.length,se.COMMIT_AMOUNT_PER_PAGE);if(null!==i){const{commits:e}=i;0===e.length?X.a.success({message:"\u5df2\u52a0\u8f7d\u6240\u6709\u63d0\u4ea4\u5386\u53f2"}):this.setState({commits:[...s,...e]})}},this.onLoadMoreButtonClick=async()=>{await this.setState({loading:!0}),await this.loadMoreCommits(),await this.setState({loading:!1})},this.state={commits:[],loading:!1}}async componentDidMount(){await this.init(),this.setState({loading:!0}),await this.loadMoreCommits(),this.setState({loading:!1})}async componentDidUpdate(e,t,a){const{location:{pathname:r}}=e,{location:{pathname:o}}=this.props;r!==o&&await this.componentDidMount()}render(){const{commits:e,loading:t}=this.state;return p.a.createElement(ne,{onLoadMoreButtonClick:this.onLoadMoreButtonClick,commits:e,loading:t})}}se.COMMIT_AMOUNT_PER_PAGE=50;var ie=Object(k.f)(se),ce=a(362),me=a(1240),le=a.n(me);var ue=p.a.memo((function(e){const{fileDiffs:t,loading:a,fileDiffAmount:r,onLoadMoreButtonClick:o}=e;return p.a.createElement("div",{className:le.a.PullRequestDiffs},p.a.createElement(h.a,{spinning:a},p.a.createElement(ce.a,{fileDiffs:t,fileDiffAmount:r}),p.a.createElement("div",{className:le.a.loadMoreButtonWrapper},p.a.createElement(te.a,{disabled:a,loading:a,onClick:o,size:"large",type:"primary"},"\u52a0\u8f7d\u66f4\u591a\u6587\u4ef6\u66f4\u6539"))))}));class pe extends u.PureComponent{constructor(e){super(e),this.init=async()=>new Promise(e=>{this.setState({fileDiffs:[]},()=>e())}),this.loadFileDiffAmount=async()=>{const{match:{params:{sourceRepositoryUsername:e,sourceRepositoryName:t,sourceRepositoryBranch:a,username:r,repository:o,targetRepositoryBranch:n}}}=this.props,s=await W.h.forkFileDiffAmount({username:e,name:t},a,{username:r,name:o},n);if(null!==s){const{amount:e}=s;this.setState({fileDiffAmount:e})}},this.loadMoreFileDiffs=async()=>{const{match:{params:{sourceRepositoryUsername:e,sourceRepositoryName:t,sourceRepositoryBranch:a,username:r,repository:o,targetRepositoryBranch:n}}}=this.props,{fileDiffs:s}=this.state,i=await W.h.forkFileDiff({username:e,name:t},a,{username:r,name:o},n,s.length,pe.FILE_DIFF_AMOUNT_PER_PAGE);if(null!==i){const{fileDiffs:e}=i;0===e.length?X.a.success({message:"\u5df2\u52a0\u8f7d\u6240\u6709\u88ab\u4fee\u6539\u6587\u4ef6"}):this.setState({fileDiffs:[...s,...e]})}},this.onLoadMoreButtonClick=async()=>{this.setState({loading:!0}),await this.loadMoreFileDiffs(),this.setState({loading:!1})},this.state={fileDiffs:[],fileDiffAmount:0,loading:!1}}async componentDidMount(){await this.init(),this.setState({loading:!0}),await Promise.all([this.loadFileDiffAmount(),this.loadMoreFileDiffs()]),this.setState({loading:!1})}async componentDidUpdate(e,t,a){const{location:{pathname:r}}=this.props,{location:{pathname:o}}=e;r!==o&&await this.componentDidMount()}render(){const{fileDiffs:e,loading:t,fileDiffAmount:a}=this.state;return p.a.createElement(ue,{onLoadMoreButtonClick:this.onLoadMoreButtonClick,fileDiffs:e,loading:t,fileDiffAmount:a})}}pe.FILE_DIFF_AMOUNT_PER_PAGE=10;var he=Object(k.f)(pe);var fe=Object(k.f)(p.a.memo((function(e){var t=e.match.params,a=t.sourceRepositoryUsername,r=t.sourceRepositoryName,o=t.sourceRepositoryBranch,n=t.username,s=t.repository,i=t.targetRepositoryBranch,c=e.commitAmount,m=e.fileDiffAmount,l=e.loading,u=e.hasCommonAncestor,g=a===n&&r===s&&o===i;return p.a.createElement("div",{className:R.a.Compare},p.a.createElement(b.a,null,"\u521b\u5efa Pull Request"),p.a.createElement("div",{className:R.a.compareCardWrapper},p.a.createElement(Q,null)),p.a.createElement("div",{className:R.a.detailWrapper},p.a.createElement(h.a,{spinning:l},u?g?p.a.createElement(d.a,{description:"\u5fc5\u987b\u662f\u4e0d\u540c\u5206\u652f\u624d\u53ef\u521b\u5efa Pull Request"}):p.a.createElement("div",{className:R.a.detail},p.a.createElement("div",{className:R.a.commentPosterWrapper},p.a.createElement(ee,null)),p.a.createElement("div",{className:R.a.detailTabs},p.a.createElement(f.a,{defaultActiveKey:"commits",type:"card"},p.a.createElement(f.a.TabPane,{tab:p.a.createElement(p.a.Fragment,null,"\u63d0\u4ea4",p.a.createElement(y.a,{className:R.a.tag},c)),key:"commits"},p.a.createElement("div",{className:R.a.pullRequestCommitsWrapper},p.a.createElement(ie,null))),p.a.createElement(f.a.TabPane,{tab:p.a.createElement(p.a.Fragment,null,"\u4fee\u6539\u7684\u6587\u4ef6",p.a.createElement(y.a,{className:R.a.tag},m)),key:"fileChanged"},p.a.createElement("div",{className:R.a.pullRequestFileDiffsWrapper},p.a.createElement(he,null)))))):p.a.createElement(d.a,{description:"".concat(a,"/").concat(r,":").concat(o," \u4e0e ").concat(n,"/").concat(s,":").concat(i," \u4e4b\u95f4\u6ca1\u6709\u63d0\u4ea4\u5386\u53f2\u5173\u8054")}))))}))),ye=a(162),de=T.CONFIG.PAGE_ID_TO_ROUTE,ge=T.CONFIG.PAGE_ID,Re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).setStatePromise=Object(ye.promisify)(a.setState),a.checkURLParameters=function(){var e=a.props,t=e.match.params,r=t.sourceRepositoryUsername,o=t.sourceRepositoryName,n=t.sourceRepositoryBranch,s=t.targetRepositoryBranch,i=e.history;if(void 0===r||void 0===o||void 0===n||void 0===s)return i.replace(de[ge.NOT_FOUND])},a.loadHasCommonAncestor=Object(n.a)(o.a.mark((function e(){var t,r,n,s,i,c,m,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,s=t.sourceRepositoryBranch,i=t.username,c=t.repository,m=t.targetRepositoryBranch,r!==i||n!==c||s!==m){e.next=6;break}return e.next=4,a.setStatePromise({hasCommonAncestor:!0});case 4:e.next=13;break;case 6:return e.next=8,W.h.hasCommonAncestor({username:r,name:n},s,{username:i,name:c},m);case 8:if(null===(l=e.sent)){e.next=13;break}return u=l.hasCommonAncestor,e.next=13,a.setStatePromise({hasCommonAncestor:u});case 13:case"end":return e.stop()}}),e)}))),a.loadCommitAmount=Object(n.a)(o.a.mark((function e(){var t,r,n,s,i,c,m,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,s=t.sourceRepositoryBranch,i=t.username,c=t.repository,m=t.targetRepositoryBranch,r!==i||n!==c||s!==m){e.next=5;break}a.setState({commitAmount:0}),e.next=9;break;case 5:return e.next=7,W.h.forkCommitAmount({username:r,name:n},s,{username:i,name:c},m);case 7:null!==(l=e.sent)&&(u=l.commitAmount,a.setState({commitAmount:u}));case 9:case"end":return e.stop()}}),e)}))),a.loadFileDiffAmount=Object(n.a)(o.a.mark((function e(){var t,r,n,s,i,c,m,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.match.params,r=t.sourceRepositoryUsername,n=t.sourceRepositoryName,s=t.sourceRepositoryBranch,i=t.username,c=t.repository,m=t.targetRepositoryBranch,r!==i||n!==c||s!==m){e.next=5;break}a.setState({fileDiffAmount:0}),e.next=9;break;case 5:return e.next=7,W.h.forkFileDiffAmount({username:r,name:n},s,{username:i,name:c},m);case 7:null!==(l=e.sent)&&(u=l.amount,a.setState({fileDiffAmount:u}));case 9:case"end":return e.stop()}}),e)}))),a.state={commitAmount:0,fileDiffAmount:0,loading:!1,hasCommonAncestor:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(n.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkURLParameters(),e.next=3,this.setStatePromise({loading:!0});case 3:return e.next=5,this.loadHasCommonAncestor();case 5:if(!this.state.hasCommonAncestor){e.next=9;break}return e.next=9,Promise.all([this.loadCommitAmount(),this.loadFileDiffAmount()]);case 9:return e.next=11,this.setStatePromise({loading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(n.a)(o.a.mark((function e(t,a,r){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.location.pathname,s=t.location.pathname,n===s){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.commitAmount,a=e.fileDiffAmount,r=e.loading,o=e.hasCommonAncestor;return p.a.createElement(fe,{hasCommonAncestor:o,fileDiffAmount:a,loading:r,commitAmount:t})}}]),t}(u.PureComponent),be=Object(k.f)(Re);a.d(t,"default",(function(){return be}))}}]);
//# sourceMappingURL=14.111c9460.chunk.js.map