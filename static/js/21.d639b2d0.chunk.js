(window["webpackJsonpsoulike-git"]=window["webpackJsonpsoulike-git"]||[]).push([[21],{1199:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),o=a(800),c=a(28),i=a(54),s=a(72),l=a(221),u=a(220),m=a(222),p=a(0),b=a.n(p),d=(a(990),a(1194)),h=a(992),f=a.n(h),y=a(789),E=a(73),v=a(84),_=a(171),g=(a(319),a(42)),C=a(993),j=a.n(C);var k=b.a.memo((function(e){var t=e.commitCount,a=e.branchCount;return b.a.createElement("div",{className:j.a.InfoBar},b.a.createElement("div",{className:j.a.info},b.a.createElement(g.a,{type:"clock-circle"})," ",t," \u6b21\u63d0\u4ea4"),b.a.createElement("div",{className:j.a.info},b.a.createElement(g.a,{type:"branches"})," ",a," \u4e2a\u5206\u652f"))})),O=a(804),S=b.a.lazy((function(){return Promise.all([a.e(0),a.e(22),a.e(24)]).then(a.bind(null,1204))})),N=b.a.lazy((function(){return Promise.all([a.e(2),a.e(3),a.e(7),a.e(18)]).then(a.bind(null,1197))})),w=b.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(19)]).then(a.bind(null,1200))})),P=b.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(4),a.e(17)]).then(a.bind(null,1207))})),x=b.a.lazy((function(){return Promise.all([a.e(7),a.e(11),a.e(23)]).then(a.bind(null,1205))}));var R=Object(v.f)(b.a.memo((function(e){var t=e.repository,a=t.username,n=t.name,r=t.description,o=t.isPublic,c=e.loading,i=e.commitCount,s=e.branches,l=e.match.params.objectType,u=e.isEmpty;return b.a.createElement("div",{className:f.a.Repository},b.a.createElement(d.a,{loading:c,active:!0,paragraph:{rows:15}},b.a.createElement("div",{className:f.a.header},b.a.createElement("div",{className:f.a.basicInfo},b.a.createElement(y.a,{isPublic:o}),b.a.createElement("div",{className:f.a.usernameAndName},b.a.createElement(E.b,{to:_.Function.generatePersonalCenterRoute({username:a})},a)," / ",b.a.createElement(E.b,{to:_.Function.generateRepositoryRoute({username:a,repository:n})},b.a.createElement("b",null,n))))),b.a.createElement("div",{className:f.a.description},r),b.a.createElement(k,{commitCount:i,branchCount:s.length}),u?b.a.createElement(P,null):b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:f.a.buttonWrapper},b.a.createElement(S,{branches:s}),b.a.createElement(w,{username:a,repository:n})),void 0===l||l===O.a.TREE?b.a.createElement(N,null):b.a.createElement(x,null))))}))),I=a(223),D=a(137),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={repository:new I.c("","","",!0),branches:[],commitCount:0,loading:!0,isEmpty:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c,i,s,l,u,m,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.username,n=t.repository,e.next=3,Promise.all([D.d.commitCount(a,n,"HEAD"),D.d.repository(a,n)]);case 3:if(c=e.sent,i=Object(o.a)(c,2),s=i[0],null!==(l=i[1])&&(this.setState({repository:l}),u=l.name,m=l.description,document.title="".concat(u," - ").concat(0===m.length?"Git Demo":m)),null===s){e.next=16;break}if(0!==(p=s.commitCount)){e.next=15;break}return this.setState({isEmpty:!0,loading:!1}),e.abrupt("return");case 15:this.setState({commitCount:p});case 16:return e.next=18,D.d.branch(a,n);case 18:null!==(b=e.sent)&&this.setState({branches:b}),this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var o,c,i,s,l,u,m,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.match.params.branch,c=this.props.match.params.branch,o===c){e.next=9;break}return i=this.props.match.params,s=i.username,l=i.repository,u=i.branch,e.next=6,D.d.commitCount(s,l,u||"HEAD");case 6:null!==(m=e.sent)&&(p=m.commitCount,this.setState({commitCount:p})),this.setState({loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.commitCount,n=e.branches,r=e.loading,o=e.isEmpty;return b.a.createElement(R,{repository:t,commitCount:a,loading:r,branches:n,isEmpty:o})}}]),t}(p.PureComponent),A=Object(v.f)(z);a.d(t,"default",(function(){return A}))},789:function(e,t,a){"use strict";a(796);var n=a(802),r=a(803),o=a(0),c=a.n(o);var i=c.a.memo((function(e){var t=e.isPublic,a=Object(r.a)(e,["isPublic"]);return c.a.createElement(c.a.Fragment,null,t?c.a.createElement(n.a,Object.assign({color:"blue"},a),"\u516c\u5171"):c.a.createElement(n.a,Object.assign({color:"gold"},a),"\u79c1\u4eba"))}));a.d(t,"a",(function(){return i}))},804:function(e,t,a){"use strict";var n;!function(e){e.BLOB="blob",e.TREE="tree"}(n||(n={})),a.d(t,"a",(function(){return n}))},992:function(e,t,a){e.exports={Repository:"Style_Repository__3C5oN",header:"Style_header__2LCJa",basicInfo:"Style_basicInfo__1CY_5",usernameAndName:"Style_usernameAndName__21Dhj",description:"Style_description__1iOUk",buttonWrapper:"Style_buttonWrapper__3rI5T"}},993:function(e,t,a){e.exports={InfoBar:"Style_InfoBar__2XaVV",info:"Style_info___q9kM"}}}]);
//# sourceMappingURL=21.d639b2d0.chunk.js.map