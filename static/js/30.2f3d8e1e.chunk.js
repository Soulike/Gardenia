(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[30],{1189:function(e,t,a){e.exports={BranchMenu:"Style_BranchMenu__2s6dB",branchName:"Style_branchName__YisEW",branchTagWrapper:"Style_branchTagWrapper__Cq2Vq",branchNameInButton:"Style_branchNameInButton__2kCc8"}},1196:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));var n=a(215),r=a(0),o=a.n(r),c=a(4),i=a.n(c),s=a(5),l=a.n(s),u=a(340),m=a(7),p=a.n(m),h=a(262),f=a.n(h),d=a(28),b=a.n(d),v=a(337),y=a.n(v),g=a(105),C=a(117),O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},_=g.a.Group,E=function(e){var t=r.useContext(C.b),a=t.getPopupContainer,n=t.getPrefixCls,o=t.direction,c=e.prefixCls,s=e.type,l=e.disabled,u=e.onClick,m=e.htmlType,h=e.children,f=e.className,d=e.overlay,v=e.trigger,E=e.align,x=e.visible,k=e.onVisibleChange,N=e.placement,j=e.getPopupContainer,w=e.href,B=e.icon,P=void 0===B?r.createElement(y.a,null):B,S=e.title,T=e.buttonsRender,W=O(e,["prefixCls","type","disabled","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender"]),L=n("dropdown-button",c),R={align:E,overlay:d,disabled:l,trigger:l?[]:v,onVisibleChange:k,getPopupContainer:j||a};"visible"in e&&(R.visible=x),R.placement="placement"in e?N:"rtl"===o?"bottomLeft":"bottomRight";var D=T([r.createElement(g.a,{type:s,disabled:l,onClick:u,htmlType:m,href:w,title:S},h),r.createElement(g.a,{type:s,icon:P})]),I=b()(D,2),A=I[0],U=I[1];return r.createElement(_,i()({},W,{className:p()(L,f)}),A,r.createElement(M,R,U))};E.__ANT_BUTTON=!0,E.defaultProps={type:"default",buttonsRender:function(e){return e}};var x=E,k=a(73),N=a(79),j=a(37),w=(Object(N.a)("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight"),function(e){var t,a=r.useContext(C.b),n=a.getPopupContainer,o=a.getPrefixCls,c=a.direction,s=e.arrow,m=e.prefixCls,h=e.children,d=e.trigger,b=e.disabled,v=e.getPopupContainer,y=e.overlayClassName,g=o("dropdown",m),O=r.Children.only(h),_=Object(j.a)(O,{className:p()(O.props.className,"".concat(g,"-trigger"),l()({},"".concat(g,"-rtl"),"rtl"===c)),disabled:b}),E=p()(y,l()({},"".concat(g,"-rtl"),"rtl"===c)),x=b?[]:d;return x&&-1!==x.indexOf("contextMenu")&&(t=!0),r.createElement(u.a,i()({arrow:s,alignPoint:t},e,{overlayClassName:E,prefixCls:g,getPopupContainer:v||n,transitionName:function(){var t=e.placement,a=void 0===t?"":t,n=e.transitionName;return void 0!==n?n:a.indexOf("top")>=0?"slide-down":"slide-up"}(),trigger:x,overlay:function(){return function(t){var a,n=e.overlay;a="function"===typeof n?n():n;var o=(a=r.Children.only("string"===typeof a?r.createElement("span",null,"overlayNode"):a)).props;Object(k.a)(!o.mode||"vertical"===o.mode,"Dropdown",'mode="'.concat(o.mode,"\" is not supported for Dropdown's Menu."));var c=o.selectable,i=void 0!==c&&c,s=o.focusable,l=void 0===s||s,u=r.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},r.createElement(f.a,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"===typeof a.type?a:Object(j.a)(a,{mode:"vertical",selectable:i,focusable:l,expandIcon:u})}(g)},placement:function(){var t=e.placement;return void 0!==t?t:"rtl"===c?"bottomRight":"bottomLeft"}()}),_)});w.Button=x,w.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var M=w,B=M,P=a(1127),S=a(1133),T=a(1189),W=a.n(T),L=a(1138);var R=o.a.memo((function(e){var t,a=e.branches,r=e.currentBranch,c=e.onBranchClick,i=!1,s=Object(n.a)(a);try{for(s.s();!(t=s.n()).done;){if(t.value.name===r){i=!0;break}}}catch(l){s.e(l)}finally{s.f()}return o.a.createElement(B,{trigger:["click"],overlay:o.a.createElement(P.a,{className:W.a.BranchMenu},a.map((function(e){return o.a.createElement(P.a.Item,{key:e.name,onClick:c(e)},o.a.createElement("div",{className:W.a.branchName,style:e.name===r?{fontWeight:"bold"}:{}},e.name),o.a.createElement("div",{className:W.a.branchTagWrapper},e.isDefault?o.a.createElement(S.a,{color:"blue"},"\u9ed8\u8ba4"):null))})))},o.a.createElement(g.a,null,i?"\u5206\u652f\uff1a":"Tree: ",o.a.createElement("div",{className:W.a.branchNameInButton},r),o.a.createElement(L.a,null)))}))},1260:function(e,t,a){e.exports={Commits:"Style_Commits__2OB1b",infoWrapper:"Style_infoWrapper__1B-0-",path:"Style_path__3KqyH",timeLineWrapper:"Style_timeLineWrapper__3aFXu",loadMoreButtonWrapper:"Style_loadMoreButtonWrapper__MQq-F"}},1376:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(91),r=a(1),o=a.n(r),c=a(3),i=a(10),s=a(11),l=a(20),u=a(19),m=a(0),p=a.n(m),h=a(1260),f=a.n(h),d=a(215),b=a(62),v=a(25),y=a(1196),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onBranchClick=function(t){return function(){var a=e.props,n=a.history,r=a.match.params,o=r.username,c=r.repository,i=r.path;return n.replace(v.Function.generateRepositoryCommitsRoute({username:o,repository:c,branch:t.name,path:i}))}},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.match.params.branch,a=e.branches,n="";if(void 0===t){var r,o=Object(d.a)(a);try{for(o.s();!(r=o.n()).done;){var c=r.value;c.isDefault&&(n=c.name)}}catch(i){o.e(i)}finally{o.f()}}return p.a.createElement(y.a,{branches:a,currentBranch:t||n,onBranchClick:this.onBranchClick})}}]),a}(m.PureComponent),C=Object(b.f)(g),O=a(1121),_=a(105),E=a(339);var x=p.a.memo((function(e){var t=e.branches,a=e.loading,n=e.commits,r=e.path,o=e.repository,c=e.repository.name,i=e.onLoadMoreButtonClick;return p.a.createElement("div",{className:f.a.Commits},p.a.createElement(O.a,{spinning:a},p.a.createElement("div",{className:f.a.infoWrapper},p.a.createElement(C,{branches:t}),"string"===typeof r?p.a.createElement("div",{className:f.a.path},c,"/",r):null),p.a.createElement("div",{className:f.a.timeLineWrapper},p.a.createElement(E.a,{commits:n,repository:o})),p.a.createElement("div",{className:f.a.loadMoreButtonWrapper},p.a.createElement(_.a,{disabled:a,loading:a,onClick:i},"\u52a0\u8f7d\u66f4\u65e9\u7684\u63d0\u4ea4\u5386\u53f2"))))})),k=a(38),N=a(328),j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).init=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){r.setState({branches:[],commits:[]},(function(){return e()}))})));case 1:case"end":return e.stop()}}),e)}))),r.loadBranches=Object(c.a)(o.a.mark((function e(){var t,a,n,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params,a=t.username,n=t.repository,e.next=3,k.i.branches({username:a,name:n});case 3:null!==(c=e.sent)&&(i=c.branches,r.setState({branches:i}));case 5:case"end":return e.stop()}}),e)}))),r.loadMoreCommits=Object(c.a)(o.a.mark((function e(){var t,c,i,s,l,u,m,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.match.params,c=t.username,i=t.repository,s=t.branch,l=t.path,m=r.state.commits,"string"!==typeof l){e.next=8;break}return e.next=5,k.i.fileCommitHistory({username:c,name:i},l,s,m.length,a.COMMIT_AMOUNT_PER_PAGE);case 5:u=e.sent,e.next=11;break;case 8:return e.next=10,k.i.commitHistory({username:c,name:i},s,m.length,a.COMMIT_AMOUNT_PER_PAGE);case 10:u=e.sent;case 11:null!==u&&(0===(p=u.commits).length?N.a.success({message:"\u5df2\u52a0\u8f7d\u6240\u6709\u63d0\u4ea4\u5386\u53f2"}):r.setState({commits:[].concat(Object(n.a)(m),Object(n.a)(p))}));case 12:case"end":return e.stop()}}),e)}))),r.onLoadMoreButtonClick=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({loading:!0});case 2:return e.next=4,r.loadMoreCommits();case 4:return e.next=6,r.setState({loading:!1});case 6:case"end":return e.stop()}}),e)}))),r.state={branches:[],loading:!1,commits:[]},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.setState({loading:!0}),e.next=5,this.loadBranches();case 5:return e.next=7,this.loadMoreCommits();case 7:this.setState({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.location.pathname,c=this.props.location.pathname,r===c){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.branches,a=e.loading,n=e.commits,r=this.props.match.params,o=r.repository,c=r.path,i=r.username;return p.a.createElement(x,{onLoadMoreButtonClick:this.onLoadMoreButtonClick,branches:t,loading:a,commits:n,path:c,repository:{username:i,name:o}})}}]),a}(m.PureComponent);j.COMMIT_AMOUNT_PER_PAGE=50;var w=Object(b.f)(j)}}]);
//# sourceMappingURL=30.2f3d8e1e.chunk.js.map