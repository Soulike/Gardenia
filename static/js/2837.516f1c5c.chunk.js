"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[2837],{65867:function(I,u,t){t.d(u,{Z:function(){return v}});var n=t(89526),r={PageTitle:"Style_PageTitle__67kjp"};function h(C){const{children:g}=C;return n.createElement("h1",{className:r.PageTitle},g)}var v=h},16363:function(I,u,t){t.d(u,{Z:function(){return P}});var n=t(89526),r={TopicPoster:"Style_TopicPoster__4RRbc",commentPosterWrapper:"Style_commentPosterWrapper__ymotb"},h=t(34405),v=t(98001),C=t(25608);function g(f){const{title:T,onTitleChange:y,content:E,onContentChange:F,onTabChange:S,contentToPreview:B,submitting:p,onSubmitButtonClick:l,buttonText:o}=f;return n.createElement(h.Z,{size:"small"},n.createElement("div",{className:r.TopicPoster},n.createElement("div",{className:r.titleWrapper},n.createElement(v.Z,{placeholder:"\u6807\u9898\uFF08\u5FC5\u586B\uFF09",size:"large",autoFocus:!0,value:T,onChange:y,disabled:p,maxLength:255})),n.createElement("div",{className:r.commentPosterWrapper},n.createElement(C.Z,{placeholder:"\u8865\u5145\u8BF4\u660E\uFF08\u9009\u586B\uFF09",content:E,buttonText:o,onContentChange:F,onSubmitButtonClick:l,onTabChange:S,submitting:p,contentToPreview:B}))))}var P=n.memo(g)},62837:function(I,u,t){t.r(u),t.d(u,{default:function(){return p}});var n=t(89526),r={CreateIssue:"Style_CreateIssue__0tmEl"},h=t(16363),v=t(65867);function C(l){const{title:o,submitting:e,content:s,contentToPreview:a,onContentChange:c,onSubmitButtonClick:d,onTabChange:m,onTitleChange:i}=l;return n.createElement("div",{className:r.CreateIssue},n.createElement(v.Z,null,"\u521B\u5EFA Issue"),n.createElement(h.Z,{title:o,content:s,contentToPreview:a,onContentChange:c,onSubmitButtonClick:d,onTabChange:m,onTitleChange:i,submitting:e,buttonText:"\u521B\u5EFA Issue"}))}var g=n.memo(C),P=t(65092),f=t(18440),T=t(24315),y=t(62371),E=t(52518),F=t(50526),S=(l,o,e)=>new Promise((s,a)=>{var c=i=>{try{m(e.next(i))}catch(b){a(b)}},d=i=>{try{m(e.throw(i))}catch(b){a(b)}},m=i=>i.done?s(i.value):Promise.resolve(i.value).then(c,d);m((e=e.apply(l,o)).next())});class B extends n.PureComponent{constructor(o){super(o),this.onTitleChange=e=>{this.setState({title:e.target.value})},this.onContentChange=e=>{this.setState({content:e.target.value})},this.onTabChange=e=>{if(e==="preview"){const{content:s}=this.state;this.setState({contentToPreview:s})}},this.onSubmitButtonClick=()=>S(this,null,function*(){const{title:e,content:s}=this.state;if(!F.issueTitle(e))T.Z.error({message:E.hn});else{this.setState({submitting:!0});const{match:{params:{username:a,repositoryName:c}},history:d}=this.props;if((yield y.$9.add({repositoryUsername:a,repositoryName:c,title:e},{content:s}))!==null)return T.Z.success({message:"Issue \u521B\u5EFA\u6210\u529F"}),d.replace(f.Function.generateRepositoryIssuesRoute({username:a,repositoryName:c}));this.setState({submitting:!1})}}),this.state={title:"",content:"",contentToPreview:"",submitting:!1}}render(){const{title:o,content:e,contentToPreview:s,submitting:a}=this.state;return n.createElement(g,{title:o,contentToPreview:s,submitting:a,onTitleChange:this.onTitleChange,onTabChange:this.onTabChange,onSubmitButtonClick:this.onSubmitButtonClick,onContentChange:this.onContentChange,content:e})}}var p=(0,P.EN)(B)}}]);

//# sourceMappingURL=2837.516f1c5c.chunk.js.map