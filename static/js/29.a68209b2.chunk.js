(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[29],{1087:function(e,a,t){e.exports={BranchMenu:"Style_BranchMenu__2s6dB",branchName:"Style_branchName__YisEW",branchTagWrapper:"Style_branchTagWrapper__Cq2Vq",branchNameInButton:"Style_branchNameInButton__2kCc8"}},1095:function(e,a,t){"use strict";t(1099);var r=t(1100),n=(t(165),t(46)),c=(t(248),t(50)),s=(t(247),t(80)),i=t(0),o=t.n(i),m=t(1087),u=t.n(m),l=t(1035);var p=o.a.memo((function(e){var a=e.branches,t=e.currentBranch,i=e.onBranchClick,m=!1,p=!0,h=!1,f=void 0;try{for(var b,v=a[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){if(b.value.name===t){m=!0;break}}}catch(y){h=!0,f=y}finally{try{p||null==v.return||v.return()}finally{if(h)throw f}}return o.a.createElement(r.a,{trigger:["click"],overlay:o.a.createElement(c.a,{className:u.a.BranchMenu},a.map((function(e){return o.a.createElement(c.a.Item,{key:e.name,onClick:i(e)},o.a.createElement("div",{className:u.a.branchName,style:e.name===t?{fontWeight:"bold"}:{}},e.name),o.a.createElement("div",{className:u.a.branchTagWrapper},e.isDefault?o.a.createElement(s.a,{color:"blue"},"\u9ed8\u8ba4"):null))})))},o.a.createElement(n.a,null,m?"\u5206\u652f\uff1a":"Tree: ",o.a.createElement("div",{className:u.a.branchNameInButton},t),o.a.createElement(l.a,null)))}));t.d(a,"a",(function(){return p}))},1151:function(e,a,t){e.exports={Commits:"Style_Commits__2OcSb",infoWrapper:"Style_infoWrapper__Q9Viu",path:"Style_path__34n0j",timeLineWrapper:"Style_timeLineWrapper__2rqq8"}},1210:function(e,a,t){"use strict";t.r(a);var r=t(2),n=t.n(r),c=t(5),s=t(12),i=t(14),o=t(36),m=t(35),u=t(37),l=t(0),p=t.n(l),h=(t(166),t(90)),f=t(1151),b=t.n(f),v=t(121),y=t(45),d=t(1095),g=function(e){function a(){var e,t;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).onBranchClick=function(e){return function(){var a=t.props,r=a.history,n=a.match.params,c=n.username,s=n.repository,i=n.path;r.replace(y.b.generateRepositoryCommitsRoute({username:c,repository:s,branch:e.name,path:i}))}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.match.params.branch,t=e.branches,r="";if(void 0===a){var n=!0,c=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var m=i.value;m.isDefault&&(r=m.name)}}catch(u){c=!0,s=u}finally{try{n||null==o.return||o.return()}finally{if(c)throw s}}}return p.a.createElement(d.a,{branches:t,currentBranch:a||r,onBranchClick:this.onBranchClick})}}]),a}(l.PureComponent),k=Object(v.f)(g),_=t(330);var E=p.a.memo((function(e){var a=e.branches,t=e.loading,r=e.commits,n=e.path,c=e.repositoryName;return p.a.createElement("div",{className:b.a.Commits},p.a.createElement(h.a,{spinning:t},p.a.createElement("div",{className:b.a.infoWrapper},p.a.createElement(k,{branches:a}),"string"===typeof n?p.a.createElement("div",{className:b.a.path},c,"/",n):null),p.a.createElement("div",{className:b.a.timeLineWrapper},p.a.createElement(_.a,{commits:r}))))})),j=t(78),x=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).loadBranches=Object(c.a)(n.a.mark((function e(){var a,r,c,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params,r=a.username,c=a.repository,e.next=3,j.g.branches({username:r,name:c});case 3:null!==(s=e.sent)&&(i=s.branches,t.setState({branches:i}));case 5:case"end":return e.stop()}}),e)}))),t.loadCommits=Object(c.a)(n.a.mark((function e(){var a,r,c,s,i,o,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.props.match.params,r=a.username,c=a.repository,s=a.branch,"string"!==typeof(i=a.path)){e.next=7;break}return e.next=4,j.g.fileCommitHistory({username:r,name:c},i,s);case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,j.g.commitHistory({username:r,name:c},s);case 9:o=e.sent;case 10:null!==o&&(m=o.commits,t.setState({commits:m}));case 11:case"end":return e.stop()}}),e)}))),t.state={branches:[],loading:!1,commits:[]},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadBranches();case 3:return e.next=5,this.loadCommits();case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(n.a.mark((function e(a,t,r){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.match.params.branch,this.props.match.params.branch===c){e.next=7;break}return this.setState({loading:!0}),e.next=6,this.loadCommits();case 6:this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(a,t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.branches,t=e.loading,r=e.commits,n=this.props.match.params,c=n.repository,s=n.path;return p.a.createElement(E,{branches:a,loading:t,commits:r,path:s,repositoryName:c})}}]),a}(l.PureComponent),C=Object(v.f)(x);t.d(a,"default",(function(){return C}))}}]);
//# sourceMappingURL=29.a68209b2.chunk.js.map