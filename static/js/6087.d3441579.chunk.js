"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[6087],{12030:function(x,E,e){e.d(E,{Z:function(){return S}});var t=e(89526),i={InputLabel:"Style_InputLabel__3UwFN",requiredSign:"Style_requiredSign__4HKr2"};function o(N){const{children:b,required:I}=N;return t.createElement("div",{className:i.InputLabel},b,t.createElement("span",{className:i.requiredSign},I?" *":""))}var S=t.memo(o)},65867:function(x,E,e){e.d(E,{Z:function(){return S}});var t=e(89526),i={PageTitle:"Style_PageTitle__67kjp"};function o(N){const{children:b}=N;return t.createElement("h1",{className:i.PageTitle},b)}var S=o},36087:function(x,E,e){e.r(E),e.d(E,{default:function(){return l}});var t=e(89526),i={CreateRepository:"Style_CreateRepository__pKkfs",label:"Style_label__fpa5o",submitButton:"Style_submitButton__Vu6T+",inlineDescription:"Style_inlineDescription__bIFYZ"},o=e(43546),S=e(32014),N=e(30409),b=e(30592),I=e(94418),O=e(65867),P=e(12030);function B(s){const{username:h,name:a,description:u,isPublic:c,onNameInputChange:v,onDescriptionInputChange:f,onIsPublicSwitchChange:p,onSubmit:d,submitting:C,loading:m}=s;return t.createElement("div",{className:i.CreateRepository},t.createElement(O.Z,null,"\u521B\u5EFA\u65B0\u4ED3\u5E93"),t.createElement("form",{action:"#",className:i.form,onSubmit:d},t.createElement("label",{className:i.label},t.createElement(P.Z,{required:!0},"\u4ED3\u5E93\u540D"),t.createElement(o.Z,{trigger:"focus",title:I.A},t.createElement(S.Z,{addonBefore:t.createElement("div",null,h," /"),autoFocus:!0,value:a,onChange:v,disabled:m}))),t.createElement("label",{className:i.label},t.createElement(P.Z,null,"\u63CF\u8FF0"),t.createElement(S.Z,{value:u,onChange:f,disabled:m})),t.createElement("label",{className:i.label},t.createElement(P.Z,null,"\u516C\u5F00"),t.createElement(N.Z,{checked:c,onChange:p,disabled:m}),t.createElement("div",{className:i.inlineDescription},c?"\u6240\u6709\u4EBA\u90FD\u80FD\u770B\u5230\u8BE5\u4ED3\u5E93":"\u53EA\u6709\u4F60\u548C\u4ED3\u5E93\u5408\u4F5C\u8005\u80FD\u770B\u5230\u8BE5\u4ED3\u5E93")),t.createElement(b.Z,{htmlType:"submit",type:"primary",block:!0,className:i.submitButton,loading:C,disabled:C||m},"\u521B\u5EFA\u4ED3\u5E93")))}var T=t.memo(B),R=e(24315),w=e(25249),j=e(62371),K=e(65092),V=e(18440),Z=e(36393),D=e(50526),z=e(52518),n=e(85663),g=(s,h,a)=>new Promise((u,c)=>{var v=d=>{try{p(a.next(d))}catch(C){c(C)}},f=d=>{try{p(a.throw(d))}catch(C){c(C)}},p=d=>d.done?u(d.value):Promise.resolve(d.value).then(v,f);p((a=a.apply(s,h)).next())});class r extends t.PureComponent{constructor(h){super(h);this.setStatePromise=(0,n.promisify)(this.setState),this.setTitle=()=>{document.title=`\u521B\u5EFA\u4ED3\u5E93 - ${Z.A1}`},this.loadUsername=()=>g(this,null,function*(){const a=yield w.N.get();if(a!==null){const{username:u}=a;yield this.setStatePromise({username:u})}else{const{history:u}=this.props;return u.replace(Z.yt[Z.DV.LOGIN])}}),this.onNameInputChange=a=>{this.setState({name:a.target.value})},this.onDescriptionInputChange=a=>{this.setState({description:a.target.value})},this.onIsPublicSwitchChange=a=>{this.setState({isPublic:a})},this.onSubmit=a=>g(this,null,function*(){a.preventDefault(),this.validateFormInput()&&(yield this.submitForm())}),this.validateFormInput=()=>{const{name:a}=this.state;return D.name(a)?!0:(R.Z.warn({message:z.A1,description:I.A}),!1)},this.submitForm=()=>g(this,null,function*(){const{username:a,name:u,description:c,isPublic:v}=this.state;this.setState({submitting:!0});const f=yield j._j.create({name:u,description:c,isPublic:v});if(this.setState({submitting:!1}),f!==null){const{history:p}=this.props;return R.Z.success({message:"\u4ED3\u5E93\u521B\u5EFA\u6210\u529F"}),p.push(V.Function.generateRepositoryCodeRoute({username:a,repositoryName:u}))}}),this.state={username:"",name:"",description:"",isPublic:!0,submitting:!1,loading:!0}}componentDidMount(){return g(this,null,function*(){this.setTitle(),yield this.setStatePromise({loading:!0}),yield this.loadUsername(),yield this.setStatePromise({loading:!1})})}render(){const{username:h,name:a,description:u,isPublic:c,submitting:v,loading:f}=this.state;return t.createElement(T,{username:h,name:a,description:u,isPublic:c,submitting:v,loading:f,onNameInputChange:this.onNameInputChange,onDescriptionInputChange:this.onDescriptionInputChange,onIsPublicSwitchChange:this.onIsPublicSwitchChange,onSubmit:this.onSubmit})}}var l=(0,K.EN)(r)},94418:function(x,E,e){e.d(E,{A:function(){return t}});const t="1~20 \u4F4D\u5B57\u6BCD\u3001\u6570\u5B57\u53CA\u4E0B\u5212\u7EBF"},30409:function(x,E,e){e.d(E,{Z:function(){return z}});var t=e(87462),i=e(4942),o=e(89526),S=e(29439),N=e(45987),b=e(64403),I=e.n(b),O=e(97265),P=e(69605),B=o.forwardRef(function(n,g){var r,l=n.prefixCls,s=l===void 0?"rc-switch":l,h=n.className,a=n.checked,u=n.defaultChecked,c=n.disabled,v=n.loadingIcon,f=n.checkedChildren,p=n.unCheckedChildren,d=n.onClick,C=n.onChange,m=n.onKeyDown,L=(0,N.Z)(n,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),M=(0,O.Z)(!1,{value:a,defaultValue:u}),$=(0,S.Z)(M,2),F=$[0],H=$[1];function k(y,G){var A=F;return c||(A=y,H(A),C==null||C(A,G)),A}function U(y){y.which===P.Z.LEFT?k(!1,y):y.which===P.Z.RIGHT&&k(!0,y),m==null||m(y)}function W(y){var G=k(!F,y);d==null||d(G,y)}var Y=I()(s,h,(r={},(0,i.Z)(r,"".concat(s,"-checked"),F),(0,i.Z)(r,"".concat(s,"-disabled"),c),r));return o.createElement("button",Object.assign({},L,{type:"button",role:"switch","aria-checked":F,disabled:c,className:Y,ref:g,onKeyDown:U,onClick:W}),v,o.createElement("span",{className:"".concat(s,"-inner")},F?f:p))});B.displayName="Switch";var T=B,R=e(66841),w=e(52368),j=e(62432),K=e(1114),V=e(98380),Z=function(n,g){var r={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&g.indexOf(l)<0&&(r[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(n);s<l.length;s++)g.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(n,l[s])&&(r[l[s]]=n[l[s]]);return r},D=o.forwardRef(function(n,g){var r,l=n.prefixCls,s=n.size,h=n.loading,a=n.className,u=a===void 0?"":a,c=n.disabled,v=Z(n,["prefixCls","size","loading","className","disabled"]);(0,V.Z)("checked"in v||!("value"in v),"Switch","`value` is not a valid prop, do you mean `checked`?");var f=o.useContext(j.E_),p=f.getPrefixCls,d=f.direction,C=o.useContext(K.Z),m=p("switch",l),L=o.createElement("div",{className:"".concat(m,"-handle")},h&&o.createElement(R.Z,{className:"".concat(m,"-loading-icon")})),M=I()((r={},(0,i.Z)(r,"".concat(m,"-small"),(s||C)==="small"),(0,i.Z)(r,"".concat(m,"-loading"),h),(0,i.Z)(r,"".concat(m,"-rtl"),d==="rtl"),r),u);return o.createElement(w.Z,{insertExtraNode:!0},o.createElement(T,(0,t.Z)({},v,{prefixCls:m,className:M,disabled:c||h,ref:g,loadingIcon:L})))});D.__ANT_SWITCH=!0,D.displayName="Switch";var z=D}}]);

//# sourceMappingURL=6087.d3441579.chunk.js.map