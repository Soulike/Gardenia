(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[15],{1109:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1112),o=n.n(i);t.a=r.a.memo((function(e){var t=e.children,n=e.required;return r.a.createElement("div",{className:o.a.InputLabel},t,r.a.createElement("span",{className:o.a.requiredSign},n?" *":""))}))},1110:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"USERNAME",(function(){return b})),n.d(a,"PASSWORD",(function(){return _})),n.d(a,"VERIFICATION_CODE",(function(){return V}));var r={};n.r(r),n.d(r,"NAME",(function(){return M}));var i={};n.r(i),n.d(i,"NICKNAME",(function(){return R})),n.d(i,"EMAIL",(function(){return P}));var o={};n.r(o),n.d(o,"NAME",(function(){return O}));var c={};n.r(c),n.d(c,"CODE",(function(){return y}));var s={};n.r(s),n.d(s,"username",(function(){return x})),n.d(s,"password",(function(){return z})),n.d(s,"verificationCode",(function(){return T}));var u={};n.r(u),n.d(u,"name",(function(){return B}));var l={};n.r(l),n.d(l,"nickname",(function(){return D})),n.d(l,"email",(function(){return G}));var d={};n.r(d),n.d(d,"name",(function(){return k}));var m={};n.r(m),n.d(m,"code",(function(){return F}));var f={};n.r(f),n.d(f,"Account",(function(){return s})),n.d(f,"Group",(function(){return u})),n.d(f,"Profile",(function(){return l})),n.d(f,"Repository",(function(){return d})),n.d(f,"Collaborator",(function(){return m}));var p={};n.r(p),n.d(p,"USERNAME",(function(){return L})),n.d(p,"PASSWORD",(function(){return W}));var h={};n.r(h),n.d(h,"NAME",(function(){return H}));var v={};n.r(v),n.d(v,"NICKNAME",(function(){return U}));var g={};n.r(g),n.d(g,"NAME",(function(){return q}));var E={};n.r(E),n.d(E,"Account",(function(){return p})),n.d(E,"Group",(function(){return h})),n.d(E,"Profile",(function(){return v})),n.d(E,"Repository",(function(){return g}));var C={};n.r(C),n.d(C,"USERNAME",(function(){return $})),n.d(C,"PASSWORD",(function(){return K})),n.d(C,"VERIFICATION_CODE",(function(){return j}));var I={};n.r(I),n.d(I,"NAME",(function(){return J}));var S={};n.r(S),n.d(S,"NICKNAME",(function(){return Z})),n.d(S,"EMAIL",(function(){return Y}));var A={};n.r(A),n.d(A,"NAME",(function(){return Q}));var w={};n.r(w),n.d(w,"CODE",(function(){return X}));var N={};n.r(N),n.d(N,"Account",(function(){return C})),n.d(N,"Group",(function(){return I})),n.d(N,"Profile",(function(){return S})),n.d(N,"Repository",(function(){return A})),n.d(N,"Collaborator",(function(){return w}));const b=/^\w{1,20}$/,_=/^\S{6,}$/,V=/^\d{6}$/;var M=/^\S{1,20}$/,R=/^\S{1,20}$/,P=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,O=/^\w{1,20}$/,y=/^\w+_\w+_\d+$/;function x(e){return a.USERNAME.test(e)}function z(e){return a.PASSWORD.test(e)}function T(e){return a.VERIFICATION_CODE.test(e)}function B(e){return r.NAME.test(e)}function D(e){return i.NICKNAME.test(e)}function G(e){return i.EMAIL.test(e)}function k(e){return o.NAME.test(e)}function F(e){return c.CODE.test(e)}var L="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",W="6 \u4f4d\u4ee5\u4e0a",H="1~20 \u4f4d",U="1~20 \u4f4d",q="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf";const $="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",K="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",j="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e";var J="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Z="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Y="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Q="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",X="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return N})),n.d(t,"c",(function(){return E}))},1112:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1113:function(e,t,n){"use strict";var a=n(1109);n.d(t,"a",(function(){return a.a}))},1116:function(e,t,n){e.exports={InputTip:"Style_InputTip__KsPY_"}},1118:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1116),o=n.n(i);var c=r.a.memo((function(e){var t=e.children;return r.a.createElement("div",{className:o.a.InputTip},t)}));n.d(t,"a",(function(){return c}))},1126:function(e,t,n){e.exports=n.p+"static/media/developing_code.240e8e0f.svg"},1148:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},o=n(11),c=function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t,icon:i}))};c.displayName="LockOutlined";t.a=r.a.forwardRef(c)},1176:function(e,t,n){e.exports={Register:"Style_Register__3noZm",form:"Style_form__3_TRs",inputWrapper:"Style_inputWrapper__lS-dq",logo:"Style_logo__3JrE_",button:"Style_button__1EHxx"}},1248:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i={name:"mail",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]}},o=n(11),c=function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t,icon:i}))};c.displayName="MailOutlined";t.a=r.a.forwardRef(c)},1249:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i={name:"barcode",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 160H72c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm833 0h-48c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zM200 736h112c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm321 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm126 0h178c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H647c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-255 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-79 64H201c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm257 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm256 0H648c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h178c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-385 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]}},o=n(11),c=function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t,icon:i}))};c.displayName="BarcodeOutlined";t.a=r.a.forwardRef(c)},1272:function(e,t,n){"use strict";n.r(t);n(94);var a=n(41),r=n(0),i=n.n(r),o=(n(93),n(25)),c=(n(503),n(338)),s=n(1176),u=n.n(s),l=n(1126),d=n.n(l),m=n(1110),f=n(1118),p=n(1113),h=n(1090),v=n(1148),g=n(1248),E=n(1249);var C=i.a.memo((function(e){const{username:t,password:n,repeatPassword:a,email:r,onUsernameInputChange:s,onPasswordInputChange:l,onRepeatPasswordInputChange:C,onEmailInputChange:I,onFormSubmit:S,onVerificationCodeInputChange:A,verificationCode:w,onGetVerificationCodeButtonClick:N,getVerificationCodeButtonText:b,disableGetVerificationCodeButton:_,loading:V}=e;return i.a.createElement("main",{className:u.a.Register},i.a.createElement("form",{action:"#",className:u.a.form,onSubmit:S},i.a.createElement("img",{className:u.a.logo,src:d.a,alt:"web_developer_logo"}),i.a.createElement("div",{className:u.a.inputWrapper},i.a.createElement(p.a,{required:!0},"\u7528\u6237\u540d"),i.a.createElement(c.a,{type:"text",size:"large",onChange:s,autoFocus:!0,value:t,prefix:i.a.createElement(h.a,null),disabled:V}),i.a.createElement(f.a,null,"\u7528\u6237\u540d\u8981\u6c42 ",m.c.Account.USERNAME,"\u3002")),i.a.createElement("div",{className:u.a.inputWrapper},i.a.createElement(p.a,{required:!0},"\u5bc6\u7801"),i.a.createElement(c.a,{type:"password",size:"large",onChange:l,value:n,prefix:i.a.createElement(v.a,null),disabled:V}),i.a.createElement(f.a,null,"\u4e3a\u4e86\u60a8\u7684\u8d26\u6237\u5b89\u5168\uff0c\u5bc6\u7801\u8981\u6c42 ",m.c.Account.PASSWORD,"\u3002")),i.a.createElement("div",{className:u.a.inputWrapper},i.a.createElement(p.a,{required:!0},"\u91cd\u590d\u5bc6\u7801"),i.a.createElement(c.a,{type:"password",size:"large",onChange:C,value:a,prefix:i.a.createElement(v.a,null),disabled:V})),i.a.createElement("div",{className:u.a.inputWrapper},i.a.createElement(p.a,{required:!0},"E-Mail"),i.a.createElement(c.a,{type:"email",size:"large",onChange:I,value:r,prefix:i.a.createElement(g.a,null),disabled:V}),i.a.createElement(f.a,null,"\u8be5\u90ae\u7bb1\u5c06\u7528\u4e8e\u7edf\u8ba1\u60a8\u7684\u63d0\u4ea4\u6b21\u6570\u3001\u63a5\u6536\u901a\u77e5\u53ca\u4fee\u6539\u5bc6\u7801\uff0c\u8bf7\u786e\u4fdd\u8be5\u90ae\u7bb1\u53ef\u7528\u3002")),i.a.createElement("div",{className:u.a.inputWrapper},i.a.createElement(p.a,{required:!0},"\u90ae\u7bb1\u9a8c\u8bc1\u7801"),i.a.createElement(c.a,{type:"text",size:"large",onChange:A,value:w,prefix:i.a.createElement(E.a,null),disabled:V,maxLength:6,addonAfter:i.a.createElement(o.a,{disabled:_||V,type:"link",onClick:N},b)}),i.a.createElement(f.a,null,"\u5982\u672a\u6536\u5230\u9a8c\u8bc1\u7801\u90ae\u4ef6\uff0c\u8bf7\u67e5\u770b\u5176\u662f\u5426\u88ab\u8bef\u5206\u7c7b\u4e3a\u5783\u573e\u90ae\u4ef6\u3002")),i.a.createElement(o.a,{htmlType:"submit",className:u.a.button,size:"large",type:"primary",disabled:V,loading:V,block:!0},"\u6ce8\u518c")))})),I=n(36),S=n(131),A=n(43),w=n(113),N=n(214);const{PAGE_ID:b,PAGE_ID_TO_ROUTE:_}=I.CONFIG,{Account:V,Profile:M}=m.b;class R extends r.PureComponent{constructor(e){super(e),this.setTitle=()=>{document.title="\u6ce8\u518c - ".concat(N.a.NAME)},this.onUsernameInputChange=e=>{this.setState({username:e.target.value})},this.onPasswordInputChange=e=>{this.setState({password:e.target.value})},this.onRepeatPasswordInputChange=e=>{this.setState({repeatPassword:e.target.value})},this.onEmailInputChange=e=>{this.setState({email:e.target.value})},this.onVerificationCodeInputChange=e=>{this.setState({verificationCode:e.target.value})},this.onFormSubmit=async e=>{e.preventDefault(),this.validateFormInput()&&await this.submitForm()},this.onGetVerificationCodeButtonClick=async()=>{const{getVerificationCodeButtonText:e,email:t}=this.state;if(M.email(t)){this.setState({disableGetVerificationCodeButton:!0});let n=0;const r=setInterval(()=>{n++,this.setState({getVerificationCodeButtonText:"".concat(30-n," \u79d2\u540e\u518d\u83b7\u53d6")})},1e3),i=setTimeout(()=>{clearInterval(r),this.setState({disableGetVerificationCodeButton:!1,getVerificationCodeButtonText:e})},3e4);null!==await A.a.sendVerificationCodeToEmail({email:t})?a.a.success({message:"\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f",description:"\u8bf7\u5230 ".concat(t," \u67e5\u770b")}):(clearInterval(r),clearTimeout(i),this.setState({disableGetVerificationCodeButton:!1,getVerificationCodeButtonText:e}))}else a.a.warn({message:m.a.Profile.EMAIL})},this.validateFormInput=()=>{const{username:e,password:t,repeatPassword:n,email:r,verificationCode:i}=this.state;return V.username(e)?V.password(t)?t!==n?(a.a.warn({message:"\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u76f8\u540c"}),!1):M.email(r)?!!V.verificationCode(i)||(a.a.warn({message:m.a.Account.VERIFICATION_CODE}),!1):(a.a.warn({message:m.a.Profile.EMAIL}),!1):(a.a.warn({message:m.a.Account.PASSWORD,description:m.c.Account.PASSWORD}),!1):(a.a.warn({message:m.a.Account.USERNAME,description:m.c.Account.USERNAME}),!1)},this.submitForm=async()=>{const{username:e,password:t,email:n,verificationCode:a}=this.state,r=w.a.calculateHash(e,t);this.setState({loading:!0}),await A.a.register({username:e,hash:r},{nickname:e,email:n,avatar:""},a)&&this.onRegisterSuccess(),this.setState({loading:!1})},this.onRegisterSuccess=()=>{a.a.success({message:"\u6ce8\u518c\u6210\u529f"}),this.props.history.push(_[b.LOGIN])},this.state={username:"",password:"",repeatPassword:"",email:"",verificationCode:"",getVerificationCodeButtonText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",disableGetVerificationCodeButton:!1,loading:!1}}componentDidMount(){this.setTitle()}render(){const{loading:e,disableGetVerificationCodeButton:t,username:n,password:a,repeatPassword:r,email:o,verificationCode:c,getVerificationCodeButtonText:s}=this.state;return i.a.createElement(C,{loading:e,username:n,password:a,email:o,disableGetVerificationCodeButton:t,verificationCode:c,onVerificationCodeInputChange:this.onVerificationCodeInputChange,onFormSubmit:this.onFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange,onEmailInputChange:this.onEmailInputChange,onRepeatPasswordInputChange:this.onRepeatPasswordInputChange,repeatPassword:r,onGetVerificationCodeButtonClick:this.onGetVerificationCodeButtonClick,getVerificationCodeButtonText:s})}}var P=Object(S.f)(R);t.default=P}}]);
//# sourceMappingURL=15.bf97ff06.chunk.js.map