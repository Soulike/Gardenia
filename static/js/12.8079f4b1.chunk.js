(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[12],{1050:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1059),i=n.n(o);t.a=r.a.memo((function(e){var t=e.children,n=e.required;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},n?" *":""))}))},1051:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"USERNAME",(function(){return N})),n.d(a,"PASSWORD",(function(){return S}));var r={};n.r(r),n.d(r,"NAME",(function(){return P}));var o={};n.r(o),n.d(o,"NICKNAME",(function(){return j})),n.d(o,"EMAIL",(function(){return x}));var i={};n.r(i),n.d(i,"NAME",(function(){return M}));var c={};n.r(c),n.d(c,"CODE",(function(){return _}));var s={};n.r(s),n.d(s,"username",(function(){return R})),n.d(s,"password",(function(){return I}));var u={};n.r(u),n.d(u,"name",(function(){return A}));var l={};n.r(l),n.d(l,"nickname",(function(){return V})),n.d(l,"email",(function(){return L}));var d={};n.r(d),n.d(d,"name",(function(){return D}));var p={};n.r(p),n.d(p,"code",(function(){return T}));var m={};n.r(m),n.d(m,"Account",(function(){return s})),n.d(m,"Group",(function(){return u})),n.d(m,"Profile",(function(){return l})),n.d(m,"Repository",(function(){return d})),n.d(m,"Collaborator",(function(){return p}));var f={};n.r(f),n.d(f,"USERNAME",(function(){return W})),n.d(f,"PASSWORD",(function(){return B}));var h={};n.r(h),n.d(h,"NAME",(function(){return U}));var b={};n.r(b),n.d(b,"NICKNAME",(function(){return z}));var v={};n.r(v),n.d(v,"NAME",(function(){return F}));var y={};n.r(y),n.d(y,"Account",(function(){return f})),n.d(y,"Group",(function(){return h})),n.d(y,"Profile",(function(){return b})),n.d(y,"Repository",(function(){return v}));var g={};n.r(g),n.d(g,"USERNAME",(function(){return H})),n.d(g,"PASSWORD",(function(){return K}));var C={};n.r(C),n.d(C,"NAME",(function(){return $}));var k={};n.r(k),n.d(k,"NICKNAME",(function(){return q})),n.d(k,"EMAIL",(function(){return G}));var w={};n.r(w),n.d(w,"NAME",(function(){return J}));var O={};n.r(O),n.d(O,"CODE",(function(){return Z}));var E={};n.r(E),n.d(E,"Account",(function(){return g})),n.d(E,"Group",(function(){return C})),n.d(E,"Profile",(function(){return k})),n.d(E,"Repository",(function(){return w})),n.d(E,"Collaborator",(function(){return O}));var N=/^\w{1,20}$/,S=/^\S{6,}$/,P=/^\S{1,20}$/,j=/^\S{1,20}$/,x=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,M=/^\w{1,20}$/,_=/^\w+_\w+_\d+$/;function R(e){return a.USERNAME.test(e)}function I(e){return a.PASSWORD.test(e)}function A(e){return r.NAME.test(e)}function V(e){return o.NICKNAME.test(e)}function L(e){return o.EMAIL.test(e)}function D(e){return i.NAME.test(e)}function T(e){return c.CODE.test(e)}var W="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",B="6 \u4f4d\u4ee5\u4e0a",U="1~20 \u4f4d",z="1~20 \u4f4d",F="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",H="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",K="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",$="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",q="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",G="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",J="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Z="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return y}))},1059:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1064:function(e,t,n){"use strict";var a=n(1050);n.d(t,"a",(function(){return a.a}))},1067:function(e,t,n){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},1069:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1067),i=n.n(o);var c=r.a.memo((function(e){var t=e.children;return r.a.createElement("h2",{className:i.a.SettingsTitle},t)}));n.d(t,"a",(function(){return c}))},1079:function(e,t,n){"use strict";n(67),n(1080)},1080:function(e,t,n){},1081:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(0),r=n(1082),o=n.n(r),i=n(7),c=n.n(i),s=n(62),u=n(202),l=n.n(u),d=n(229),p=n(112),m=n(69),f=n(199);function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,C(t).call(this,e))).saveSwitch=function(e){n.rcSwitch=e},n.renderSwitch=function(e){var t=e.getPrefixCls,r=e.direction,i=n.props,u=i.prefixCls,p=i.size,m=i.loading,h=i.className,y=void 0===h?"":h,g=i.disabled,C=t("switch",u),k=m?a.createElement(l.a,{className:"".concat(C,"-loading-icon")}):null;return a.createElement(f.b.Consumer,null,(function(e){var t,i=c()(y,(v(t={},"".concat(C,"-small"),"small"===(p||e)),v(t,"".concat(C,"-loading"),m),v(t,"".concat(C,"-rtl"),"rtl"===r),t));return a.createElement(d.a,{insertExtraNode:!0},a.createElement(o.a,b({},Object(s.a)(n.props,["loading"]),{prefixCls:C,className:i,disabled:g||m,ref:n.saveSwitch,loadingIcon:k})))}))},Object(m.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return a.createElement(p.a,null,this.renderSwitch)}}])&&y(n.prototype,r),i&&y(n,i),t}(a.Component);w.__ANT_SWITCH=!0},1082:function(e,t,n){e.exports=n(1083)},1083:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),c=n(167);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n(7),b=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=d(t).call(this,e),n=!r||"object"!==typeof r&&"function"!==typeof r?m(a):r,f(m(m(n)),"handleClick",(function(e){var t=n.state.checked,a=n.props.onClick,r=!t;n.setChecked(r,e),a&&a(r,e)})),f(m(m(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),f(m(m(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),f(m(m(n)),"saveNode",(function(e){n.node=e}));var o=!1;return o="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:o},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,a=n.disabled,r=n.onChange;a||("checked"in this.props||this.setState({checked:e}),r&&r(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.prefixCls,o=t.disabled,i=t.loadingIcon,c=t.checkedChildren,l=t.unCheckedChildren,d=u(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),p=this.state.checked,m=h((f(e={},n,!!n),f(e,a,!0),f(e,"".concat(a,"-checked"),p),f(e,"".concat(a,"-disabled"),o),e));return r.a.createElement("button",s({},d,{type:"button",role:"switch","aria-checked":p,disabled:o,className:m,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),i,r.a.createElement("span",{className:"".concat(a,"-inner")},p?c:l))}}])&&l(n.prototype,a),o&&l(n,o),t}(a.Component);b.propTypes={className:i.a.string,prefixCls:i.a.string,disabled:i.a.bool,checkedChildren:i.a.any,unCheckedChildren:i.a.any,onChange:i.a.func,onMouseUp:i.a.func,onClick:i.a.func,tabIndex:i.a.number,checked:i.a.bool,defaultChecked:i.a.bool,autoFocus:i.a.bool,loadingIcon:i.a.node},b.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(c.polyfill)(b),t.default=b},1099:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},i=n(17),c=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};c.displayName="LockOutlined";t.a=r.a.forwardRef(c)},1158:function(e,t,n){e.exports={Options:"Style_Options__162uQ",itemWrapper:"Style_itemWrapper__3pX3S"}},1159:function(e,t,n){e.exports={RepositoryName:"Style_RepositoryName__1WTF0",label:"Style_label__K0aLr",input:"Style_input__LnETk"}},1160:function(e,t,n){e.exports={Description:"Style_Description__3N46g",textarea:"Style_textarea__324Su",buttonWrapper:"Style_buttonWrapper__1ug3r"}},1161:function(e,t,n){},1162:function(e,t,n){e.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1198:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(5),i=n(12),c=n(14),s=n(36),u=n(35),l=n(37),d=n(0),p=n.n(d),m=n(1158),f=n.n(m),h=n(1069),b=(n(79),n(8)),v=(n(478),n(235)),y=(n(164),n(46)),g=(n(319),n(140)),C=(n(1057),n(1058)),k=n(1159),w=n.n(k),O=n(1064),E=n(1051);function N(e,t){return 0===e.length||t}var S=p.a.memo((function(e){var t=e.repositoryName,n=e.onRenameConfirm,a=e.onRepositoryNameInputChange,r=e.submitting;return p.a.createElement("div",{className:w.a.RepositoryName},p.a.createElement("label",{className:w.a.label},p.a.createElement(O.a,null,"\u4ed3\u5e93\u540d"),p.a.createElement(g.a,{trigger:"focus",title:E.c.Repository.NAME},p.a.createElement(C.a,{className:w.a.input,value:t,onChange:a,disabled:r})),p.a.createElement(v.a,{title:"\u91cd\u547d\u540d\u4ed3\u5e93\u4f1a\u5bfc\u81f4\u539f\u4ed3\u5e93\u7f51\u5740\u4e0e\u514b\u9686\u8def\u5f84\u5931\u6548\uff0c\u786e\u5b9a\u7ee7\u7eed\uff1f",onConfirm:n,disabled:N(t,r)},p.a.createElement(y.a,{className:w.a.button,loading:r,disabled:N(t,r)},"\u91cd\u547d\u540d"))))})),P=n(120),j=n(45),x=n(320),M=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onRepositoryNameInputChange=function(e){n.setState({repositoryName:e.target.value})},n.onRenameConfirm=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.validateParameters()){e.next=5;break}return n.setState({submitting:!0}),e.next=4,n.submit();case 4:n.setState({submitting:!1});case 5:case"end":return e.stop()}}),e)}))),n.validateParameters=function(){var e=n.state.repositoryName;return!!E.b.Repository.name(e)||(b.a.warn({message:E.a.Repository.NAME,description:E.c.Repository.NAME}),!1)},n.submit=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.repositoryName,a=n.props.match.params.repository,e.next=4,x.a.setName({name:a},{name:t});case 4:null!==e.sent&&n.onSubmitSuccess();case 6:case"end":return e.stop()}}),e)}))),n.onSubmitSuccess=function(){b.a.success({message:"\u4ed3\u5e93\u91cd\u547d\u540d\u6210\u529f"});var e=n.props.history,t=n.props.match.params.username,a=n.state.repositoryName;e.replace(j.b.generateRepositorySettingsOptionsRoute({username:t,repository:a}))};var a=e.match.params.repository;return n.state={repositoryName:a,submitting:!1},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.repositoryName,n=e.submitting;return p.a.createElement(S,{repositoryName:t,onRenameConfirm:this.onRenameConfirm,onRepositoryNameInputChange:this.onRepositoryNameInputChange,submitting:n})}}]),t}(d.PureComponent),_=Object(P.f)(M),R=(n(165),n(90)),I=n(1160),A=n.n(I);var V=p.a.memo((function(e){var t=e.description,n=e.onSubmit,a=e.onTextareaChange,r=e.loading,o=e.submitting;return p.a.createElement("div",{className:A.a.Description},p.a.createElement("label",null,p.a.createElement(O.a,null,"\u4ed3\u5e93\u63cf\u8ff0"),p.a.createElement(R.a,{spinning:r},p.a.createElement(C.a.TextArea,{disabled:r||o,value:t,className:A.a.textarea,onChange:a}))),p.a.createElement("div",{className:A.a.buttonWrapper},p.a.createElement(y.a,{loading:o,disabled:r||o,className:A.a.button,onClick:n},"\u786e\u5b9a")))})),L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onTextareaChange=function(e){n.setState({description:e.target.value})},n.onSubmit=Object(o.a)(r.a.mark((function e(){var t,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.description,a=n.props.match.params.repository,n.setState({submitting:!0}),e.next=5,x.a.setDescription({name:a,description:t});case 5:o=e.sent,n.setState({submitting:!1}),null!==o&&b.a.success({message:"\u4ed3\u5e93\u63cf\u8ff0\u4fee\u6539\u6210\u529f"});case 8:case"end":return e.stop()}}),e)}))),n.state={description:"",submitting:!1},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.repository.description,o=a.loading;e.loading&&o&&this.setState({description:r})}},{key:"render",value:function(){var e=this.props.loading,t=this.state,n=t.description,a=t.submitting;return p.a.createElement(V,{submitting:a,loading:e,description:n,onTextareaChange:this.onTextareaChange,onSubmit:this.onSubmit})}}]),t}(d.PureComponent),D=Object(P.f)(L),T=(n(1079),n(1081)),W=n(1161),B=n.n(W),U=(n(479),n(327)),z=n(1162),F=n.n(z);var H=p.a.memo((function(e){var t=e.warning,n=e.validateText,a=e.password,r=e.validateInputPlaceholder,o=e.onValidateInputChange,i=e.onPasswordInputChange,c=e.visible,s=e.onOk,u=e.onCancel,l=e.title,d=e.confirmLoading;return p.a.createElement(U.a,{confirmLoading:d,title:l,className:F.a.CriticalOperationConfirmModal,visible:c,onOk:s,onCancel:u},p.a.createElement("div",{className:F.a.content},p.a.createElement("div",{className:F.a.warningWrapper},t),p.a.createElement(C.a,{className:F.a.input,value:n,onChange:o,placeholder:r,autoFocus:!0}),p.a.createElement(C.a,{className:F.a.input,placeholder:"\u8d26\u6237\u5bc6\u7801",type:"password",value:a,onChange:i})))})),K={name:"unlock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},$=n(17),q=function(e,t){return p.a.createElement($.a,Object.assign({},e,{ref:t,icon:K}))};q.displayName="UnlockOutlined";var G=p.a.forwardRef(q),J=n(1099);var Z=p.a.memo((function(e){var t=e.loading,n=e.isPublic,a=e.onSwitchChange,r=e.modalRepositoryName,o=e.modalPassword,i=e.onModalRepositoryNameInputChange,c=e.onModalPasswordInputChange,s=e.modalVisible,u=e.onModalOk,l=e.onModalCancel;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:B.a.AccessibilitySwitch},p.a.createElement(O.a,null,"\u662f\u5426\u516c\u5f00"),p.a.createElement(T.a,{loading:t,checked:n,disabled:t,onChange:a,checkedChildren:p.a.createElement(p.a.Fragment,null,p.a.createElement(G,null)," \u516c\u5f00"),unCheckedChildren:p.a.createElement(p.a.Fragment,null,p.a.createElement(J.a,null)," \u79c1\u6709")})),p.a.createElement(H,{confirmLoading:t,title:"\u53ef\u89c1\u6027\u5207\u6362\u786e\u8ba4",warning:p.a.createElement("strong",null,"\u5c06\u4ed3\u5e93\u6539\u4e3a\u516c\u6709\u5c06\u4f1a\u8ba9",p.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4eba"),"\u770b\u5230\u4ed3\u5e93\u5185\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u540d",validateText:r,password:o,visible:s,onPasswordInputChange:c,onValidateInputChange:i,onOk:u,onCancel:l}))})),Q=n(78),X=n(139),Y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onSwitchChange=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=n.state.isPublic)||!t){e.next=5;break}n.setState({modalVisible:!0}),e.next=8;break;case 5:if(!a||t){e.next=8;break}return e.next=8,n.setIsPublic(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onModalRepositoryNameInputChange=function(e){n.setState({modalRepositoryName:e.target.value})},n.onModalPasswordInputChange=function(e){n.setState({modalPassword:e.target.value})},n.onModalOk=Object(o.a)(r.a.mark((function e(){var t,a,o,i,c,s,u,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,a=t.repository,o=t.username,i=n.state,c=i.modalRepositoryName,s=i.modalPassword,u=i.isPublic,a===c){e.next=6;break}b.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=19;break;case 6:return l=X.a.calculateHash(o,s),e.next=9,Q.a.checkPassword({hash:l});case 9:if(null===(d=e.sent)){e.next=19;break}if(!d.isCorrect){e.next=18;break}return e.next=15,n.setIsPublic(!u);case 15:n.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""}),e.next=19;break;case 18:b.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 19:case"end":return e.stop()}}),e)}))),n.onModalCancel=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""});case 1:case"end":return e.stop()}}),e)}))),n.setIsPublic=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.match.params.repository,n.state.isPublic===t){e.next=9;break}return n.setState({submitting:!0}),e.next=6,Q.g.setIsPublic({name:a,isPublic:t});case 6:null!==e.sent&&window.location.reload(),n.setState({submitting:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={submitting:!1,isPublic:!0,modalRepositoryName:"",modalPassword:"",modalVisible:!1},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.repository.isPublic,o=a.loading;e.loading&&o&&this.setState({isPublic:r})}},{key:"render",value:function(){var e=this.state,t=e.submitting,n=e.isPublic,a=e.modalRepositoryName,r=e.modalPassword,o=e.modalVisible,i=this.props.loading;return p.a.createElement(Z,{loading:t||i,isPublic:n,modalRepositoryName:a,modalPassword:r,modalVisible:o,onSwitchChange:this.onSwitchChange,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),t}(d.PureComponent),ee=Object(P.f)(Y),te=(n(1061),n(1060));var ne=p.a.memo((function(e){var t=e.title,n=e.description,a=e.onButtonClick;return p.a.createElement(te.a.Item,{extra:p.a.createElement(y.a,{type:"danger",onClick:a},t)},p.a.createElement(te.a.Item.Meta,{title:t,description:n}))}));var ae=p.a.memo((function(e){var t=e.onButtonClick,n=e.modalRepositoryName,a=e.modalPassword,r=e.onModalRepositoryNameInputChange,o=e.onModalPasswordInputChange,i=e.onModalOk,c=e.onModalCancel,s=e.modalVisible,u=e.modalConfirmLoading;return p.a.createElement(p.a.Fragment,null,p.a.createElement(ne,{title:"\u5220\u9664\u4ed3\u5e93",description:"\u5220\u9664\u4ed3\u5e93\u7684\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u614e\u91cd\u3002",onButtonClick:t}),p.a.createElement(H,{warning:p.a.createElement("strong",null,"\u5982\u679c\u4ed3\u5e93\u88ab\u5220\u9664\uff0c\u60a8\u5c06\u4e22\u5931\u4ed3\u5e93\u7684\u6587\u4ef6\u3001\u63d0\u4ea4\u8bb0\u5f55\u7b49",p.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4fe1\u606f"),"\uff0c\u4e14\u5220\u9664\u6210\u529f\u540e\u6ca1\u6709\u6062\u590d\u7684\u53ef\u80fd\u3002\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u7684\u540d\u5b57",title:"\u5220\u9664\u4ed3\u5e93\u786e\u8ba4",validateText:n,password:a,onValidateInputChange:r,onPasswordInputChange:o,onOk:i,onCancel:c,visible:s,confirmLoading:u}))})),re=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onButtonClick=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modalRepositoryName:"",modalPassword:"",modalVisible:!0});case 1:case"end":return e.stop()}}),e)}))),n.onModalRepositoryNameInputChange=function(e){n.setState({modalRepositoryName:e.target.value})},n.onModalPasswordInputChange=function(e){n.setState({modalPassword:e.target.value})},n.onModalOk=Object(o.a)(r.a.mark((function e(){var t,a,o,i,c,s,u,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.match.params,o=a.repository,i=a.username,c=t.history,s=n.state,u=s.modalRepositoryName,l=s.modalPassword,o===u){e.next=6;break}b.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=22;break;case 6:return d=X.a.calculateHash(i,l),n.setState({modalConfirmLoading:!0}),e.next=10,Q.a.checkPassword({hash:d});case 10:if(null===(p=e.sent)){e.next=21;break}if(!p.isCorrect){e.next=20;break}return e.next=16,Q.f.del({name:o});case 16:null!==e.sent&&(b.a.success({message:"\u4ed3\u5e93\u5220\u9664\u6210\u529f"}),n.setState({modalVisible:!1}),c.replace(j.b.generatePersonalCenterRoute({username:i}))),e.next=21;break;case 20:b.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 21:n.setState({modalConfirmLoading:!1});case 22:case"end":return e.stop()}}),e)}))),n.onModalCancel=function(){n.setState({modalVisible:!1})},n.state={modalRepositoryName:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.modalConfirmLoading,n=e.modalVisible,a=e.modalPassword,r=e.modalRepositoryName;return p.a.createElement(ae,{onButtonClick:this.onButtonClick,modalConfirmLoading:t,modalVisible:n,modalPassword:a,modalRepositoryName:r,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),t}(d.PureComponent),oe=Object(P.f)(re);var ie=p.a.memo((function(e){var t=e.onButtonClick;return p.a.createElement(ne,{title:"\u8f6c\u79fb\u4ed3\u5e93\u6240\u6709\u4eba",description:"\u5c06\u4ed3\u5e93\u6240\u6709\u4eba\u8f6c\u79fb\u4e3a\u5176\u4ed6\u4eba\u3002",onButtonClick:t})})),ce=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onButtonClick=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return p.a.createElement(ie,{onButtonClick:this.onButtonClick})}}]),t}(d.PureComponent),se=Object(P.f)(ce);var ue=p.a.memo((function(){return p.a.createElement(te.a,{bordered:!0,split:!0},p.a.createElement(se,null),p.a.createElement(oe,null))}));var le=p.a.memo((function(e){var t=e.repository,n=e.loading;return p.a.createElement("div",{className:f.a.Options},p.a.createElement(h.a,null,"\u9009\u9879"),p.a.createElement("div",{className:f.a.itemWrapper},p.a.createElement(_,null)),p.a.createElement("div",{className:f.a.itemWrapper},p.a.createElement(ee,{repository:t,loading:n})),p.a.createElement("div",{className:f.a.itemWrapper},p.a.createElement(D,{repository:t,loading:n})),p.a.createElement(h.a,null,p.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533a")),p.a.createElement(ue,null))})),de=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadRepository=Object(o.a)(r.a.mark((function e(){var t,a,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,a=t.repository,o=t.username,e.next=3,x.a.repository({username:o},{name:a});case 3:null!==(i=e.sent)&&n.setState({repository:i});case 5:case"end":return e.stop()}}),e)}))),n.state={repository:new X.f("","","",!0),loading:!0},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadRepository();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,n=e.loading;return p.a.createElement(le,{repository:t,loading:n})}}]),t}(d.PureComponent),pe=Object(P.f)(de);n.d(t,"default",(function(){return pe}))}}]);
//# sourceMappingURL=12.8079f4b1.chunk.js.map