(window["webpackJsonpsoulike-git"]=window["webpackJsonpsoulike-git"]||[]).push([[21],{1197:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),c=a(797),i=a(29),o=a(54),s=a(73),l=a(221),u=a(220),m=a(222),p=a(0),E=a.n(p),b=(a(987),a(1191)),d=a(989),h=a.n(d),f=a(786),y=a(74),_=a(85),v=a(59),O=(a(316),a(42)),C=a(990),g=a.n(C);var N=E.a.memo((function(e){var t=e.commitCount,a=e.branchCount;return E.a.createElement("div",{className:g.a.InfoBar},E.a.createElement("div",{className:g.a.info},E.a.createElement(O.a,{type:"clock-circle"})," ",t," \u6b21\u63d0\u4ea4"),E.a.createElement("div",{className:g.a.info},E.a.createElement(O.a,{type:"branches"})," ",a," \u4e2a\u5206\u652f"))})),P=a(838),S=E.a.lazy((function(){return Promise.all([a.e(0),a.e(22),a.e(24)]).then(a.bind(null,1201))})),R=E.a.lazy((function(){return Promise.all([a.e(2),a.e(3),a.e(7),a.e(18)]).then(a.bind(null,1194))})),j=E.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(19)]).then(a.bind(null,1195))})),k=E.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(4),a.e(17)]).then(a.bind(null,1204))})),T=E.a.lazy((function(){return Promise.all([a.e(7),a.e(11),a.e(23)]).then(a.bind(null,1203))}));var w=Object(_.f)(E.a.memo((function(e){var t=e.repository,a=t.username,n=t.name,r=t.description,c=t.isPublic,i=e.loading,o=e.commitCount,s=e.branches,l=e.match.params.objectType,u=e.isEmpty;return E.a.createElement("div",{className:h.a.Repository},E.a.createElement(b.a,{loading:i,active:!0,paragraph:{rows:15}},E.a.createElement("div",{className:h.a.header},E.a.createElement("div",{className:h.a.basicInfo},E.a.createElement(f.a,{isPublic:c}),E.a.createElement("div",{className:h.a.usernameAndName},E.a.createElement(y.b,{to:v.PAGE_ID_TO_ROUTE_GENERATOR[v.PAGE_ID.PERSONAL_CENTER](a)},a)," / ",E.a.createElement(y.b,{to:v.PAGE_ID_TO_ROUTE_GENERATOR[v.PAGE_ID.REPOSITORY](a,n)},E.a.createElement("b",null,n))))),E.a.createElement("div",{className:h.a.description},r),E.a.createElement(N,{commitCount:o,branchCount:s.length}),u?E.a.createElement(k,null):E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:h.a.buttonWrapper},E.a.createElement(S,{branches:s}),E.a.createElement(j,{username:a,repository:n})),void 0===l||l.toUpperCase()===P.a.TREE?E.a.createElement(R,null):E.a.createElement(T,null))))}))),A=a(223),I=a(138),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={repository:new A.c("","","",!0),branches:[],commitCount:0,loading:!0,isEmpty:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,i,o,s,l,u,m,p,E;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.username,n=t.repository,e.next=3,Promise.all([I.d.commitCount(a,n,"HEAD"),I.d.repository(a,n)]);case 3:if(i=e.sent,o=Object(c.a)(i,2),s=o[0],null!==(l=o[1])&&(this.setState({repository:l}),u=l.name,m=l.description,document.title="".concat(u," - ").concat(0===m.length?"Git Demo":m)),null===s){e.next=16;break}if(0!==(p=s.commitCount)){e.next=15;break}return this.setState({isEmpty:!0,loading:!1}),e.abrupt("return");case 15:this.setState({commitCount:p});case 16:return e.next=18,I.d.branch(a,n);case 18:null!==(E=e.sent)&&this.setState({branches:E}),this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(r.a.mark((function e(t,a,n){var c,i,o,s,l,u,m,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.match.params.branch,i=this.props.match.params.branch,c===i){e.next=9;break}return o=this.props.match.params,s=o.username,l=o.repository,u=o.branch,e.next=6,I.d.commitCount(s,l,u||"HEAD");case 6:null!==(m=e.sent)&&(p=m.commitCount,this.setState({commitCount:p})),this.setState({loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.commitCount,n=e.branches,r=e.loading,c=e.isEmpty;return E.a.createElement(w,{repository:t,commitCount:a,loading:r,branches:n,isEmpty:c})}}]),t}(p.PureComponent),D=Object(_.f)(x);a.d(t,"default",(function(){return D}))},786:function(e,t,a){"use strict";a(793);var n=a(799),r=a(800),c=a(0),i=a.n(c);var o=i.a.memo((function(e){var t=e.isPublic,a=Object(r.a)(e,["isPublic"]);return i.a.createElement(i.a.Fragment,null,t?i.a.createElement(n.a,Object.assign({color:"blue"},a),"\u516c\u5171"):i.a.createElement(n.a,Object.assign({color:"gold"},a),"\u79c1\u4eba"))}));a.d(t,"a",(function(){return o}))},838:function(e,t,a){"use strict";var n;!function(e){e.BLOB="BLOB",e.TREE="TREE"}(n||(n={})),a.d(t,"a",(function(){return n}))},989:function(e,t,a){e.exports={Repository:"Style_Repository__3C5oN",header:"Style_header__2LCJa",basicInfo:"Style_basicInfo__1CY_5",usernameAndName:"Style_usernameAndName__21Dhj",description:"Style_description__1iOUk",buttonWrapper:"Style_buttonWrapper__3rI5T"}},990:function(e,t,a){e.exports={InfoBar:"Style_InfoBar__2XaVV",info:"Style_info___q9kM"}}}]);
//# sourceMappingURL=21.0755ad10.chunk.js.map