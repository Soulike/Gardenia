(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[25],{1002:function(u,r,t){"use strict";r.a=t.p+"static/media/developing_code.ac8fbd80.svg"},1026:function(u,r,t){"use strict";var l=t(3),e=t(0),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},o=g,d=t(9),m=function(y,I){return e.createElement(d.a,Object(l.a)(Object(l.a)({},y),{},{ref:I,icon:o}))};m.displayName="LockOutlined";var f=r.a=e.forwardRef(m)},1050:function(u,r,t){u.exports={Login:"Style_Login__2bEsG",registerTip:"Style_registerTip__10XWI",form:"Style_form__1Yzdr",inputWrapper:"Style_inputWrapper__2aFQQ",logo:"Style_logo__3bWtv",button:"Style_button__3L0sa"}},1410:function(u,r,t){"use strict";t.r(r);var l=t(0),e=t.n(l),g=t(1050),o=t.n(g),d=t(954),m=t(101),f=t(1002),p=t(983),y=t(17),I=t(971),A=t(1026),b=t(993),a=t(1);function M(h){const{username:i,password:n,onUsernameInputChange:s,onPasswordInputChange:c,onLoginFormSubmit:E,loading:L}=h;return e.a.createElement("main",{className:o.a.Login},e.a.createElement("form",{action:"#",className:o.a.form,onSubmit:E},e.a.createElement("img",{className:o.a.logo,src:f.a,alt:"web_developer_logo"}),e.a.createElement("div",{className:o.a.registerTip},"\u6CA1\u6709\u8D26\u53F7\uFF1F",e.a.createElement(y.b,{to:a.d[a.b.REGISTER]},"\u70B9\u6B64\u6CE8\u518C")),e.a.createElement("div",{className:o.a.inputWrapper},e.a.createElement(p.a,null,"\u7528\u6237\u540D"),e.a.createElement(d.a,{type:"text",size:"large",onChange:s,autoFocus:!0,value:i,disabled:L,prefix:e.a.createElement(I.a,null)})),e.a.createElement("div",{className:o.a.inputWrapper},e.a.createElement(p.a,null,"\u5BC6\u7801"),e.a.createElement(d.a,{type:"password",size:"large",onChange:c,value:n,disabled:L,prefix:e.a.createElement(A.a,null)}),e.a.createElement(b.a,null,"\u5FD8\u8BB0\u5BC6\u7801\uFF1F",e.a.createElement(y.b,{to:a.d[a.b.CHANGE_PASSWORD]},"\u70B9\u6B64\u4FEE\u6539\u5BC6\u7801"))),e.a.createElement(m.a,{htmlType:"submit",className:o.a.button,size:"large",type:"primary",disabled:L,loading:L,block:!0},"\u767B\u5F55")))}var R=e.a.memo(M),W=t(46),F=t(27),P=t(339),T=t(141),V=t(39),D=t(132),x=t(208),U=t.n(x),z=t(146),B,J=typeof B!="undefined"?B:h=>{throw new Error('Dynamic require of "'+h+'" is not supported')},S=(h,i,n)=>new Promise((s,c)=>{var E=v=>{try{O(n.next(v))}catch(C){c(C)}},L=v=>{try{O(n.throw(v))}catch(C){c(C)}},O=v=>v.done?s(v.value):Promise.resolve(v.value).then(E,L);O((n=n.apply(h,i)).next())});const{Account:N}=z.b;class G extends l.PureComponent{constructor(i){super(i);this.setTitle=()=>{document.title=`\u767B\u5F55 - ${a.a}`},this.checkSession=()=>S(this,null,function*(){const{setLoggedOut:n,setLoggedIn:s}=this.props,c=yield F.a.checkSession();if(c!==null){const{isValid:E}=c;E?yield s():yield n()}else yield n()}),this.onUsernameInputChange=n=>{this.setState({username:n.target.value})},this.onPasswordInputChange=n=>{this.setState({password:n.target.value})},this.onLoginFormSubmit=n=>S(this,null,function*(){n.preventDefault(),this.loginFormInputCheck()&&(yield this.submitLoginForm())}),this.loginFormInputCheck=()=>{const{username:n,password:s}=this.state;return!N.username(n)||!N.password(s)?(P.a.warn({message:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF"}),!1):!0},this.submitLoginForm=()=>S(this,null,function*(){const{username:n,password:s}=this.state,c=D.a.calculateHash(n,s);this.setState({loading:!0}),(yield F.a.login(new D.a(n,c)))&&(yield this.onLoginSuccess()),this.setState({loading:!1})}),this.onLoginSuccess=()=>S(this,null,function*(){const{setLoggedIn:n}=this.props;n(),P.a.success({message:"\u767B\u5F55\u6210\u529F"}),this.returnToPreviousPage()}),this.returnToPreviousPage=()=>{const{location:{search:n}}=this.props,{prev:s}=U.a.parse(n.slice(1));return typeof s=="string"&&s!==a.d[a.b.LOGIN]&&s!==a.d[a.b.REGISTER]&&s!==a.d[a.b.NOT_FOUND]&&s!==a.d[a.b.CHANGE_PASSWORD]?this.props.history.push(s):this.props.history.push(a.d[a.b.INDEX])},this.state={username:"",password:"",loading:!1}}componentDidMount(){return S(this,null,function*(){this.setTitle(),yield this.checkSession();const{isLoggedIn:i}=this.props;if(i)return this.props.history.push(a.d[a.b.INDEX])})}render(){const{username:i,password:n,loading:s}=this.state;return e.a.createElement(R,{username:i,password:n,loading:s,onLoginFormSubmit:this.onLoginFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange})}}const j=h=>{const{Root:{isLoggedIn:i}}=h;return{isLoggedIn:i}},H={setLoggedIn:T.setLoggedInAction,setLoggedOut:T.setLoggedOutAction};var K=Object(W.j)(Object(V.b)(j,H)(G)),X=r.default=K},983:function(u,r,t){"use strict";var l=t(0),e=t.n(l),g=t(984),o=t.n(g);function d(m){const{children:f,required:p}=m;return e.a.createElement("div",{className:o.a.InputLabel},f,e.a.createElement("span",{className:o.a.requiredSign},p?" *":""))}r.a=e.a.memo(d)},984:function(u,r,t){u.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},990:function(u,r,t){u.exports={InputTip:"Style_InputTip__KsPY_"}},993:function(u,r,t){"use strict";t.d(r,"a",function(){return m});var l=t(0),e=t.n(l),g=t(990),o=t.n(g);function d(f){const{children:p}=f;return e.a.createElement("div",{className:o.a.InputTip},p)}var m=e.a.memo(d)}}]);

//# sourceMappingURL=25.4ef4e20d.chunk.js.map