(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[11],{1119:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"USERNAME",(function(){return k})),n.d(a,"PASSWORD",(function(){return O})),n.d(a,"VERIFICATION_CODE",(function(){return P}));var r={};n.r(r),n.d(r,"NAME",(function(){return _}));var o={};n.r(o),n.d(o,"NICKNAME",(function(){return M})),n.d(o,"EMAIL",(function(){return I}));var i={};n.r(i),n.d(i,"NAME",(function(){return R}));var s={};n.r(s),n.d(s,"CODE",(function(){return x}));var c={};n.r(c),n.d(c,"username",(function(){return A})),n.d(c,"password",(function(){return j})),n.d(c,"verificationCode",(function(){return V}));var l={};n.r(l),n.d(l,"name",(function(){return D}));var u={};n.r(u),n.d(u,"nickname",(function(){return T})),n.d(u,"email",(function(){return L}));var d={};n.r(d),n.d(d,"name",(function(){return W}));var m={};n.r(m),n.d(m,"code",(function(){return F}));var p={};n.r(p),n.d(p,"Account",(function(){return c})),n.d(p,"Group",(function(){return l})),n.d(p,"Profile",(function(){return u})),n.d(p,"Repository",(function(){return d})),n.d(p,"Collaborator",(function(){return m}));var h={};n.r(h),n.d(h,"USERNAME",(function(){return U})),n.d(h,"PASSWORD",(function(){return z}));var f={};n.r(f),n.d(f,"NAME",(function(){return H}));var b={};n.r(b),n.d(b,"NICKNAME",(function(){return K}));var y={};n.r(y),n.d(y,"NAME",(function(){return B}));var g={};n.r(g),n.d(g,"Account",(function(){return h})),n.d(g,"Group",(function(){return f})),n.d(g,"Profile",(function(){return b})),n.d(g,"Repository",(function(){return y}));var v={};n.r(v),n.d(v,"USERNAME",(function(){return $})),n.d(v,"PASSWORD",(function(){return q})),n.d(v,"VERIFICATION_CODE",(function(){return G}));var C={};n.r(C),n.d(C,"NAME",(function(){return J}));var E={};n.r(E),n.d(E,"NICKNAME",(function(){return Z})),n.d(E,"EMAIL",(function(){return Y}));var w={};n.r(w),n.d(w,"NAME",(function(){return Q}));var N={};n.r(N),n.d(N,"CODE",(function(){return X}));var S={};n.r(S),n.d(S,"Account",(function(){return v})),n.d(S,"Group",(function(){return C})),n.d(S,"Profile",(function(){return E})),n.d(S,"Repository",(function(){return w})),n.d(S,"Collaborator",(function(){return N}));const k=/^\w{1,20}$/,O=/^\S{6,}$/,P=/^\d{6}$/;var _=/^\S{1,20}$/,M=/^\S{1,20}$/,I=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,R=/^\w{1,20}$/,x=/^\w+_\w+_\d+$/;function A(e){return a.USERNAME.test(e)}function j(e){return a.PASSWORD.test(e)}function V(e){return a.VERIFICATION_CODE.test(e)}function D(e){return r.NAME.test(e)}function T(e){return o.NICKNAME.test(e)}function L(e){return o.EMAIL.test(e)}function W(e){return i.NAME.test(e)}function F(e){return s.CODE.test(e)}var U="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",z="6 \u4f4d\u4ee5\u4e0a",H="1~20 \u4f4d",K="1~20 \u4f4d",B="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf";const $="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",q="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",G="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e";var J="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Z="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Y="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Q="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",X="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return g}))},1121:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1122),i=n.n(o);t.a=r.a.memo((function(e){var t=e.children,n=e.required;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},n?" *":""))}))},1122:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1125:function(e,t,n){"use strict";var a=n(1121);n.d(t,"a",(function(){return a.a}))},1128:function(e,t,n){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},1129:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1128),i=n.n(o);var s=r.a.memo((function(e){var t=e.children;return r.a.createElement("h2",{className:i.a.SettingsTitle},t)}));n.d(t,"a",(function(){return s}))},1149:function(e,t,n){"use strict";n(506);var a=n(346),r=(n(504),n(338)),o=n(0),i=n.n(o),s=n(1158),c=n.n(s);var l=i.a.memo((function(e){var t=e.warning,n=e.validateText,o=e.password,s=e.validateInputPlaceholder,l=e.onValidateInputChange,u=e.onPasswordInputChange,d=e.visible,m=e.onOk,p=e.onCancel,h=e.title,f=e.confirmLoading;return i.a.createElement(a.a,{confirmLoading:f,title:h,className:c.a.CriticalOperationConfirmModal,visible:d,onOk:m,onCancel:p,destroyOnClose:!0},i.a.createElement("div",{className:c.a.content},i.a.createElement("div",{className:c.a.warningWrapper},t),i.a.createElement(r.a,{className:c.a.input,value:n,onChange:l,placeholder:s,autoFocus:!0}),i.a.createElement(r.a,{className:c.a.input,placeholder:"\u8d26\u6237\u5bc6\u7801",type:"password",value:o,onChange:u})))}));n.d(t,"a",(function(){return l}))},1150:function(e,t,n){"use strict";n(50),n(1151)},1151:function(e,t,n){},1152:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(0),r=n(1153),o=n.n(r),i=n(5),s=n.n(i),c=n(44),l=n(151),u=n.n(l),d=n(242),m=n(112),p=n(67),h=n(133);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,C(t).call(this,e))).saveSwitch=function(e){n.rcSwitch=e},n.renderSwitch=function(e){var t=e.getPrefixCls,r=e.direction,i=n.props,l=i.prefixCls,m=i.size,p=i.loading,f=i.className,g=void 0===f?"":f,v=i.disabled,C=t("switch",l),E=p?a.createElement(u.a,{className:"".concat(C,"-loading-icon")}):null;return a.createElement(h.b.Consumer,null,(function(e){var t,i=s()(g,(y(t={},"".concat(C,"-small"),"small"===(m||e)),y(t,"".concat(C,"-loading"),p),y(t,"".concat(C,"-rtl"),"rtl"===r),t));return a.createElement(d.a,{insertExtraNode:!0},a.createElement(o.a,b({},Object(c.a)(n.props,["loading"]),{prefixCls:C,className:i,disabled:v||p,ref:n.saveSwitch,loadingIcon:E})))}))},Object(p.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(r=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return a.createElement(m.a,null,this.renderSwitch)}}])&&g(n.prototype,r),i&&g(n,i),t}(a.Component);w.__ANT_SWITCH=!0},1153:function(e,t,n){e.exports=n(1154)},1154:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),i=n.n(o),s=n(182);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(5),b=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=d(t).call(this,e),n=!r||"object"!==typeof r&&"function"!==typeof r?p(a):r,h(p(p(n)),"handleClick",(function(e){var t=n.state.checked,a=n.props.onClick,r=!t;n.setChecked(r,e),a&&a(r,e)})),h(p(p(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),h(p(p(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),h(p(p(n)),"saveNode",(function(e){n.node=e}));var o=!1;return o="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:o},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,a=n.disabled,r=n.onChange;a||("checked"in this.props||this.setState({checked:e}),r&&r(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.prefixCls,o=t.disabled,i=t.loadingIcon,s=t.checkedChildren,u=t.unCheckedChildren,d=l(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),m=this.state.checked,p=f((h(e={},n,!!n),h(e,a,!0),h(e,"".concat(a,"-checked"),m),h(e,"".concat(a,"-disabled"),o),e));return r.a.createElement("button",c({},d,{type:"button",role:"switch","aria-checked":m,disabled:o,className:p,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),i,r.a.createElement("span",{className:"".concat(a,"-inner")},m?s:u))}}])&&u(n.prototype,a),o&&u(n,o),t}(a.Component);b.propTypes={className:i.a.string,prefixCls:i.a.string,disabled:i.a.bool,checkedChildren:i.a.any,unCheckedChildren:i.a.any,onChange:i.a.func,onMouseUp:i.a.func,onClick:i.a.func,tabIndex:i.a.number,checked:i.a.bool,defaultChecked:i.a.bool,autoFocus:i.a.bool,loadingIcon:i.a.node},b.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(s.polyfill)(b),t.default=b},1158:function(e,t,n){e.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1165:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},i=n(12),s=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};s.displayName="LockOutlined";t.a=r.a.forwardRef(s)},1169:function(e,t,n){"use strict";n(1124);var a=n(1123),r=n(0),o=n.n(r);var i=o.a.memo((function(e){var t=e.children;return o.a.createElement(a.a,{bordered:!0,split:!0},t)}));n.d(t,"a",(function(){return i}))},1171:function(e,t,n){"use strict";n(1124);var a=n(1123),r=(n(94),n(26)),o=n(0),i=n.n(o);var s=i.a.memo((function(e){var t=e.title,n=e.description,o=e.onButtonClick,s=e.buttonText;return i.a.createElement(a.a.Item,{extra:i.a.createElement(r.a,{type:"danger",onClick:o},s)},i.a.createElement(a.a.Item.Meta,{title:t,description:n}))}));n.d(t,"a",(function(){return s}))},1239:function(e,t,n){e.exports={Options:"Style_Options__1uo9K",itemWrapper:"Style_itemWrapper__2NFs3"}},1240:function(e,t,n){e.exports={RepositoryName:"Style_RepositoryName__3_t91",label:"Style_label__1U8rk",input:"Style_input__3WUY0"}},1241:function(e,t,n){e.exports={Description:"Style_Description__3jlHf",textarea:"Style_textarea__iH3Cp",buttonWrapper:"Style_buttonWrapper__g906C"}},1242:function(e,t,n){},1321:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(1239),i=n.n(o),s=n(1129),c=(n(95),n(42)),l=(n(344),n(150)),u=(n(94),n(26)),d=(n(341),n(156)),m=(n(504),n(338)),p=n(1240),h=n.n(p),f=n(1125),b=n(1119);function y(e,t){return 0===e.length||t}var g=r.a.memo((function(e){const{repositoryName:t,onRenameConfirm:n,onRepositoryNameInputChange:a,submitting:o}=e;return r.a.createElement("div",{className:h.a.RepositoryName},r.a.createElement("label",{className:h.a.label},r.a.createElement(f.a,null,"\u4ed3\u5e93\u540d"),r.a.createElement(d.a,{trigger:"focus",title:b.c.Repository.NAME},r.a.createElement(m.a,{className:h.a.input,value:t,onChange:a,disabled:o})),r.a.createElement(l.a,{title:"\u91cd\u547d\u540d\u4ed3\u5e93\u4f1a\u5bfc\u81f4\u539f\u4ed3\u5e93\u7f51\u5740\u4e0e\u514b\u9686\u8def\u5f84\u5931\u6548\uff0c\u786e\u5b9a\u7ee7\u7eed\uff1f",onConfirm:n,disabled:y(t,o)},r.a.createElement(u.a,{className:h.a.button,loading:o,disabled:y(t,o)},"\u91cd\u547d\u540d"))))})),v=n(132),C=n(32),E=n(343);class w extends a.PureComponent{constructor(e){super(e),this.onRepositoryNameInputChange=e=>{this.setState({repositoryName:e.target.value})},this.onRenameConfirm=async()=>{this.validateParameters()&&(this.setState({submitting:!0}),await this.submit(),this.setState({submitting:!1}))},this.validateParameters=()=>{const{repositoryName:e}=this.state;return!!b.b.Repository.name(e)||(c.a.warn({message:b.a.Repository.NAME,description:b.c.Repository.NAME}),!1)},this.submit=async()=>{const{repositoryName:e}=this.state,{match:{params:{repository:t}}}=this.props;null!==await E.a.setName({name:t},{name:e})&&this.onSubmitSuccess()},this.onSubmitSuccess=()=>{c.a.success({message:"\u4ed3\u5e93\u91cd\u547d\u540d\u6210\u529f"});const{history:e}=this.props,{match:{params:{username:t}}}=this.props,{repositoryName:n}=this.state;e.replace(C.Function.generateRepositorySettingsOptionsRoute({username:t,repository:n}))};const{match:{params:{repository:t}}}=e;this.state={repositoryName:t,submitting:!1}}render(){const{repositoryName:e,submitting:t}=this.state;return r.a.createElement(g,{repositoryName:e,onRenameConfirm:this.onRenameConfirm,onRepositoryNameInputChange:this.onRepositoryNameInputChange,submitting:t})}}var N=Object(v.f)(w),S=(n(142),n(73)),k=n(1241),O=n.n(k);var P=r.a.memo((function(e){const{description:t,onSubmit:n,onTextareaChange:a,loading:o,submitting:i}=e;return r.a.createElement("div",{className:O.a.Description},r.a.createElement("label",null,r.a.createElement(f.a,null,"\u4ed3\u5e93\u63cf\u8ff0"),r.a.createElement(S.a,{spinning:o},r.a.createElement(m.a.TextArea,{disabled:o||i,value:t,className:O.a.textarea,onChange:a}))),r.a.createElement("div",{className:O.a.buttonWrapper},r.a.createElement(u.a,{loading:i,disabled:o||i,className:O.a.button,onClick:n},"\u786e\u5b9a")))}));class _ extends a.PureComponent{constructor(e){super(e),this.onTextareaChange=e=>{this.setState({description:e.target.value})},this.onSubmit=async()=>{const{description:e}=this.state,{match:{params:{repository:t}}}=this.props;this.setState({submitting:!0});const n=await E.a.setDescription({name:t,description:e});this.setState({submitting:!1}),null!==n&&c.a.success({message:"\u4ed3\u5e93\u63cf\u8ff0\u4fee\u6539\u6210\u529f"})},this.state={description:"",submitting:!1}}componentDidUpdate(e,t,n){const{repository:{description:a},loading:r}=this.props,{loading:o}=e;o&&r&&this.setState({description:a})}render(){const{loading:e}=this.props,{description:t,submitting:n}=this.state;return r.a.createElement(P,{submitting:n,loading:e,description:t,onTextareaChange:this.onTextareaChange,onSubmit:this.onSubmit})}}var M=Object(v.f)(_),I=(n(1150),n(1152)),R=n(1242),x=n.n(R),A=n(1149),j={name:"unlock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},V=n(12),D=function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t,icon:j}))};D.displayName="UnlockOutlined";var T=r.a.forwardRef(D),L=n(1165);var W=r.a.memo((function(e){const{loading:t,isPublic:n,onSwitchChange:a,modalRepositoryName:o,modalPassword:i,onModalRepositoryNameInputChange:s,onModalPasswordInputChange:c,modalVisible:l,onModalOk:u,onModalCancel:d}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:x.a.AccessibilitySwitch},r.a.createElement(f.a,null,"\u662f\u5426\u516c\u5f00"),r.a.createElement(I.a,{loading:t,checked:n,disabled:t,onChange:a,checkedChildren:r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null)," \u516c\u5f00"),unCheckedChildren:r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null)," \u79c1\u6709")})),r.a.createElement(A.a,{confirmLoading:t,title:"\u53ef\u89c1\u6027\u5207\u6362\u786e\u8ba4",warning:r.a.createElement("strong",null,"\u5c06\u4ed3\u5e93\u6539\u4e3a\u516c\u6709\u5c06\u4f1a\u8ba9",r.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4eba"),"\u770b\u5230\u4ed3\u5e93\u5185\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u540d",validateText:o,password:i,visible:l,onPasswordInputChange:c,onValidateInputChange:s,onOk:u,onCancel:d}))})),F=n(45),U=n(115);class z extends a.PureComponent{constructor(e){super(e),this.onSwitchChange=async e=>{const{isPublic:t}=this.state;!t&&e?this.setState({modalVisible:!0}):t&&!e&&await this.setIsPublic(e)},this.onModalRepositoryNameInputChange=e=>{this.setState({modalRepositoryName:e.target.value})},this.onModalPasswordInputChange=e=>{this.setState({modalPassword:e.target.value})},this.onModalOk=async()=>{const{match:{params:{repository:e,username:t}}}=this.props,{modalRepositoryName:n,modalPassword:a,isPublic:r}=this.state;if(e!==n)c.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"});else{const e=U.a.calculateHash(t,a),n=await F.a.checkPassword({hash:e});if(null!==n){const{isCorrect:e}=n;e?(await this.setIsPublic(!r),this.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""})):c.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"})}}},this.onModalCancel=async()=>{this.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""})},this.setIsPublic=async e=>{const{match:{params:{repository:t}}}=this.props,{isPublic:n}=this.state;if(n!==e){this.setState({submitting:!0}),null!==await F.h.setIsPublic({name:t,isPublic:e})&&window.location.reload(),this.setState({submitting:!1})}},this.state={submitting:!1,isPublic:!0,modalRepositoryName:"",modalPassword:"",modalVisible:!1}}componentDidUpdate(e,t,n){const{repository:{isPublic:a},loading:r}=this.props,{loading:o}=e;o&&r&&this.setState({isPublic:a})}render(){const{submitting:e,isPublic:t,modalRepositoryName:n,modalPassword:a,modalVisible:o}=this.state,{loading:i}=this.props;return r.a.createElement(W,{loading:e||i,isPublic:t,modalRepositoryName:n,modalPassword:a,modalVisible:o,onSwitchChange:this.onSwitchChange,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}var H=Object(v.f)(z),K=n(1171);var B=r.a.memo((function(e){var t=e.onButtonClick,n=e.modalRepositoryName,a=e.modalPassword,o=e.onModalRepositoryNameInputChange,i=e.onModalPasswordInputChange,s=e.onModalOk,c=e.onModalCancel,l=e.modalVisible,u=e.modalConfirmLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{buttonText:"\u5220\u9664\u4ed3\u5e93",title:"\u5220\u9664\u4ed3\u5e93",description:"\u5220\u9664\u4ed3\u5e93\u7684\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u614e\u91cd\u3002",onButtonClick:t}),r.a.createElement(A.a,{warning:r.a.createElement("strong",null,"\u5982\u679c\u4ed3\u5e93\u88ab\u5220\u9664\uff0c\u60a8\u5c06\u4e22\u5931\u4ed3\u5e93\u7684\u6587\u4ef6\u3001\u63d0\u4ea4\u8bb0\u5f55\u7b49",r.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4fe1\u606f"),"\uff0c\u4e14\u5220\u9664\u6210\u529f\u540e\u6ca1\u6709\u6062\u590d\u7684\u53ef\u80fd\u3002\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u7684\u540d\u5b57",title:"\u5220\u9664\u4ed3\u5e93\u786e\u8ba4",validateText:n,password:a,onValidateInputChange:o,onPasswordInputChange:i,onOk:s,onCancel:c,visible:l,confirmLoading:u}))}));class $ extends a.PureComponent{constructor(e){super(e),this.onButtonClick=async()=>{this.setState({modalRepositoryName:"",modalPassword:"",modalVisible:!0})},this.onModalRepositoryNameInputChange=e=>{this.setState({modalRepositoryName:e.target.value})},this.onModalPasswordInputChange=e=>{this.setState({modalPassword:e.target.value})},this.onModalOk=async()=>{const{match:{params:{repository:e,username:t}},history:n}=this.props,{modalRepositoryName:a,modalPassword:r}=this.state;if(e!==a)c.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"});else{const a=U.a.calculateHash(t,r);this.setState({modalConfirmLoading:!0});const o=await F.a.checkPassword({hash:a});if(null!==o){const{isCorrect:a}=o;if(a){null!==await F.g.del({name:e})&&(c.a.success({message:"\u4ed3\u5e93\u5220\u9664\u6210\u529f"}),this.setState({modalVisible:!1}),n.replace(C.Function.generatePersonalCenterRoute({username:t})))}else c.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"})}this.setState({modalConfirmLoading:!1})}},this.onModalCancel=()=>{this.setState({modalVisible:!1})},this.state={modalRepositoryName:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1}}render(){const{modalConfirmLoading:e,modalVisible:t,modalPassword:n,modalRepositoryName:a}=this.state;return r.a.createElement(B,{onButtonClick:this.onButtonClick,modalConfirmLoading:e,modalVisible:t,modalPassword:n,modalRepositoryName:a,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}var q=Object(v.f)($),G=n(1169);var J=r.a.memo((function(){return r.a.createElement(G.a,null,r.a.createElement(q,null))}));var Z=r.a.memo((function(e){const{repository:t,loading:n}=e;return r.a.createElement("div",{className:i.a.Options},r.a.createElement(s.a,null,"\u9009\u9879"),r.a.createElement("div",{className:i.a.itemWrapper},r.a.createElement(N,null)),r.a.createElement("div",{className:i.a.itemWrapper},r.a.createElement(H,{repository:t,loading:n})),r.a.createElement("div",{className:i.a.itemWrapper},r.a.createElement(M,{repository:t,loading:n})),r.a.createElement(s.a,null,r.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533a")),r.a.createElement(J,null))}));class Y extends a.PureComponent{constructor(e){super(e),this.loadRepository=async()=>{const{match:{params:{repository:e,username:t}}}=this.props,n=await E.a.repository({username:t},{name:e});null!==n&&this.setState({repository:n})},this.state={repository:new U.h("","","",!0),loading:!0}}async componentDidMount(){this.setState({loading:!0}),await this.loadRepository(),this.setState({loading:!1})}render(){const{repository:e,loading:t}=this.state;return r.a.createElement(Z,{repository:e,loading:t})}}var Q=Object(v.f)(Y);n.d(t,"default",(function(){return Q}))}}]);
//# sourceMappingURL=11.54161e45.chunk.js.map