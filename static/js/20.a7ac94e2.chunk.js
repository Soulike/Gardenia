(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[20],{1020:function(A,u){A.exports=z;var t=/^(?:\w+:)?\/\/(\S+)$/,S=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,r=/^[^\s\.]+\.\S{2,}$/;function z(h){if(typeof h!="string")return!1;var P=h.match(t);if(!P)return!1;var e=P[1];return e?!!(S.test(e)||r.test(e)):!1}},1021:function(A,u,t){A.exports={CommitInfoBar:"Style_CommitInfoBar__AogMa",left:"Style_left__3aqnY",right:"Style_right__XNYqn",message:"Style_message__3Jq3M"}},1033:function(A,u,t){"use strict";t.d(u,"a",function(){return F});var S=t(0),r=t.n(S),z=t(1021),h=t.n(z),P=t(17),e=t(46),a=t(48),n=t(170),o=t(67),s=t(343);function v(L){const{lastCommit:{committerName:R,commitHash:B,message:U,timestamp:D,committerEmail:M},match:{params:{username:l,repositoryName:H}}}=L;return r.a.createElement("div",{className:h.a.CommitInfoBar},r.a.createElement("div",{className:h.a.left},r.a.createElement(s.a,{committerEmail:M,committerName:R}),r.a.createElement("div",{className:h.a.message},U)),r.a.createElement("div",{className:h.a.right},r.a.createElement("div",{className:h.a.time},o.b.parseTimestampToDifference(D)),r.a.createElement(n.a,{title:B},r.a.createElement("div",{className:h.a.commitHash},"\u6700\u540E\u63D0\u4EA4\uFF1A",r.a.createElement(P.b,{to:a.Function.generateRepositoryCommitRoute({username:l,repositoryName:H,commitHash:B})},B.slice(0,7))))))}var F=Object(e.j)(r.a.memo(v))},1034:function(A,u,t){"use strict";t.d(u,"a",function(){return U});var S=t(0),r=t.n(S),z=t(46),h=t(48),P=t(340),e=t(1020),a=t.n(e),n=t(22),o=t(995),s=t.n(o),v=t(244),F,L=typeof F!="undefined"?F:D=>{throw new Error('Dynamic require of "'+D+'" is not supported')},R=(D,M,l)=>new Promise((H,N)=>{var I=p=>{try{O(l.next(p))}catch(b){N(b)}},E=p=>{try{O(l.throw(p))}catch(b){N(b)}},O=p=>p.done?H(p.value):Promise.resolve(p.value).then(I,E);O((l=l.apply(D,M)).next())});class B extends S.PureComponent{constructor(M){super(M);this.objectURLs=[],this.loadMainBranchName=()=>R(this,null,function*(){return new Promise(l=>R(this,null,function*(){const{match:{params:{username:H,repositoryName:N}}}=this.props,I=yield P.a.branches({username:H,name:N});if(I!==null){const{branches:E}=I;for(const{name:O,isDefault:p}of E)if(p){this.setState({mainBranchName:O},()=>l());break}}}))}),this.processHTML=l=>R(this,null,function*(){const N=document.implementation.createHTMLDocument().createElement("div");N.innerHTML=l;const I=N.getElementsByTagName("a"),E=N.getElementsByTagName("img"),O=[];for(const p of I){const b=p.getAttribute("href");b!==null&&O.push((()=>R(this,null,function*(){p.setAttribute("href",yield this.getCompleteLink(b))}))())}for(const p of E){const b=p.getAttribute("src");b!==null&&O.push((()=>R(this,null,function*(){const V=yield this.getImageURL(b);this.objectURLs.push(V),p.setAttribute("src",V)}))())}return yield Promise.all(O),N.innerHTML}),this.getCompleteLink=l=>R(this,null,function*(){if(l.length===0||a()(l)||s.a.isAbsolute(l)||l.charAt(0)==="#"||l.charAt(0)==="?")return l;{const{match:{params:{username:H,repositoryName:N,objectType:I,commitHash:E,path:O}}}=this.props,{mainBranchName:p}=this.state,b=O?I===n.b.BLOB?s.a.join(s.a.dirname(O),l):s.a.join(O,l):s.a.join("",l),V=yield P.a.fileInfo({username:H},{name:N},b,E||p);if(V!==null){const{objectType:W}=V;return W===n.b.BLOB?h.Function.generateRepositoryCodeRoute({username:H,repositoryName:N,commitHash:E||p,path:b,objectType:n.b.BLOB}):W===n.b.TREE?h.Function.generateRepositoryCodeRoute({username:H,repositoryName:N,commitHash:E||p,path:b,objectType:n.b.TREE}):h.Function.generateRepositoryCodeRoute({username:H,repositoryName:N,commitHash:E||p,path:b,objectType:n.b.COMMIT})}else return h.Function.generateRepositoryCodeRoute({username:H,repositoryName:N,commitHash:E||p,path:b,objectType:n.b.BLOB})}}),this.getImageURL=l=>R(this,null,function*(){if(a()(l)||s.a.isAbsolute(l))return l;{const{match:{params:{username:H,repositoryName:N,objectType:I,commitHash:E,path:O}}}=this.props,{mainBranchName:p}=this.state,b=O?I===n.b.BLOB?s.a.join(s.a.dirname(O),l):s.a.join(O,l):s.a.join("",l),V=yield P.a.rawFile({username:H},{name:N},b,E||p);return V!==null?URL.createObjectURL(V):l}}),this.state={mainBranchName:"",loading:!1}}componentDidMount(){return R(this,null,function*(){const{match:{params:{commitHash:M}}}=this.props;this.setState({loading:!0}),typeof M!="string"&&(yield this.loadMainBranchName()),this.setState({loading:!1})})}componentDidUpdate(M,l,H){return R(this,null,function*(){const{markdown:N}=this.props,{markdown:I}=M;N!==I&&(yield this.componentDidMount())})}componentWillUnmount(){this.objectURLs.forEach(M=>URL.revokeObjectURL(M))}render(){const{loading:M}=this.state,{markdown:l}=this.props;return r.a.createElement(v.a,{markdown:l,processHTML:this.processHTML,loading:M})}}var U=Object(z.j)(B)},1314:function(A,u,t){A.exports={FileList:"Style_FileList__3rWIg",lastCommitInfoBar:"Style_lastCommitInfoBar__2XW39",readmeWrapper:"Style_readmeWrapper__25GwL"}},1315:function(A,u,t){A.exports={Item:"Style_Item__2qcqg",icon:"Style_icon__1TlO4",fileName:"Style_fileName__zs9qY",message:"Style_message__1rBHL",time:"Style_time__2cJ9G"}},1316:function(A,u,t){A.exports={Readme:"Style_Readme__2e1Tq",titleWrapper:"Style_titleWrapper__2ExlZ",title:"Style_title__2mCc5",contentWrapper:"Style_contentWrapper__3fQZA"}},1380:function(A,u,t){"use strict";var S=t(3),r=t(0),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},h=z,P=t(9),e=function(o,s){return r.createElement(P.a,Object(S.a)(Object(S.a)({},o),{},{ref:s,icon:h}))};e.displayName="FileTextOutlined";var a=u.a=r.forwardRef(e)},1389:function(A,u,t){"use strict";t.r(u),t.d(u,"default",function(){return ce});var S=t(0),r=t.n(S),z=t(1314),h=t.n(z),P=t(1423),e=t(177),a=t(22),n=t(17),o=t(46),s=t(1315),v=t.n(s),F=t(48),L=t(67),R=t(1380),B=t(3),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},D=U,M=t(9),l=function(c,i){return S.createElement(M.a,Object(B.a)(Object(B.a)({},c),{},{ref:i,icon:D}))};l.displayName="FolderOutlined";var H=S.forwardRef(l),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},I=N,E=function(c,i){return S.createElement(M.a,Object(B.a)(Object(B.a)({},c),{},{ref:i,icon:I}))};E.displayName="ContainerOutlined";var O=S.forwardRef(E);function p(j){const{masterBranchName:c,fileInfo:{type:i,path:y,commit:{message:g,timestamp:d,commitHash:C}},match:{params:{username:f,repositoryName:m,commitHash:T}}}=j,J=b(y);return r.a.createElement(P.b.Item,{className:v.a.Item},i===a.b.BLOB?r.a.createElement(R.a,{className:v.a.icon}):i===a.b.TREE?r.a.createElement(H,{className:v.a.icon}):r.a.createElement(O,{className:v.a.icon}),r.a.createElement("div",{className:v.a.fileName},i===a.b.COMMIT?J:r.a.createElement(n.b,{to:F.Function.generateRepositoryCodeRoute({username:f,repositoryName:m,objectType:i,commitHash:T||c,path:y})},J)),r.a.createElement(n.b,{className:v.a.message,to:F.Function.generateRepositoryCommitRoute({username:f,repositoryName:m,commitHash:C})},g),r.a.createElement("div",{className:v.a.time},L.b.parseTimestampToDifference(d)))}function b(j){const c=j.split("/");return c[c.length-1]}var V=Object(o.j)(r.a.memo(p)),W=t(1316),w=t.n(W),q=t(947),_=t(1034);function ee(j){const{readme:c,exists:i,loading:y}=j;return i?r.a.createElement("div",{className:w.a.Readme},r.a.createElement(q.a,{spinning:y},r.a.createElement("div",{className:w.a.titleWrapper},r.a.createElement(R.a,null),r.a.createElement("div",{className:w.a.title},"README.md")),r.a.createElement("div",{className:w.a.contentWrapper},r.a.createElement(_.a,{markdown:c})))):null}var te=r.a.memo(ee),$=t(340),X=t(995),Z=t(96),Q,de=typeof Q!="undefined"?Q:j=>{throw new Error('Dynamic require of "'+j+'" is not supported')},G=(j,c,i)=>new Promise((y,g)=>{var d=m=>{try{f(i.next(m))}catch(T){g(T)}},C=m=>{try{f(i.throw(m))}catch(T){g(T)}},f=m=>m.done?y(m.value):Promise.resolve(m.value).then(d,C);f((i=i.apply(j,c)).next())});class ae extends S.PureComponent{constructor(c){super(c);this.setStatePromise=Object(Z.promisify)(this.setState),this.loadRawReadme=()=>G(this,null,function*(){yield this.setStatePromise({exists:!1});const i=["README.md","readme.md","readMe.md","ReadMe.md","README.MD","readme.MD","readMe.MD","ReadMe.MD"],{match:{params:{username:y,repositoryName:g,path:d}},commitHash:C}=this.props;for(const f of i){const m=yield $.a.fileInfo({username:y},{name:g},Object(X.join)(d||"",f),C);if(m!==null&&m.objectType===a.b.BLOB){const T=yield $.a.rawFile({username:y},{name:g},Object(X.join)(d||"",f),C);T!==null&&(yield this.setStatePromise({readme:yield L.c.transformBlobToString(T),exists:!0}));break}}}),this.state={exists:!1,readme:"",loading:!1}}componentDidMount(){return G(this,null,function*(){const{commitHash:c}=this.props;c&&(yield this.setStatePromise({loading:!0}),yield this.loadRawReadme(),yield this.setStatePromise({loading:!1}))})}componentDidUpdate(c,i,y){return G(this,null,function*(){const{location:{pathname:g},commitHash:d}=this.props,{location:{pathname:C},commitHash:f}=c;(g!==C||d!==f)&&(yield this.componentDidMount())})}render(){const{readme:c,exists:i,loading:y}=this.state;return r.a.createElement(te,{exists:i,readme:c,loading:y})}}var ne=Object(o.j)(ae),re=t(1033);const oe=r.a.lazy(()=>t.e(49).then(t.bind(null,1422)));function se(j){const{fileList:c,lastCommit:i,loading:y,showPreviousFolderItem:g,masterBranchName:d}=j,{commitHash:C}=i;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:h.a.FileList},r.a.createElement("div",{className:h.a.lastCommitInfoBar},r.a.createElement(re.a,{lastCommit:i})),r.a.createElement(P.b,{locale:{emptyText:r.a.createElement(e.a,{description:"\u6CA1\u6709\u6587\u4EF6"})},loading:y,className:h.a.fileList},g?r.a.createElement(oe,null):null,c.map(f=>r.a.createElement(V,{masterBranchName:d,fileInfo:f,key:f.path})))),r.a.createElement("div",{className:h.a.readmeWrapper},r.a.createElement(ne,{commitHash:C})))}var ie=r.a.memo(se),Y=t(27),le=t(132),K=t(1),k,fe=typeof k!="undefined"?k:j=>{throw new Error('Dynamic require of "'+j+'" is not supported')},x=(j,c,i)=>new Promise((y,g)=>{var d=m=>{try{f(i.next(m))}catch(T){g(T)}},C=m=>{try{f(i.throw(m))}catch(T){g(T)}},f=m=>m.done?y(m.value):Promise.resolve(m.value).then(d,C);f((i=i.apply(j,c)).next())});class me extends S.Component{constructor(c){super(c);this.setStatePromise=Object(Z.promisify)(this.setState),this.loadMasterBranchName=()=>x(this,null,function*(){return new Promise(i=>x(this,null,function*(){const{match:{params:{username:y,repositoryName:g}}}=this.props,d=yield Y.j.branches({username:y,name:g});if(d!==null){const{branches:C}=d;let f="";for(const{name:m,isDefault:T}of C)if(T){f=m;break}this.setState({masterBranchName:f},()=>i())}}))}),this.loadDirectory=()=>x(this,null,function*(){const{match:{params:{username:i,repositoryName:y,path:g,commitHash:d}},history:C}=this.props,{masterBranchName:f}=this.state,m=yield Y.j.directory({username:i},{name:y},d||f,g===void 0?"":g+"/");m!==null?yield this.setStatePromise({fileList:[...m]}):C.replace(K.d[K.b.NOT_FOUND])}),this.loadLastCommit=()=>x(this,null,function*(){return new Promise(i=>x(this,null,function*(){const{match:{params:{username:y,repositoryName:g,commitHash:d,path:C}}}=this.props,{masterBranchName:f}=this.state,m=yield Y.j.lastBranchCommit({username:y},{name:g},d||f,C);m!==null?this.setState({lastCommit:m},()=>i()):i()}))}),this.state={fileList:[],lastCommit:new le.b("","","",0,"",""),loading:!0,masterBranchName:""}}componentDidMount(){return x(this,null,function*(){this.setState({loading:!0}),yield this.loadMasterBranchName(),yield this.loadLastCommit(),yield this.loadDirectory(),this.setState({loading:!1})})}componentDidUpdate(c,i,y){return x(this,null,function*(){const{match:{params:{username:g,repositoryName:d,commitHash:C,path:f}}}=c,{match:{params:{username:m,repositoryName:T,commitHash:J,path:ue}}}=this.props;g!==m||d!==T?yield this.componentDidMount():C!==J?(this.setState({loading:!0}),yield Promise.all([this.loadDirectory(),this.loadLastCommit()]),this.setState({loading:!1})):f!==ue&&(this.setState({loading:!0}),yield this.loadDirectory(),this.setState({loading:!1}))})}render(){const{fileList:c,lastCommit:i,loading:y,masterBranchName:g}=this.state,{match:{params:{path:d}}}=this.props;return r.a.createElement(ie,{fileList:c,masterBranchName:g,lastCommit:i,loading:y,showPreviousFolderItem:d!==void 0&&d!=="."})}}var ce=Object(o.j)(me)},995:function(A,u,t){(function(S){function r(e,a){for(var n=0,o=e.length-1;o>=0;o--){var s=e[o];s==="."?e.splice(o,1):s===".."?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(a)for(;n--;n)e.unshift("..");return e}u.resolve=function(){for(var e="",a=!1,n=arguments.length-1;n>=-1&&!a;n--){var o=n>=0?arguments[n]:S.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)continue;e=o+"/"+e,a=o.charAt(0)==="/"}return e=r(h(e.split("/"),function(s){return!!s}),!a).join("/"),(a?"/":"")+e||"."},u.normalize=function(e){var a=u.isAbsolute(e),n=P(e,-1)==="/";return e=r(h(e.split("/"),function(o){return!!o}),!a).join("/"),!e&&!a&&(e="."),e&&n&&(e+="/"),(a?"/":"")+e},u.isAbsolute=function(e){return e.charAt(0)==="/"},u.join=function(){var e=Array.prototype.slice.call(arguments,0);return u.normalize(h(e,function(a,n){if(typeof a!="string")throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},u.relative=function(e,a){e=u.resolve(e).substr(1),a=u.resolve(a).substr(1);function n(B){for(var U=0;U<B.length&&B[U]==="";U++);for(var D=B.length-1;D>=0&&B[D]==="";D--);return U>D?[]:B.slice(U,D-U+1)}for(var o=n(e.split("/")),s=n(a.split("/")),v=Math.min(o.length,s.length),F=v,L=0;L<v;L++)if(o[L]!==s[L]){F=L;break}for(var R=[],L=F;L<o.length;L++)R.push("..");return R=R.concat(s.slice(F)),R.join("/")},u.sep="/",u.delimiter=":",u.dirname=function(e){if(typeof e!="string"&&(e=e+""),e.length===0)return".";for(var a=e.charCodeAt(0),n=a===47,o=-1,s=!0,v=e.length-1;v>=1;--v)if(a=e.charCodeAt(v),a===47){if(!s){o=v;break}}else s=!1;return o===-1?n?"/":".":n&&o===1?"/":e.slice(0,o)};function z(e){typeof e!="string"&&(e=e+"");var a=0,n=-1,o=!0,s;for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!o){a=s+1;break}}else n===-1&&(o=!1,n=s+1);return n===-1?"":e.slice(a,n)}u.basename=function(e,a){var n=z(e);return a&&n.substr(-1*a.length)===a&&(n=n.substr(0,n.length-a.length)),n},u.extname=function(e){typeof e!="string"&&(e=e+"");for(var a=-1,n=0,o=-1,s=!0,v=0,F=e.length-1;F>=0;--F){var L=e.charCodeAt(F);if(L===47){if(!s){n=F+1;break}continue}o===-1&&(s=!1,o=F+1),L===46?a===-1?a=F:v!==1&&(v=1):a!==-1&&(v=-1)}return a===-1||o===-1||v===0||v===1&&a===o-1&&a===n+1?"":e.slice(a,o)};function h(e,a){if(e.filter)return e.filter(a);for(var n=[],o=0;o<e.length;o++)a(e[o],o,e)&&n.push(e[o]);return n}var P="ab".substr(-1)==="b"?function(e,a,n){return e.substr(a,n)}:function(e,a,n){return a<0&&(a=e.length+a),e.substr(a,n)}}).call(this,t(44))}}]);

//# sourceMappingURL=20.a7ac94e2.chunk.js.map