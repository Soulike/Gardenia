(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[11],{1018:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),o=n(1024),i=n.n(o),c=n(956),s=n(957);var u=r.a.memo((function(e){var t=e.warning,n=e.validateText,a=e.password,o=e.validateInputPlaceholder,u=e.onValidateInputChange,l=e.onPasswordInputChange,d=e.visible,p=e.onOk,m=e.onCancel,f=e.title,h=e.confirmLoading;return r.a.createElement(c.a,{confirmLoading:h,title:f,className:i.a.CriticalOperationConfirmModal,visible:d,onOk:p,onCancel:m,destroyOnClose:!0},r.a.createElement("div",{className:i.a.content},r.a.createElement("div",{className:i.a.warningWrapper},t),r.a.createElement(s.a,{className:i.a.input,value:n,onChange:u,placeholder:o,autoFocus:!0}),r.a.createElement(s.a,{className:i.a.input,placeholder:"\u8d26\u6237\u5bc6\u7801",type:"password",value:a,onChange:l})))}))},1020:function(e,t,n){e.exports=n(1021)},1021:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),c=n(144);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n(6),b=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=d(t).call(this,e),n=!r||"object"!==typeof r&&"function"!==typeof r?m(a):r,f(m(m(n)),"handleClick",(function(e){var t=n.state.checked,a=n.props.onClick,r=!t;n.setChecked(r,e),a&&a(r,e)})),f(m(m(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),f(m(m(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),f(m(m(n)),"saveNode",(function(e){n.node=e}));var o=!1;return o="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:o},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,a=n.disabled,r=n.onChange;a||("checked"in this.props||this.setState({checked:e}),r&&r(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.prefixCls,o=t.disabled,i=t.loadingIcon,c=t.checkedChildren,l=t.unCheckedChildren,d=u(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),p=this.state.checked,m=h((f(e={},n,!!n),f(e,a,!0),f(e,"".concat(a,"-checked"),p),f(e,"".concat(a,"-disabled"),o),e));return r.a.createElement("button",s({},d,{type:"button",role:"switch","aria-checked":p,disabled:o,className:m,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),i,r.a.createElement("span",{className:"".concat(a,"-inner")},p?c:l))}}])&&l(n.prototype,a),o&&l(n,o),t}(a.Component);b.propTypes={className:i.a.string,prefixCls:i.a.string,disabled:i.a.bool,checkedChildren:i.a.any,unCheckedChildren:i.a.any,onChange:i.a.func,onMouseUp:i.a.func,onClick:i.a.func,tabIndex:i.a.number,checked:i.a.bool,defaultChecked:i.a.bool,autoFocus:i.a.bool,loadingIcon:i.a.node},b.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(c.a)(b),t.default=b},1024:function(e,t,n){e.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1031:function(e,t,n){"use strict";var a=n(0),r={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},o=n(13),i=function(e,t){return a.createElement(o.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="LockOutlined";t.a=a.forwardRef(i)},1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(1187);var i=r.a.memo((function(e){var t=e.children;return r.a.createElement(o.a,{bordered:!0,split:!0},t)}))},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(1187),i=n(86);var c=r.a.memo((function(e){var t=e.title,n=e.description,a=e.onButtonClick,c=e.buttonText;return r.a.createElement(o.a.Item,{extra:r.a.createElement(i.a,{type:"danger",onClick:a},c)},r.a.createElement(o.a.Item.Meta,{title:t,description:n}))}))},1067:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),r=n(1020),o=n.n(r),i=n(6),c=n.n(i),s=n(40),u=n(136),l=n.n(u),d=n(224),p=n(96),m=n(53),f=n(119);function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(h,e);var t,n,r,i,u=(t=h,function(){var e,n=k(t);if(C()){var a=k(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=u.call(this,e)).saveSwitch=function(e){t.rcSwitch=e},t.renderSwitch=function(e){var n=e.getPrefixCls,r=e.direction,i=t.props,u=i.prefixCls,p=i.size,m=i.loading,h=i.className,y=void 0===h?"":h,g=i.disabled,C=n("switch",u),k=m?a.createElement(l.a,{className:"".concat(C,"-loading-icon")}):null;return a.createElement(f.b.Consumer,null,(function(e){var n,i=c()(y,(v(n={},"".concat(C,"-small"),"small"===(p||e)),v(n,"".concat(C,"-loading"),m),v(n,"".concat(C,"-rtl"),"rtl"===r),n));return a.createElement(d.a,{insertExtraNode:!0},a.createElement(o.a,b({},Object(s.a)(t.props,["loading"]),{prefixCls:C,className:i,disabled:g||m,ref:t.saveSwitch,loadingIcon:k})))}))},Object(m.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),t}return n=h,(r=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return a.createElement(p.a,null,this.renderSwitch)}}])&&y(n.prototype,r),i&&y(n,i),h}(a.Component);O.__ANT_SWITCH=!0},1101:function(e,t,n){e.exports={Options:"Style_Options__1uo9K",itemWrapper:"Style_itemWrapper__2NFs3"}},1102:function(e,t,n){e.exports={RepositoryName:"Style_RepositoryName__3_t91",label:"Style_label__1U8rk",input:"Style_input__3WUY0"}},1103:function(e,t,n){e.exports={Description:"Style_Description__3jlHf",textarea:"Style_textarea__iH3Cp",buttonWrapper:"Style_buttonWrapper__g906C"}},1104:function(e,t,n){},1183:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return se}));var a=n(1),r=n.n(a),o=n(3),i=n(9),c=n(10),s=n(17),u=n(18),l=n(0),d=n.n(l),p=n(1101),m=n.n(p),f=n(997),h=n(1102),b=n.n(h),v=n(231),y=n(957),g=n(954),C=n(86),k=n(995),w=n(991);function O(e,t){return 0===e.length||t}var E=d.a.memo((function(e){var t=e.repositoryName,n=e.onRenameConfirm,a=e.onRepositoryNameInputChange,r=e.submitting;return d.a.createElement("div",{className:b.a.RepositoryName},d.a.createElement("label",{className:b.a.label},d.a.createElement(k.a,null,"\u4ed3\u5e93\u540d"),d.a.createElement(v.a,{trigger:"focus",title:w.c.Repository.NAME},d.a.createElement(y.a,{className:b.a.input,value:t,onChange:a,disabled:r})),d.a.createElement(g.a,{title:"\u91cd\u547d\u540d\u4ed3\u5e93\u4f1a\u5bfc\u81f4\u539f\u4ed3\u5e93\u7f51\u5740\u4e0e\u514b\u9686\u8def\u5f84\u5931\u6548\uff0c\u786e\u5b9a\u7ee7\u7eed\uff1f",onConfirm:n,disabled:O(t,r)},d.a.createElement(C.a,{className:b.a.button,loading:r,disabled:O(t,r)},"\u91cd\u547d\u540d"))))})),N=n(118),S=n(23),P=n(951),x=n(323),_=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).onRepositoryNameInputChange=function(e){a.setState({repositoryName:e.target.value})},a.onRenameConfirm=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.validateParameters()){e.next=5;break}return a.setState({submitting:!0}),e.next=4,a.submit();case 4:a.setState({submitting:!1});case 5:case"end":return e.stop()}}),e)}))),a.validateParameters=function(){var e=a.state.repositoryName;return!!w.b.Repository.name(e)||(P.a.warn({message:w.a.Repository.NAME,description:w.c.Repository.NAME}),!1)},a.submit=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.repositoryName,n=a.props.match.params.repository,e.next=4,x.a.setName({name:n},{name:t});case 4:null!==e.sent&&a.onSubmitSuccess();case 6:case"end":return e.stop()}}),e)}))),a.onSubmitSuccess=function(){P.a.success({message:"\u4ed3\u5e93\u91cd\u547d\u540d\u6210\u529f"});var e=a.props.history,t=a.props.match.params.username,n=a.state.repositoryName;return e.replace(S.Function.generateRepositorySettingsOptionsRoute({username:t,repository:n}))};var c=e.match.params.repository;return a.state={repositoryName:c,submitting:!1},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.repositoryName,n=e.submitting;return d.a.createElement(E,{repositoryName:t,onRenameConfirm:this.onRenameConfirm,onRepositoryNameInputChange:this.onRepositoryNameInputChange,submitting:n})}}]),n}(l.PureComponent),M=Object(N.f)(_),R=n(1103),j=n.n(R),I=n(952);var A=d.a.memo((function(e){var t=e.description,n=e.onSubmit,a=e.onTextareaChange,r=e.loading,o=e.submitting;return d.a.createElement("div",{className:j.a.Description},d.a.createElement("label",null,d.a.createElement(k.a,null,"\u4ed3\u5e93\u63cf\u8ff0"),d.a.createElement(I.a,{spinning:r},d.a.createElement(y.a.TextArea,{disabled:r||o,value:t,className:j.a.textarea,onChange:a}))),d.a.createElement("div",{className:j.a.buttonWrapper},d.a.createElement(C.a,{loading:o,disabled:r||o,className:j.a.button,onClick:n},"\u786e\u5b9a")))})),D=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onTextareaChange=function(e){a.setState({description:e.target.value})},a.onSubmit=Object(o.a)(r.a.mark((function e(){var t,n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.description,n=a.props.match.params.repository,a.setState({submitting:!0}),e.next=5,x.a.setDescription({name:n,description:t});case 5:o=e.sent,a.setState({submitting:!1}),null!==o&&P.a.success({message:"\u4ed3\u5e93\u63cf\u8ff0\u4fee\u6539\u6210\u529f"});case 8:case"end":return e.stop()}}),e)}))),a.state={description:"",submitting:!1},a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.repository.description,o=a.loading;e.loading&&o&&this.setState({description:r})}},{key:"render",value:function(){var e=this.props.loading,t=this.state,n=t.description,a=t.submitting;return d.a.createElement(A,{submitting:a,loading:e,description:n,onTextareaChange:this.onTextareaChange,onSubmit:this.onSubmit})}}]),n}(l.PureComponent),V=Object(N.f)(D),T=n(1104),L=n.n(T),F=n(1067),W=n(1018),U={name:"unlock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},z=n(13),H=function(e,t){return l.createElement(z.a,Object.assign({},e,{ref:t,icon:U}))};H.displayName="UnlockOutlined";var K=l.forwardRef(H),B=n(1031);var $=d.a.memo((function(e){var t=e.loading,n=e.isPublic,a=e.onSwitchChange,r=e.modalRepositoryName,o=e.modalPassword,i=e.onModalRepositoryNameInputChange,c=e.onModalPasswordInputChange,s=e.modalVisible,u=e.onModalOk,l=e.onModalCancel;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:L.a.AccessibilitySwitch},d.a.createElement(k.a,null,"\u662f\u5426\u516c\u5f00"),d.a.createElement(F.a,{loading:t,checked:n,disabled:t,onChange:a,checkedChildren:d.a.createElement(d.a.Fragment,null,d.a.createElement(K,null)," \u516c\u5f00"),unCheckedChildren:d.a.createElement(d.a.Fragment,null,d.a.createElement(B.a,null)," \u79c1\u6709")})),d.a.createElement(W.a,{confirmLoading:t,title:"\u53ef\u89c1\u6027\u5207\u6362\u786e\u8ba4",warning:d.a.createElement("strong",null,"\u5c06\u4ed3\u5e93\u6539\u4e3a\u516c\u6709\u5c06\u4f1a\u8ba9",d.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4eba"),"\u770b\u5230\u4ed3\u5e93\u5185\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u540d",validateText:r,password:o,visible:s,onPasswordInputChange:c,onValidateInputChange:i,onOk:u,onCancel:l}))})),G=n(31),q=n(127),J=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onSwitchChange=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=a.state.isPublic)||!t){e.next=5;break}a.setState({modalVisible:!0}),e.next=8;break;case 5:if(!n||t){e.next=8;break}return e.next=8,a.setIsPublic(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onModalRepositoryNameInputChange=function(e){a.setState({modalRepositoryName:e.target.value})},a.onModalPasswordInputChange=function(e){a.setState({modalPassword:e.target.value})},a.onModalOk=Object(o.a)(r.a.mark((function e(){var t,n,o,i,c,s,u,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.match.params,n=t.repository,o=t.username,i=a.state,c=i.modalRepositoryName,s=i.modalPassword,u=i.isPublic,n===c){e.next=6;break}P.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=19;break;case 6:return l=q.a.calculateHash(o,s),e.next=9,G.a.checkPassword({hash:l});case 9:if(null===(d=e.sent)){e.next=19;break}if(!d.isCorrect){e.next=18;break}return e.next=15,a.setIsPublic(!u);case 15:a.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""}),e.next=19;break;case 18:P.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 19:case"end":return e.stop()}}),e)}))),a.onModalCancel=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""});case 1:case"end":return e.stop()}}),e)}))),a.setIsPublic=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.match.params.repository,a.state.isPublic===t){e.next=9;break}return a.setState({submitting:!0}),e.next=6,G.h.setIsPublic({name:n,isPublic:t});case 6:null!==e.sent&&window.location.reload(),a.setState({submitting:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={submitting:!1,isPublic:!0,modalRepositoryName:"",modalPassword:"",modalVisible:!1},a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.repository.isPublic,o=a.loading;e.loading&&o&&this.setState({isPublic:r})}},{key:"render",value:function(){var e=this.state,t=e.submitting,n=e.isPublic,a=e.modalRepositoryName,r=e.modalPassword,o=e.modalVisible,i=this.props.loading;return d.a.createElement($,{loading:t||i,isPublic:n,modalRepositoryName:a,modalPassword:r,modalVisible:o,onSwitchChange:this.onSwitchChange,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),n}(l.PureComponent),Z=Object(N.f)(J),Y=n(1036);var Q=d.a.memo((function(e){var t=e.onButtonClick,n=e.modalRepositoryName,a=e.modalPassword,r=e.onModalRepositoryNameInputChange,o=e.onModalPasswordInputChange,i=e.onModalOk,c=e.onModalCancel,s=e.modalVisible,u=e.modalConfirmLoading;return d.a.createElement(d.a.Fragment,null,d.a.createElement(Y.a,{buttonText:"\u5220\u9664\u4ed3\u5e93",title:"\u5220\u9664\u4ed3\u5e93",description:"\u5220\u9664\u4ed3\u5e93\u7684\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u614e\u91cd\u3002",onButtonClick:t}),d.a.createElement(W.a,{warning:d.a.createElement("strong",null,"\u5982\u679c\u4ed3\u5e93\u88ab\u5220\u9664\uff0c\u60a8\u5c06\u4e22\u5931\u4ed3\u5e93\u7684\u6587\u4ef6\u3001\u63d0\u4ea4\u8bb0\u5f55\u7b49",d.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4fe1\u606f"),"\uff0c\u4e14\u5220\u9664\u6210\u529f\u540e\u6ca1\u6709\u6062\u590d\u7684\u53ef\u80fd\u3002\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u7684\u540d\u5b57",title:"\u5220\u9664\u4ed3\u5e93\u786e\u8ba4",validateText:n,password:a,onValidateInputChange:r,onPasswordInputChange:o,onOk:i,onCancel:c,visible:s,confirmLoading:u}))})),X=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onButtonClick=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({modalRepositoryName:"",modalPassword:"",modalVisible:!0});case 1:case"end":return e.stop()}}),e)}))),a.onModalRepositoryNameInputChange=function(e){a.setState({modalRepositoryName:e.target.value})},a.onModalPasswordInputChange=function(e){a.setState({modalPassword:e.target.value})},a.onModalOk=Object(o.a)(r.a.mark((function e(){var t,n,o,i,c,s,u,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.match.params,o=n.repository,i=n.username,c=t.history,s=a.state,u=s.modalRepositoryName,l=s.modalPassword,o===u){e.next=6;break}P.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=25;break;case 6:return d=q.a.calculateHash(i,l),a.setState({modalConfirmLoading:!0}),e.next=10,G.a.checkPassword({hash:d});case 10:if(null===(p=e.sent)){e.next=24;break}if(!p.isCorrect){e.next=23;break}return e.next=16,G.g.del({name:o});case 16:if(null===e.sent){e.next=21;break}return P.a.success({message:"\u4ed3\u5e93\u5220\u9664\u6210\u529f"}),a.setState({modalVisible:!1}),e.abrupt("return",c.replace(S.Function.generatePersonalCenterRoute({username:i})));case 21:e.next=24;break;case 23:P.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 24:a.setState({modalConfirmLoading:!1});case 25:case"end":return e.stop()}}),e)}))),a.onModalCancel=function(){a.setState({modalVisible:!1})},a.state={modalRepositoryName:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.modalConfirmLoading,n=e.modalVisible,a=e.modalPassword,r=e.modalRepositoryName;return d.a.createElement(Q,{onButtonClick:this.onButtonClick,modalConfirmLoading:t,modalVisible:n,modalPassword:a,modalRepositoryName:r,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),n}(l.PureComponent),ee=Object(N.f)(X),te=n(1035);var ne=d.a.memo((function(){return d.a.createElement(te.a,null,d.a.createElement(ee,null))}));var ae=d.a.memo((function(e){var t=e.repository,n=e.loading;return d.a.createElement("div",{className:m.a.Options},d.a.createElement(f.a,null,"\u9009\u9879"),d.a.createElement("div",{className:m.a.itemWrapper},d.a.createElement(M,null)),d.a.createElement("div",{className:m.a.itemWrapper},d.a.createElement(Z,{repository:t,loading:n})),d.a.createElement("div",{className:m.a.itemWrapper},d.a.createElement(V,{repository:t,loading:n})),d.a.createElement(f.a,null,d.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533a")),d.a.createElement(ne,null))})),re=n(90),oe=S.CONFIG.PAGE_ID,ie=S.CONFIG.PAGE_ID_TO_ROUTE,ce=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setStatePromise=Object(re.promisify)(a.setState),a.loadRepository=Object(o.a)(r.a.mark((function e(){var t,n,o,i,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.match.params,o=n.repository,i=n.username,c=t.history,e.next=3,x.a.repository({username:i},{name:o});case 3:if(null===(s=e.sent)){e.next=9;break}return e.next=7,a.setStatePromise({repository:s});case 7:e.next=10;break;case 9:return e.abrupt("return",c.replace(ie[oe.NOT_FOUND]));case 10:case"end":return e.stop()}}),e)}))),a.state={repository:new q.h("","","",!0),loading:!0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadRepository();case 4:return e.next=6,this.setStatePromise({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,n=e.loading;return d.a.createElement(ae,{repository:t,loading:n})}}]),n}(l.PureComponent),se=Object(N.f)(ce)},991:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return y}));var a={};n.r(a),n.d(a,"USERNAME",(function(){return N})),n.d(a,"PASSWORD",(function(){return S})),n.d(a,"VERIFICATION_CODE",(function(){return P}));var r={};n.r(r),n.d(r,"NAME",(function(){return x}));var o={};n.r(o),n.d(o,"NICKNAME",(function(){return _})),n.d(o,"EMAIL",(function(){return M}));var i={};n.r(i),n.d(i,"NAME",(function(){return R}));var c={};n.r(c),n.d(c,"CODE",(function(){return j}));var s={};n.r(s),n.d(s,"username",(function(){return I})),n.d(s,"password",(function(){return A})),n.d(s,"verificationCode",(function(){return D}));var u={};n.r(u),n.d(u,"name",(function(){return V}));var l={};n.r(l),n.d(l,"nickname",(function(){return T})),n.d(l,"email",(function(){return L}));var d={};n.r(d),n.d(d,"name",(function(){return F}));var p={};n.r(p),n.d(p,"code",(function(){return W}));var m={};n.r(m),n.d(m,"Account",(function(){return s})),n.d(m,"Group",(function(){return u})),n.d(m,"Profile",(function(){return l})),n.d(m,"Repository",(function(){return d})),n.d(m,"Collaborator",(function(){return p}));var f={};n.r(f),n.d(f,"USERNAME",(function(){return U})),n.d(f,"PASSWORD",(function(){return z}));var h={};n.r(h),n.d(h,"NAME",(function(){return H}));var b={};n.r(b),n.d(b,"NICKNAME",(function(){return K}));var v={};n.r(v),n.d(v,"NAME",(function(){return B}));var y={};n.r(y),n.d(y,"Account",(function(){return f})),n.d(y,"Group",(function(){return h})),n.d(y,"Profile",(function(){return b})),n.d(y,"Repository",(function(){return v}));var g={};n.r(g),n.d(g,"USERNAME",(function(){return $})),n.d(g,"PASSWORD",(function(){return G})),n.d(g,"VERIFICATION_CODE",(function(){return q}));var C={};n.r(C),n.d(C,"NAME",(function(){return J}));var k={};n.r(k),n.d(k,"NICKNAME",(function(){return Z})),n.d(k,"EMAIL",(function(){return Y}));var w={};n.r(w),n.d(w,"NAME",(function(){return Q}));var O={};n.r(O),n.d(O,"CODE",(function(){return X}));var E={};n.r(E),n.d(E,"Account",(function(){return g})),n.d(E,"Group",(function(){return C})),n.d(E,"Profile",(function(){return k})),n.d(E,"Repository",(function(){return w})),n.d(E,"Collaborator",(function(){return O}));var N=/^\w{1,20}$/,S=/^\S{6,}$/,P=/^\d{6}$/,x=/^\S{1,20}$/,_=/^\S{1,20}$/,M=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,R=/^\w{1,20}$/,j=/^\w+_\w+_\d+$/;function I(e){return a.USERNAME.test(e)}function A(e){return a.PASSWORD.test(e)}function D(e){return a.VERIFICATION_CODE.test(e)}function V(e){return r.NAME.test(e)}function T(e){return o.NICKNAME.test(e)}function L(e){return o.EMAIL.test(e)}function F(e){return i.NAME.test(e)}function W(e){return c.CODE.test(e)}var U="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",z="6 \u4f4d\u4ee5\u4e0a",H="1~20 \u4f4d",K="1~20 \u4f4d",B="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",$="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",G="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",q="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e",J="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Z="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Y="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Q="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",X="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"},992:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(994),i=n.n(o);t.a=r.a.memo((function(e){var t=e.children,n=e.required;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},n?" *":""))}))},994:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},995:function(e,t,n){"use strict";var a=n(992);n.d(t,"a",(function(){return a.a}))},996:function(e,t,n){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},997:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(996),i=n.n(o);var c=r.a.memo((function(e){var t=e.children;return r.a.createElement("h2",{className:i.a.SettingsTitle},t)}))}}]);
//# sourceMappingURL=11.bb39aefe.chunk.js.map