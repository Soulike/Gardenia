(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[17],{647:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(650),i=n.n(o);t.a=r.a.memo((function(e){const{children:t,required:n}=e;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},n?" *":""))}))},648:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"USERNAME",(function(){return b})),n.d(a,"PASSWORD",(function(){return V})),n.d(a,"VERIFICATION_CODE",(function(){return I}));var r={};n.r(r),n.d(r,"NAME",(function(){return O}));var o={};n.r(o),n.d(o,"NICKNAME",(function(){return P})),n.d(o,"EMAIL",(function(){return M}));var i={};n.r(i),n.d(i,"NAME",(function(){return T}));var c={};n.r(c),n.d(c,"CODE",(function(){return R}));var s={};n.r(s),n.d(s,"username",(function(){return y})),n.d(s,"password",(function(){return D})),n.d(s,"verificationCode",(function(){return B}));var u={};n.r(u),n.d(u,"name",(function(){return z}));var d={};n.r(d),n.d(d,"nickname",(function(){return x})),n.d(d,"email",(function(){return G}));var l={};n.r(l),n.d(l,"name",(function(){return k}));var f={};n.r(f),n.d(f,"code",(function(){return L}));var m={};n.r(m),n.d(m,"Account",(function(){return s})),n.d(m,"Group",(function(){return u})),n.d(m,"Profile",(function(){return d})),n.d(m,"Repository",(function(){return l})),n.d(m,"Collaborator",(function(){return f}));var p={};n.r(p),n.d(p,"USERNAME",(function(){return U})),n.d(p,"PASSWORD",(function(){return W}));var h={};n.r(h),n.d(h,"NAME",(function(){return H}));var g={};n.r(g),n.d(g,"NICKNAME",(function(){return q}));var v={};n.r(v),n.d(v,"NAME",(function(){return $}));var C={};n.r(C),n.d(C,"Account",(function(){return p})),n.d(C,"Group",(function(){return h})),n.d(C,"Profile",(function(){return g})),n.d(C,"Repository",(function(){return v}));var E={};n.r(E),n.d(E,"USERNAME",(function(){return F})),n.d(E,"PASSWORD",(function(){return K})),n.d(E,"VERIFICATION_CODE",(function(){return j}));var A={};n.r(A),n.d(A,"NAME",(function(){return Z}));var S={};n.r(S),n.d(S,"NICKNAME",(function(){return J})),n.d(S,"EMAIL",(function(){return Y}));var w={};n.r(w),n.d(w,"NAME",(function(){return Q}));var _={};n.r(_),n.d(_,"CODE",(function(){return X}));var N={};n.r(N),n.d(N,"Account",(function(){return E})),n.d(N,"Group",(function(){return A})),n.d(N,"Profile",(function(){return S})),n.d(N,"Repository",(function(){return w})),n.d(N,"Collaborator",(function(){return _}));const b=/^\w{1,20}$/,V=/^\S{6,}$/,I=/^\d{6}$/,O=/^\S{1,20}$/,P=/^\S{1,20}$/,M=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,T=/^\w{1,20}$/,R=/^\w+_\w+_\d+$/;function y(e){return a.USERNAME.test(e)}function D(e){return a.PASSWORD.test(e)}function B(e){return a.VERIFICATION_CODE.test(e)}function z(e){return r.NAME.test(e)}function x(e){return o.NICKNAME.test(e)}function G(e){return o.EMAIL.test(e)}function k(e){return i.NAME.test(e)}function L(e){return c.CODE.test(e)}const U="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",W="6 \u4f4d\u4ee5\u4e0a",H="1~20 \u4f4d",q="1~20 \u4f4d",$="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",F="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",K="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",j="\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e",Z="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",J="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",Y="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",Q="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",X="\u9080\u8bf7\u7801\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return N})),n.d(t,"c",(function(){return C}))},650:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},651:function(e,t,n){"use strict";var a=n(647);n.d(t,"a",(function(){return a.a}))},654:function(e,t,n){e.exports={InputTip:"Style_InputTip__KsPY_"}},656:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(654),i=n.n(o);var c=r.a.memo((function(e){const{children:t}=e;return r.a.createElement("div",{className:i.a.InputTip},t)}));n.d(t,"a",(function(){return c}))},664:function(e,t,n){e.exports=n.p+"static/media/developing_code.240e8e0f.svg"},680:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o={name:"lock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},i=n(6),c=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};c.displayName="LockOutlined";t.a=r.a.forwardRef(c)},709:function(e,t,n){e.exports={ChangePassword:"Style_ChangePassword__3LmM_",loginTip:"Style_loginTip__2SPZg",form:"Style_form__2Tl8h",inputWrapper:"Style_inputWrapper__3YQNB",logo:"Style_logo__2tCeZ",button:"Style_button__3SEXr"}},781:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o={name:"barcode",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 160H72c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm833 0h-48c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zM200 736h112c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm321 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm126 0h178c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H647c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-255 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-79 64H201c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm257 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm256 0H648c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h178c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-385 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]}},i=n(6),c=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};c.displayName="BarcodeOutlined";t.a=r.a.forwardRef(c)},805:function(e,t,n){"use strict";n.r(t);n(52);var a=n(22),r=n(0),o=n.n(r),i=(n(51),n(14)),c=(n(323),n(209)),s=n(709),u=n.n(s),d=n(664),l=n.n(d),f=n(7),m=n(651),p=n(20),h=n(628),g=n(680),v=n(781),C=n(656),E=n(648);const{PAGE_ID:A,PAGE_ID_TO_ROUTE:S}=p.CONFIG;var w=o.a.memo((function(e){const{username:t,password:n,repeatPassword:a,verificationCode:r,getVerificationCodeButtonText:s,onPasswordChange:d,onUsernameChange:p,onRepeatPasswordChange:w,onVerificationCodeChange:_,onSubmit:N,onGetVerificationCodeButtonClick:b,getVerificationCodeButtonDisabled:V,loading:I}=e;return o.a.createElement("main",{className:u.a.ChangePassword},o.a.createElement("form",{action:"#",className:u.a.form,onSubmit:N},o.a.createElement("img",{className:u.a.logo,src:l.a,alt:"web_developer_logo"}),o.a.createElement("div",{className:u.a.loginTip},"\u4e0d\u9700\u8981\u4fee\u6539\u5bc6\u7801\uff1f",o.a.createElement(f.b,{to:S[A.LOGIN]},"\u70b9\u6b64\u767b\u5f55")),o.a.createElement("div",{className:u.a.inputWrapper},o.a.createElement(m.a,{required:!0},"\u7528\u6237\u540d"),o.a.createElement(c.a,{type:"text",size:"large",autoFocus:!0,value:t,onChange:p,prefix:o.a.createElement(h.a,null),disabled:I})),o.a.createElement("div",{className:u.a.inputWrapper},o.a.createElement(m.a,{required:!0},"\u65b0\u5bc6\u7801"),o.a.createElement(c.a,{type:"password",size:"large",value:n,onChange:d,prefix:o.a.createElement(g.a,null),disabled:I}),o.a.createElement(C.a,null,"\u4e3a\u4e86\u60a8\u7684\u8d26\u6237\u5b89\u5168\uff0c\u5bc6\u7801\u8981\u6c42 ",E.c.Account.PASSWORD)),o.a.createElement("div",{className:u.a.inputWrapper},o.a.createElement(m.a,{required:!0},"\u91cd\u590d\u65b0\u5bc6\u7801"),o.a.createElement(c.a,{type:"password",size:"large",value:a,onChange:w,prefix:o.a.createElement(g.a,null),disabled:I})),o.a.createElement("div",{className:u.a.inputWrapper},o.a.createElement(m.a,{required:!0},"\u90ae\u7bb1\u9a8c\u8bc1\u7801"),o.a.createElement(c.a,{type:"text",size:"large",value:r,onChange:_,prefix:o.a.createElement(v.a,null),disabled:I,addonAfter:o.a.createElement(i.a,{type:"link",onClick:b,disabled:V||I},s)})),o.a.createElement(i.a,{htmlType:"submit",className:u.a.button,size:"large",type:"primary",block:!0,disabled:I,loading:I},"\u4fee\u6539\u5bc6\u7801")))})),_=n(134),N=n(23),b=n(65),V=n(294),I=n(24),O=n(76);const{PAGE_ID:P,PAGE_ID_TO_ROUTE:M}=p.CONFIG;class T extends r.PureComponent{constructor(e){super(e),this.setTitle=()=>{document.title="\u4fee\u6539\u5bc6\u7801 - ".concat(_.a.NAME)},this.onUsernameChange=e=>{this.setState({username:e.target.value})},this.onPasswordChange=e=>{this.setState({password:e.target.value})},this.onRepeatPasswordChange=e=>{this.setState({repeatPassword:e.target.value})},this.onVerificationCodeChange=e=>{this.setState({verificationCode:e.target.value})},this.onGetVerificationCodeButtonClick=async()=>{let e=0;const{getVerificationCodeButtonText:t}=this.state,{username:n}=this.state;if(E.b.Account.username(n)){this.setState({getVerificationCodeButtonDisabled:!0});const r=setInterval(()=>{e++,this.setState({getVerificationCodeButtonText:"".concat(30-e," \u79d2\u540e\u518d\u6b21\u83b7\u53d6")})},1e3),o=setTimeout(()=>{clearInterval(r),this.setState({getVerificationCodeButtonDisabled:!1,getVerificationCodeButtonText:t})},3e4);null!==await N.a.sendVerificationCodeByUsername({username:n})?a.a.success({message:"\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f",description:"\u8bf7\u5230\u7528\u6237\u540d ".concat(n," \u4f7f\u7528\u7684\u90ae\u7bb1\u4e2d\u67e5\u770b")}):(clearInterval(r),clearTimeout(o),this.setState({getVerificationCodeButtonDisabled:!1,getVerificationCodeButtonText:t}))}else a.a.warn({message:E.a.Account.USERNAME})},this.onSubmit=async e=>{e.preventDefault();const{username:t,password:n,repeatPassword:r,verificationCode:o}=this.state;if(E.b.Account.username(t))if(E.b.Account.password(n))if(n!==r)a.a.warn({message:"\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"});else if(E.b.Account.verificationCode(o)){this.setState({loading:!0});const e=b.a.calculateHash(t,n);if(null!==await N.a.changePassword({username:t,hash:e},o)){a.a.success({message:"\u4fee\u6539\u5bc6\u7801\u6210\u529f",description:"\u8bf7\u4f7f\u7528\u65b0\u5bc6\u7801\u767b\u5f55"});const{setLoggedOut:e,history:t}=this.props;await e(),t.push(M[P.LOGIN])}this.setState({loading:!1})}else a.a.warn({message:E.a.Account.VERIFICATION_CODE});else a.a.warn({message:E.a.Account.PASSWORD});else a.a.warn({message:E.a.Account.USERNAME})},this.state={username:"",password:"",repeatPassword:"",verificationCode:"",getVerificationCodeButtonText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",getVerificationCodeButtonDisabled:!1,loading:!1}}componentDidMount(){this.setTitle()}render(){const{username:e,password:t,repeatPassword:n,verificationCode:a,getVerificationCodeButtonText:r,loading:i,getVerificationCodeButtonDisabled:c}=this.state;return o.a.createElement(w,{username:e,password:t,repeatPassword:n,verificationCode:a,onUsernameChange:this.onUsernameChange,onPasswordChange:this.onPasswordChange,onRepeatPasswordChange:this.onRepeatPasswordChange,onVerificationCodeChange:this.onVerificationCodeChange,onSubmit:this.onSubmit,getVerificationCodeButtonText:r,onGetVerificationCodeButtonClick:this.onGetVerificationCodeButtonClick,loading:i,getVerificationCodeButtonDisabled:c})}}const R={setLoggedOut:V.Action.setLoggedOutAction};var y=Object(I.b)(null,R)(Object(O.f)(T));n.d(t,"default",(function(){return y}))}}]);
//# sourceMappingURL=17.3cb29a33.chunk.js.map