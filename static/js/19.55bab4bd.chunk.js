(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[19],{1001:function(d,u,e){"use strict";e.d(u,"a",function(){return c});var s=e(0),t=e.n(s),f=e(998),n=e.n(f);function l(B){const{children:i}=B;return t.a.createElement("div",{className:n.a.InputTip},i)}var c=t.a.memo(l)},1010:function(d,u,e){"use strict";u.a=e.p+"static/media/developing_code.ac8fbd80.svg"},1032:function(d,u,e){"use strict";var s=e(3),t=e(0),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},n=f,l=e(9),c=function(p,E){return t.createElement(l.a,Object(s.a)(Object(s.a)({},p),{},{ref:E,icon:n}))};c.displayName="LockOutlined";var B=u.a=t.forwardRef(c)},1033:function(d,u,e){"use strict";var s=e(3),t=e(0),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 160H72c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm833 0h-48c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zM200 736h112c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm321 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm126 0h178c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H647c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-255 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-79 64H201c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm257 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm256 0H648c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h178c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-385 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"barcode",theme:"outlined"},n=f,l=e(9),c=function(p,E){return t.createElement(l.a,Object(s.a)(Object(s.a)({},p),{},{ref:E,icon:n}))};c.displayName="BarcodeOutlined";var B=u.a=t.forwardRef(c)},1057:function(d,u,e){d.exports={Register:"Style_Register__3noZm",form:"Style_form__3_TRs",inputWrapper:"Style_inputWrapper__lS-dq",logo:"Style_logo__3JrE_",button:"Style_button__1EHxx"}},1384:function(d,u,e){"use strict";var s=e(3),t=e(0),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},n=f,l=e(9),c=function(p,E){return t.createElement(l.a,Object(s.a)(Object(s.a)({},p),{},{ref:E,icon:n}))};c.displayName="MailOutlined";var B=u.a=t.forwardRef(c)},1417:function(d,u,e){"use strict";e.r(u);var s=e(0),t=e.n(s),f=e(1057),n=e.n(f),l=e(962),c=e(103),B=e(1010),i=e(151),p=e(1001),E=e(993),R=e(979),M=e(1032),x=e(1384),L=e(1033);function T(V){const{username:I,password:a,repeatPassword:o,email:r,onUsernameInputChange:m,onUsernameInputBlur:v,onPasswordInputChange:g,onRepeatPasswordInputChange:h,onEmailInputChange:A,onFormSubmit:G,onVerificationCodeInputChange:j,verificationCode:H,onGetVerificationCodeButtonClick:K,getVerificationCodeButtonText:J,disableGetVerificationCodeButton:$,loading:S}=V;return t.a.createElement("main",{className:n.a.Register},t.a.createElement("form",{action:"#",className:n.a.form,onSubmit:G},t.a.createElement("img",{className:n.a.logo,src:B.a,alt:"web_developer_logo"}),t.a.createElement("div",{className:n.a.inputWrapper},t.a.createElement(E.a,{required:!0},"\u7528\u6237\u540D"),t.a.createElement(l.a,{type:"text",size:"large",onChange:m,onBlur:v,autoFocus:!0,value:I,prefix:t.a.createElement(R.a,null),disabled:S}),t.a.createElement(p.a,null,"\u7528\u6237\u540D\u8981\u6C42 ",i.c.Account.USERNAME,"\u3002")),t.a.createElement("div",{className:n.a.inputWrapper},t.a.createElement(E.a,{required:!0},"\u5BC6\u7801"),t.a.createElement(l.a,{type:"password",size:"large",onChange:g,value:a,prefix:t.a.createElement(M.a,null),disabled:S}),t.a.createElement(p.a,null,"\u4E3A\u4E86\u60A8\u7684\u8D26\u6237\u5B89\u5168\uFF0C\u5BC6\u7801\u8981\u6C42 ",i.c.Account.PASSWORD,"\u3002")),t.a.createElement("div",{className:n.a.inputWrapper},t.a.createElement(E.a,{required:!0},"\u91CD\u590D\u5BC6\u7801"),t.a.createElement(l.a,{type:"password",size:"large",onChange:h,value:o,prefix:t.a.createElement(M.a,null),disabled:S})),t.a.createElement("div",{className:n.a.inputWrapper},t.a.createElement(E.a,{required:!0},"E-Mail"),t.a.createElement(l.a,{type:"email",size:"large",onChange:A,value:r,prefix:t.a.createElement(x.a,null),disabled:S}),t.a.createElement(p.a,null,"\u8BE5\u90AE\u7BB1\u5C06\u7528\u4E8E\u7EDF\u8BA1\u60A8\u7684\u63D0\u4EA4\u6B21\u6570\u3001\u63A5\u6536\u901A\u77E5\u53CA\u4FEE\u6539\u5BC6\u7801\uFF0C\u8BF7\u786E\u4FDD\u8BE5\u90AE\u7BB1\u53EF\u7528\u3002")),t.a.createElement("div",{className:n.a.inputWrapper},t.a.createElement(E.a,{required:!0},"\u90AE\u7BB1\u9A8C\u8BC1\u7801"),t.a.createElement(l.a,{type:"text",size:"large",onChange:j,value:H,prefix:t.a.createElement(L.a,null),disabled:S,maxLength:6,addonAfter:t.a.createElement(c.a,{disabled:$||S,type:"link",onClick:K},J)}),t.a.createElement(p.a,null,"\u5982\u672A\u6536\u5230\u9A8C\u8BC1\u7801\u90AE\u4EF6\uFF0C\u8BF7\u67E5\u770B\u5176\u662F\u5426\u88AB\u8BEF\u5206\u7C7B\u4E3A\u5783\u573E\u90AE\u4EF6\u3002")),t.a.createElement(c.a,{htmlType:"submit",className:n.a.button,size:"large",type:"primary",disabled:S,loading:S,block:!0},"\u6CE8\u518C")))}var N=t.a.memo(T),y=e(1),b=e(47),P=e(27),C=e(349),z=e(134),U=e(98),O=(V,I,a)=>new Promise((o,r)=>{var m=h=>{try{g(a.next(h))}catch(A){r(A)}},v=h=>{try{g(a.throw(h))}catch(A){r(A)}},g=h=>h.done?o(h.value):Promise.resolve(h.value).then(m,v);g((a=a.apply(V,I)).next())});const{Account:D,Profile:F}=i.b;class W extends s.PureComponent{constructor(I){super(I);this.setStatePromise=Object(U.promisify)(this.setState),this.setTitle=()=>{document.title=`\u6CE8\u518C - ${y.a}`},this.onUsernameInputChange=a=>{this.setState({username:a.target.value})},this.onUsernameInputBlur=()=>O(this,null,function*(){const{username:a}=this.state;if(a!=="")if(!i.b.Account.username(a))C.a.warn({message:i.a.Account.USERNAME,description:i.c.Account.USERNAME});else{yield this.setStatePromise({loading:!0});const o=yield P.a.checkIfUsernameAvailable(a);if(o!==null){const{isAvailable:r}=o;r||C.a.warn({message:`\u7528\u6237\u540D ${a} \u5DF2\u5B58\u5728`})}yield this.setStatePromise({loading:!1})}}),this.onPasswordInputChange=a=>{this.setState({password:a.target.value})},this.onRepeatPasswordInputChange=a=>{this.setState({repeatPassword:a.target.value})},this.onEmailInputChange=a=>{this.setState({email:a.target.value})},this.onVerificationCodeInputChange=a=>{this.setState({verificationCode:a.target.value})},this.onFormSubmit=a=>O(this,null,function*(){a.preventDefault(),this.validateFormInput()&&(yield this.submitForm())}),this.onGetVerificationCodeButtonClick=()=>O(this,null,function*(){const a=30,{getVerificationCodeButtonText:o,email:r}=this.state;if(!F.email(r))C.a.warn({message:i.a.Profile.EMAIL});else{this.setState({disableGetVerificationCodeButton:!0});let m=0;const v=setInterval(()=>{m++,this.setState({getVerificationCodeButtonText:`${a-m} \u79D2\u540E\u518D\u83B7\u53D6`})},1e3),g=setTimeout(()=>{clearInterval(v),this.setState({disableGetVerificationCodeButton:!1,getVerificationCodeButtonText:o})},a*1e3);(yield P.a.sendVerificationCodeToEmail({email:r}))!==null?C.a.success({message:"\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F",description:`\u8BF7\u5230 ${r} \u67E5\u770B`}):(clearInterval(v),clearTimeout(g),this.setState({disableGetVerificationCodeButton:!1,getVerificationCodeButtonText:o}))}}),this.validateFormInput=()=>{const{username:a,password:o,repeatPassword:r,email:m,verificationCode:v}=this.state;return D.username(a)?D.password(o)?o!==r?(C.a.warn({message:"\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u76F8\u540C"}),!1):F.email(m)?D.verificationCode(v)?!0:(C.a.warn({message:i.a.Account.VERIFICATION_CODE}),!1):(C.a.warn({message:i.a.Profile.EMAIL}),!1):(C.a.warn({message:i.a.Account.PASSWORD,description:i.c.Account.PASSWORD}),!1):(C.a.warn({message:i.a.Account.USERNAME,description:i.c.Account.USERNAME}),!1)},this.submitForm=()=>O(this,null,function*(){const{username:a,password:o,email:r,verificationCode:m}=this.state,v=z.a.calculateHash(a,o);this.setState({loading:!0}),(yield P.a.register({username:a,hash:v},{nickname:a,email:r,avatar:""},m))&&this.onRegisterSuccess(),this.setState({loading:!1})}),this.onRegisterSuccess=()=>(C.a.success({message:"\u6CE8\u518C\u6210\u529F"}),this.props.history.push(y.d[y.b.LOGIN])),this.state={username:"",password:"",repeatPassword:"",email:"",verificationCode:"",getVerificationCodeButtonText:"\u83B7\u53D6\u9A8C\u8BC1\u7801",disableGetVerificationCodeButton:!1,loading:!1}}componentDidMount(){this.setTitle()}render(){const{loading:I,disableGetVerificationCodeButton:a,username:o,password:r,repeatPassword:m,email:v,verificationCode:g,getVerificationCodeButtonText:h}=this.state;return t.a.createElement(N,{loading:I,username:o,password:r,email:v,disableGetVerificationCodeButton:a,verificationCode:g,onVerificationCodeInputChange:this.onVerificationCodeInputChange,onFormSubmit:this.onFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange,onUsernameInputBlur:this.onUsernameInputBlur,onEmailInputChange:this.onEmailInputChange,onRepeatPasswordInputChange:this.onRepeatPasswordInputChange,repeatPassword:m,onGetVerificationCodeButtonClick:this.onGetVerificationCodeButtonClick,getVerificationCodeButtonText:h})}}var w=Object(b.j)(W),Y=u.default=w},991:function(d,u,e){"use strict";var s=e(0),t=e.n(s),f=e(992),n=e.n(f);function l(c){const{children:B,required:i}=c;return t.a.createElement("div",{className:n.a.InputLabel},B,t.a.createElement("span",{className:n.a.requiredSign},i?" *":""))}u.a=t.a.memo(l)},992:function(d,u,e){d.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},993:function(d,u,e){"use strict";var s=e(991);e.d(u,"a",function(){return s.a})},998:function(d,u,e){d.exports={InputTip:"Style_InputTip__KsPY_"}}}]);

//# sourceMappingURL=19.55bab4bd.chunk.js.map