(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[41],{1215:function(e,t,n){"use strict";var a=n(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},s=n(18),i=function(e,t){return a.createElement(s.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="HomeOutlined";t.a=a.forwardRef(i)},1296:function(e,t,n){e.exports={Settings:"Style_Settings__1_D_n",menuWrapper:"Style_menuWrapper__3Nc6L",contentWrapper:"Style_contentWrapper__15Ahb"}},1393:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var a=n(218),r=n(1),s=n.n(r),i=n(3),c=n(11),u=n(12),o=n(21),m=n(20),p=n(0),l=n.n(p),h=n(1296),d=n.n(h),f=n(1124),v=n(1129),b=n(19);var I=l.a.memo((function(e){var t=e.children,n=e.menuItems,a=e.activeItemKey,r=e.loading;return l.a.createElement(f.a,{spinning:r},l.a.createElement("div",{className:d.a.Settings},l.a.createElement("div",{className:d.a.menuWrapper},l.a.createElement(v.a,{className:d.a.menu,selectedKeys:[a],mode:"inline"},n.map((function(e){var t=e.key,n=e.to,a=e.title,r=e.icon;return l.a.createElement(v.a.Item,{key:t,className:d.a.item},l.a.createElement(b.b,{to:n},r,a))})))),l.a.createElement("div",{className:d.a.contentWrapper},t)))})),O=n(25),k=n(1143),S=n(1215),x=n(71),y=n(40),E=O.CONFIG.PAGE_ID,g=O.CONFIG.PAGE_ID_TO_ROUTE,P=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).setStatePromise=Object(x.promisify)(r.setState),r.initMenuItems=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.id,e.next=3,r.setStatePromise({menuItems:[{icon:l.a.createElement(k.a,null),title:"\u8bbe\u7f6e",key:E.GROUP.SETTINGS.OPTIONS,to:O.Function.generateGroupSettingsRoute({id:t})},{icon:l.a.createElement(S.a,null),title:"\u4ed3\u5e93\u7ba1\u7406",key:E.GROUP.SETTINGS.REPOSITORIES,to:O.Function.generateGroupSettingsRepositoriesRoute({id:t})}]});case 3:case"end":return e.stop()}}),e)}))),r.isAdmin=Object(i.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.id,e.next=3,y.d.isAdmin({id:Number.parseInt(t)});case 3:if(null===(n=e.sent)){e.next=9;break}return a=n.isAdmin,e.abrupt("return",a);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),r.setActiveMenuItemKey=Object(i.a)(s.a.mark((function e(){var t,n,i,c,u,o,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.location.pathname,n=r.state.menuItems,i=Object(a.a)(n),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=13;break}if(u=c.value,o=u.to,m=u.key,o!==t){e.next=11;break}return e.next=10,r.setStatePromise({activeItemKey:m});case 10:return e.abrupt("break",13);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))),r.state={menuItems:[],activeItemKey:E.REPOSITORY.SETTINGS.OPTIONS,loading:!1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.isAdmin();case 4:return t=e.sent,e.next=7,this.setStatePromise({loading:!1});case 7:if(!t){e.next=12;break}return e.next=10,Promise.all([this.initMenuItems(),this.setActiveMenuItemKey()]);case 10:e.next=14;break;case 12:return n=this.props.history,e.abrupt("return",n.replace(g[E.GROUP.REPOSITORIES]));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(s.a.mark((function e(t,n,a){var r,i,c,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.match,i=r.path,c=r.params.id,u=this.props.match,o=u.path,u.params.id===c){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=10;break;case 7:if(i===o){e.next=10;break}return e.next=10,this.setActiveMenuItemKey();case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.activeItemKey,a=t.menuItems,r=t.loading;return l.a.createElement(I,{loading:r,menuItems:a,activeItemKey:n},e)}}]),n}(p.PureComponent)}}]);
//# sourceMappingURL=41.f95c0308.chunk.js.map