"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[3589],{3589:function(ne,F,t){t.r(F),t.d(F,{default:function(){return q}});var a=t(89526),u={Code:"Style_Code__nNuin",description:"Style_description__3UufL",buttonWrapper:"Style_buttonWrapper__qzbKi",leftButtonWrapper:"Style_leftButtonWrapper__s+cEz",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__dEEy4"},k=t(76320),r=t(97025),G=t(30592),E=t(565),K=t(18440);const $=a.lazy(()=>t.e(4215).then(t.bind(t,24215))),J=a.lazy(()=>Promise.all([t.e(1670),t.e(9207),t.e(5677)]).then(t.bind(t,95677))),Q=a.lazy(()=>t.e(3285).then(t.bind(t,23285))),X=a.lazy(()=>t.e(9176).then(t.bind(t,89176))),R=a.lazy(()=>Promise.all([t.e(1670),t.e(9207),t.e(1236),t.e(9681)]).then(t.bind(t,42419))),Y=a.lazy(()=>t.e(9309).then(t.bind(t,99309)));function W(T){const{repository:{username:p,name:s,description:v},branches:i,tagNames:d,commitCount:f,objectType:P,loading:y}=T;let n="";for(const{isDefault:e,name:o}of i)e&&(n=o);return a.createElement("div",{className:u.Code},a.createElement(r.Z,{active:!0,loading:y},a.createElement("div",{className:u.description},v),a.createElement(Y,{commitCount:f,branches:i}),f===0?a.createElement(X,null):a.createElement(a.Fragment,null,a.createElement("div",{className:u.buttonWrapper},a.createElement("div",{className:u.leftButtonWrapper},a.createElement($,{branches:i,tagNames:d}),a.createElement("div",{className:u.newPullRequestButtonWrapper},a.createElement(E.rU,{to:K.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:p,sourceRepositoryName:s,sourceRepositoryBranch:n,targetRepositoryBranch:n,repositoryName:s,username:p})},a.createElement(G.Z,null,"\u521B\u5EFA Pull Request")))),a.createElement(Q,{username:p,repository:s})),P===void 0||P===k.LP.TREE?a.createElement(J,null):a.createElement(R,null))))}var D=a.memo(W),M=t(60269),w=t(65092),I=t(19237),U=t(36393),z=(T,p,s)=>new Promise((v,i)=>{var d=y=>{try{P(s.next(y))}catch(n){i(n)}},f=y=>{try{P(s.throw(y))}catch(n){i(n)}},P=y=>y.done?v(y.value):Promise.resolve(y.value).then(d,f);P((s=s.apply(T,p)).next())});class b extends a.PureComponent{constructor(p){super(p);this.setStatePromise=s=>new Promise(v=>{this.setState(s,()=>{v()})}),this.loadRepository=()=>z(this,null,function*(){const{match:{params:{username:s,repositoryName:v}},history:i}=this.props,d=yield I.C.repository({username:s},{name:v});if(d!==null)yield this.setStatePromise({repository:d});else return i.replace(U.yt[U.DV.NOT_FOUND])}),this.loadCommitCount=()=>z(this,null,function*(){const{match:{params:{username:s,repositoryName:v,commitHash:i}}}=this.props,{branches:d}=this.state;let f="";if(!i)for(const{isDefault:y,name:n}of d)y&&(f=n);const P=yield I.C.commitCount({username:s},{name:v},i||f);if(P!==null){const{commitCount:y}=P;yield this.setStatePromise({commitCount:y})}}),this.loadBranches=()=>z(this,null,function*(){const{match:{params:{username:s,repositoryName:v}}}=this.props,i=yield I.C.branches({username:s,name:v});if(i!==null){const{branches:d}=i;yield this.setStatePromise({branches:d})}}),this.loadTagNames=()=>z(this,null,function*(){const{match:{params:{username:s,repositoryName:v}}}=this.props,i=yield I.C.tagNames({username:s,name:v});if(i!==null){const{tagNames:d}=i;yield this.setStatePromise({tagNames:d})}}),this.state={repository:new M._j("","","",!0),branches:[],tagNames:[],commitCount:0,loading:!0}}componentDidMount(){return z(this,null,function*(){yield this.setStatePromise({loading:!0}),yield this.loadBranches(),yield Promise.all([this.loadRepository(),this.loadTagNames(),this.loadCommitCount()]),yield this.setStatePromise({loading:!1})})}componentDidUpdate(p,s,v){return z(this,null,function*(){const{match:{params:{username:i,repositoryName:d,commitHash:f}}}=p,{match:{params:{username:P,repositoryName:y,commitHash:n}}}=this.props;i!==P||d!==y?yield this.componentDidMount():f!==n&&(yield this.setStatePromise({loading:!0}),yield this.loadCommitCount(),yield this.setStatePromise({loading:!1}))})}render(){const{repository:p,branches:s,commitCount:v,loading:i,tagNames:d}=this.state,{match:{params:{objectType:f}}}=this.props;return a.createElement(D,{repository:p,commitCount:v,branches:s,tagNames:d,objectType:f,loading:i})}}var q=(0,w.EN)(b)},97025:function(ne,F,t){t.d(F,{Z:function(){return y}});var a=t(4942),u=t(87462),k=t(71002),r=t(89526),G=t(64403),E=t.n(G),K=function(e){var o=e.prefixCls,N=e.className,c=e.width,h=e.style;return r.createElement("h3",{className:E()(o,N),style:(0,u.Z)({width:c},h)})},$=K,J=t(93433),Q=function(e){var o=function(l){var C=e.width,S=e.rows,Z=S===void 0?2:S;if(Array.isArray(C))return C[l];if(Z-1===l)return C},N=e.prefixCls,c=e.className,h=e.style,x=e.rows,m=(0,J.Z)(Array(x)).map(function(g,l){return r.createElement("li",{key:l,style:{width:o(l)}})});return r.createElement("ul",{className:E()(N,c),style:h},m)},X=Q,R=t(62432),Y=function(e){var o,N,c=e.prefixCls,h=e.className,x=e.style,m=e.size,g=e.shape,l=E()((o={},(0,a.Z)(o,"".concat(c,"-lg"),m==="large"),(0,a.Z)(o,"".concat(c,"-sm"),m==="small"),o)),C=E()((N={},(0,a.Z)(N,"".concat(c,"-circle"),g==="circle"),(0,a.Z)(N,"".concat(c,"-square"),g==="square"),(0,a.Z)(N,"".concat(c,"-round"),g==="round"),N)),S=typeof m=="number"?{width:m,height:m,lineHeight:"".concat(m,"px")}:{};return r.createElement("span",{className:E()(c,l,C,h),style:(0,u.Z)((0,u.Z)({},S),x)})},W=Y,D=t(78326),M=function(e){var o=function(c){var h=c.getPrefixCls,x=e.prefixCls,m=e.className,g=e.active,l=h("skeleton",x),C=(0,D.Z)(e,["prefixCls","className"]),S=E()(l,"".concat(l,"-element"),(0,a.Z)({},"".concat(l,"-active"),g),m);return r.createElement("div",{className:S},r.createElement(W,(0,u.Z)({prefixCls:"".concat(l,"-avatar")},C)))};return r.createElement(R.C,null,o)};M.defaultProps={size:"default",shape:"circle"};var w=M,I=function(e){var o=function(c){var h,x=c.getPrefixCls,m=e.prefixCls,g=e.className,l=e.active,C=e.block,S=C===void 0?!1:C,Z=x("skeleton",m),O=(0,D.Z)(e,["prefixCls"]),j=E()(Z,"".concat(Z,"-element"),(h={},(0,a.Z)(h,"".concat(Z,"-active"),l),(0,a.Z)(h,"".concat(Z,"-block"),S),h),g);return r.createElement("div",{className:j},r.createElement(W,(0,u.Z)({prefixCls:"".concat(Z,"-button")},O)))};return r.createElement(R.C,null,o)};I.defaultProps={size:"default"};var U=I,z=function(e){var o=function(c){var h=c.getPrefixCls,x=e.prefixCls,m=e.className,g=e.active,l=h("skeleton",x),C=(0,D.Z)(e,["prefixCls"]),S=E()(l,"".concat(l,"-element"),(0,a.Z)({},"".concat(l,"-active"),g),m);return r.createElement("div",{className:S},r.createElement(W,(0,u.Z)({prefixCls:"".concat(l,"-input")},C)))};return r.createElement(R.C,null,o)};z.defaultProps={size:"default"};var b=z,q="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",T=function(e){var o=function(c){var h=c.getPrefixCls,x=e.prefixCls,m=e.className,g=e.style,l=h("skeleton",x),C=E()(l,"".concat(l,"-element"),m);return r.createElement("div",{className:C},r.createElement("div",{className:E()("".concat(l,"-image"),m),style:g},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(l,"-image-svg")},r.createElement("path",{d:q,className:"".concat(l,"-image-path")}))))};return r.createElement(R.C,null,o)},p=T;function s(n){return n&&(0,k.Z)(n)==="object"?n:{}}function v(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function i(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function d(n,e){var o={};return(!n||!e)&&(o.width="61%"),!n&&e?o.rows=3:o.rows=2,o}var f=function(e){var o=function(c){var h=c.getPrefixCls,x=c.direction,m=e.prefixCls,g=e.loading,l=e.className,C=e.style,S=e.children,Z=e.avatar,O=e.title,j=e.paragraph,re=e.active,le=e.round,B=h("skeleton",m);if(g||!("loading"in e)){var A,H=!!Z,L=!!O,V=!!j,_;if(H){var se=(0,u.Z)((0,u.Z)({prefixCls:"".concat(B,"-avatar")},v(L,V)),s(Z));_=r.createElement("div",{className:"".concat(B,"-header")},r.createElement(W,se))}var ee;if(L||V){var te;if(L){var oe=(0,u.Z)((0,u.Z)({prefixCls:"".concat(B,"-title")},i(H,V)),s(O));te=r.createElement($,oe)}var ae;if(V){var ie=(0,u.Z)((0,u.Z)({prefixCls:"".concat(B,"-paragraph")},d(H,L)),s(j));ae=r.createElement(X,ie)}ee=r.createElement("div",{className:"".concat(B,"-content")},te,ae)}var ce=E()(B,(A={},(0,a.Z)(A,"".concat(B,"-with-avatar"),H),(0,a.Z)(A,"".concat(B,"-active"),re),(0,a.Z)(A,"".concat(B,"-rtl"),x==="rtl"),(0,a.Z)(A,"".concat(B,"-round"),le),A),l);return r.createElement("div",{className:ce,style:C},_,ee)}return S};return r.createElement(R.C,null,o)};f.defaultProps={avatar:!1,title:!0,paragraph:!0},f.Button=U,f.Avatar=w,f.Input=b,f.Image=p;var P=f,y=P}}]);

//# sourceMappingURL=3589.aeadc7a8.chunk.js.map