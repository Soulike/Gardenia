"use strict";(self.webpackChunksoulike_git=self.webpackChunksoulike_git||[]).push([[3589],{3589:function(ne,M,t){t.r(M),t.d(M,{default:function(){return q}});var a=t(89526),v={Code:"Style_Code__nNuin",description:"Style_description__3UufL",buttonWrapper:"Style_buttonWrapper__qzbKi",leftButtonWrapper:"Style_leftButtonWrapper__s+cEz",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__dEEy4"},V=t(76320),r=t(97025),G=t(30592),P=t(565),K=t(18440);const $=a.lazy(()=>t.e(4215).then(t.bind(t,24215))),J=a.lazy(()=>Promise.all([t.e(1670),t.e(9207),t.e(5677)]).then(t.bind(t,95677))),Q=a.lazy(()=>t.e(3285).then(t.bind(t,23285))),X=a.lazy(()=>t.e(9176).then(t.bind(t,89176))),R=a.lazy(()=>Promise.all([t.e(1670),t.e(9207),t.e(2618),t.e(9681)]).then(t.bind(t,42419))),Y=a.lazy(()=>t.e(9309).then(t.bind(t,99309)));function W(T){const{repository:{username:p,name:l,description:d},branches:o,tagNames:f,commitCount:h,objectType:x,loading:y}=T;let n="";for(const{isDefault:e,name:s}of o)e&&(n=s);return a.createElement("div",{className:v.Code},a.createElement(r.Z,{active:!0,loading:y},a.createElement("div",{className:v.description},d),a.createElement(Y,{commitCount:h,branches:o}),h===0?a.createElement(X,null):a.createElement(a.Fragment,null,a.createElement("div",{className:v.buttonWrapper},a.createElement("div",{className:v.leftButtonWrapper},a.createElement($,{branches:o,tagNames:f}),a.createElement("div",{className:v.newPullRequestButtonWrapper},a.createElement(P.rU,{to:K.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:p,sourceRepositoryName:l,sourceRepositoryBranch:n,targetRepositoryBranch:n,repositoryName:l,username:p})},a.createElement(G.Z,null,"\u521B\u5EFA Pull Request")))),a.createElement(Q,{username:p,repository:l})),x===void 0||x===V.LP.TREE?a.createElement(J,null):a.createElement(R,null))))}var F=a.memo(W),U=t(60269),w=t(65092),I=t(19237),O=t(36393),z=(T,p,l)=>new Promise((d,o)=>{var f=y=>{try{x(l.next(y))}catch(n){o(n)}},h=y=>{try{x(l.throw(y))}catch(n){o(n)}},x=y=>y.done?d(y.value):Promise.resolve(y.value).then(f,h);x((l=l.apply(T,p)).next())});class b extends a.PureComponent{constructor(p){super(p);this.setStatePromise=l=>new Promise(d=>{this.setState(l,()=>{d()})}),this.loadRepository=()=>z(this,null,function*(){const{match:{params:{username:l,repositoryName:d}},history:o}=this.props,f=yield I.C.repository({username:l},{name:d});if(f!==null)yield this.setStatePromise({repository:f});else return o.replace(O.yt[O.DV.NOT_FOUND])}),this.loadCommitCount=()=>z(this,null,function*(){const{match:{params:{username:l,repositoryName:d,commitHash:o}}}=this.props,{branches:f}=this.state;let h="";if(!o)for(const{isDefault:y,name:n}of f)y&&(h=n);const x=yield I.C.commitCount({username:l},{name:d},o||h);if(x!==null){const{commitCount:y}=x;yield this.setStatePromise({commitCount:y})}}),this.loadBranches=()=>z(this,null,function*(){const{match:{params:{username:l,repositoryName:d}}}=this.props,o=yield I.C.branches({username:l,name:d});if(o!==null){const{branches:f}=o;yield this.setStatePromise({branches:f})}}),this.loadTagNames=()=>z(this,null,function*(){const{match:{params:{username:l,repositoryName:d}}}=this.props,o=yield I.C.tagNames({username:l,name:d});if(o!==null){const{tagNames:f}=o;yield this.setStatePromise({tagNames:f})}}),this.state={repository:new U._j("","","",!0),branches:[],tagNames:[],commitCount:0,loading:!0}}componentDidMount(){return z(this,null,function*(){yield this.setStatePromise({loading:!0}),yield this.loadBranches(),yield Promise.all([this.loadRepository(),this.loadTagNames(),this.loadCommitCount()]),yield this.setStatePromise({loading:!1})})}componentDidUpdate(p,l,d){return z(this,null,function*(){const{match:{params:{username:o,repositoryName:f,commitHash:h}}}=p,{match:{params:{username:x,repositoryName:y,commitHash:n}}}=this.props;o!==x||f!==y?yield this.componentDidMount():h!==n&&(yield this.setStatePromise({loading:!0}),yield this.loadCommitCount(),yield this.setStatePromise({loading:!1}))})}render(){const{repository:p,branches:l,commitCount:d,loading:o,tagNames:f}=this.state,{match:{params:{objectType:h}}}=this.props;return a.createElement(F,{repository:p,commitCount:d,branches:l,tagNames:f,objectType:h,loading:o})}}var q=(0,w.EN)(b)},97025:function(ne,M,t){t.d(M,{Z:function(){return y}});var a=t(4942),v=t(87462),V=t(71002),r=t(89526),G=t(64403),P=t.n(G),K=function(e){var s=e.prefixCls,E=e.className,c=e.width,m=e.style;return r.createElement("h3",{className:P()(s,E),style:(0,v.Z)({width:c},m)})},$=K,J=t(93433),Q=function(e){var s=function(i){var C=e.width,g=e.rows,Z=g===void 0?2:g;if(Array.isArray(C))return C[i];if(Z-1===i)return C},E=e.prefixCls,c=e.className,m=e.style,S=e.rows,u=(0,J.Z)(Array(S)).map(function(N,i){return r.createElement("li",{key:i,style:{width:s(i)}})});return r.createElement("ul",{className:P()(E,c),style:m},u)},X=Q,R=t(62432),Y=function(e){var s,E,c=e.prefixCls,m=e.className,S=e.style,u=e.size,N=e.shape,i=P()((s={},(0,a.Z)(s,"".concat(c,"-lg"),u==="large"),(0,a.Z)(s,"".concat(c,"-sm"),u==="small"),s)),C=P()((E={},(0,a.Z)(E,"".concat(c,"-circle"),N==="circle"),(0,a.Z)(E,"".concat(c,"-square"),N==="square"),(0,a.Z)(E,"".concat(c,"-round"),N==="round"),E)),g=typeof u=="number"?{width:u,height:u,lineHeight:"".concat(u,"px")}:{};return r.createElement("span",{className:P()(c,i,C,m),style:(0,v.Z)((0,v.Z)({},g),S)})},W=Y,F=t(78326),U=function(e){var s=function(c){var m=c.getPrefixCls,S=e.prefixCls,u=e.className,N=e.active,i=m("skeleton",S),C=(0,F.Z)(e,["prefixCls","className"]),g=P()(i,"".concat(i,"-element"),(0,a.Z)({},"".concat(i,"-active"),N),u);return r.createElement("div",{className:g},r.createElement(W,(0,v.Z)({prefixCls:"".concat(i,"-avatar")},C)))};return r.createElement(R.C,null,s)};U.defaultProps={size:"default",shape:"circle"};var w=U,I=function(e){var s=function(c){var m,S=c.getPrefixCls,u=e.prefixCls,N=e.className,i=e.active,C=e.block,g=C===void 0?!1:C,Z=S("skeleton",u),A=(0,F.Z)(e,["prefixCls"]),j=P()(Z,"".concat(Z,"-element"),(m={},(0,a.Z)(m,"".concat(Z,"-active"),i),(0,a.Z)(m,"".concat(Z,"-block"),g),m),N);return r.createElement("div",{className:j},r.createElement(W,(0,v.Z)({prefixCls:"".concat(Z,"-button")},A)))};return r.createElement(R.C,null,s)};I.defaultProps={size:"default"};var O=I,z=function(e){var s=function(c){var m,S=c.getPrefixCls,u=e.prefixCls,N=e.className,i=e.active,C=e.block,g=S("skeleton",u),Z=(0,F.Z)(e,["prefixCls"]),A=P()(g,"".concat(g,"-element"),(m={},(0,a.Z)(m,"".concat(g,"-active"),i),(0,a.Z)(m,"".concat(g,"-block"),C),m),N);return r.createElement("div",{className:A},r.createElement(W,(0,v.Z)({prefixCls:"".concat(g,"-input")},Z)))};return r.createElement(R.C,null,s)};z.defaultProps={size:"default"};var b=z,q="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",T=function(e){var s=function(c){var m=c.getPrefixCls,S=e.prefixCls,u=e.className,N=e.style,i=m("skeleton",S),C=P()(i,"".concat(i,"-element"),u);return r.createElement("div",{className:C},r.createElement("div",{className:P()("".concat(i,"-image"),u),style:N},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(i,"-image-svg")},r.createElement("path",{d:q,className:"".concat(i,"-image-path")}))))};return r.createElement(R.C,null,s)},p=T;function l(n){return n&&(0,V.Z)(n)==="object"?n:{}}function d(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function o(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function f(n,e){var s={};return(!n||!e)&&(s.width="61%"),!n&&e?s.rows=3:s.rows=2,s}var h=function(e){var s=function(c){var m=c.getPrefixCls,S=c.direction,u=e.prefixCls,N=e.loading,i=e.className,C=e.style,g=e.children,Z=e.avatar,A=e.title,j=e.paragraph,re=e.active,le=e.round,B=m("skeleton",u);if(N||!("loading"in e)){var D,k=!!Z,H=!!A,L=!!j,_;if(k){var se=(0,v.Z)((0,v.Z)({prefixCls:"".concat(B,"-avatar")},d(H,L)),l(Z));_=r.createElement("div",{className:"".concat(B,"-header")},r.createElement(W,se))}var ee;if(H||L){var te;if(H){var oe=(0,v.Z)((0,v.Z)({prefixCls:"".concat(B,"-title")},o(k,L)),l(A));te=r.createElement($,oe)}var ae;if(L){var ie=(0,v.Z)((0,v.Z)({prefixCls:"".concat(B,"-paragraph")},f(k,H)),l(j));ae=r.createElement(X,ie)}ee=r.createElement("div",{className:"".concat(B,"-content")},te,ae)}var ce=P()(B,(D={},(0,a.Z)(D,"".concat(B,"-with-avatar"),k),(0,a.Z)(D,"".concat(B,"-active"),re),(0,a.Z)(D,"".concat(B,"-rtl"),S==="rtl"),(0,a.Z)(D,"".concat(B,"-round"),le),D),i);return r.createElement("div",{className:ce,style:C},_,ee)}return g};return r.createElement(R.C,null,s)};h.defaultProps={avatar:!1,title:!0,paragraph:!0},h.Button=O,h.Avatar=w,h.Input=b,h.Image=p;var x=h,y=x}}]);

//# sourceMappingURL=3589.479b9016.chunk.js.map