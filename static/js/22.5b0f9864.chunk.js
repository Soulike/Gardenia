(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[22],{1223:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1224),o=n.n(i);t.a=a.a.memo((function(e){var t=e.children,n=e.required;return a.a.createElement("div",{className:o.a.InputLabel},t,a.a.createElement("span",{className:o.a.requiredSign},n?" *":""))}))},1224:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1232:function(e,t,n){e.exports={PageTitle:"Style_PageTitle__3R_vY"}},1234:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),i=n(1232),o=n.n(i);var c=function(e){var t=e.children;return a.a.createElement("h1",{className:o.a.PageTitle},t)}},1245:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=t||{},i=n.defaultValue,o=n.value,c=n.onChange,u=n.postState,l=a(r.useState((function(){return void 0!==o?o:void 0!==i?"function"===typeof i?i():i:"function"===typeof e?e():e})),2),s=l[0],m=l[1],f=void 0!==o?o:s;u&&(f=u(f));var d=r.useRef(!0);return r.useEffect((function(){d.current?d.current=!1:void 0===o&&m(o)}),[o]),[f,function(e){m(e),f!==e&&c&&c(e,f)}]}},1296:function(e,t,n){e.exports={CreateRepository:"Style_CreateRepository__2Mw5u",label:"Style_label__3gZrW",submitButton:"Style_submitButton__3gaVe",inlineDescription:"Style_inlineDescription__2_j5X"}},1412:function(e,t,n){"use strict";var r=n(0),a=n(5),i=n.n(a),o=n(1245),c=n(58);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=r.forwardRef((function(e,t){var n,a=e.prefixCls,s=void 0===a?"rc-switch":a,f=e.className,d=e.checked,p=e.defaultChecked,b=e.disabled,h=e.loadingIcon,v=e.checkedChildren,y=e.unCheckedChildren,g=e.onClick,S=e.onChange,C=e.onKeyDown,w=m(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),E=l(Object(o.a)(!1,{value:d,defaultValue:p}),2),O=E[0],I=E[1];function k(e,t){var n=O;return b||(I(n=e),null===S||void 0===S||S(n,t)),n}var N=i()(s,f,(u(n={},"".concat(s,"-checked"),O),u(n,"".concat(s,"-disabled"),b),n));return r.createElement("button",Object.assign({},w,{type:"button",role:"switch","aria-checked":O,disabled:b,className:N,ref:t,onKeyDown:function(e){e.which===c.a.LEFT?k(!1,e):e.which===c.a.RIGHT&&k(!0,e),null===C||void 0===C||C(e)},onClick:function(e){var t=k(!O,e);null===g||void 0===g||g(t,e)}}),h,r.createElement("span",{className:"".concat(s,"-inner")},O?v:y))}));f.displayName="Switch";var d=f,p=n(35),b=n(124),h=n.n(b),v=n(241),y=n(96),g=n(94),S=n(63);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=r.forwardRef((function(e,t){var n;Object(S.a)("checked"in e||!("value"in e),"Switch","`value` is not a valid prop, do you mean `checked`?");var a=e.prefixCls,o=e.size,c=e.loading,u=e.className,l=void 0===u?"":u,s=e.disabled,m=r.useContext(y.b),f=m.getPrefixCls,b=m.direction,E=r.useContext(g.b),O=f("switch",a),I=r.createElement("div",{className:"".concat(O,"-handle")},c&&r.createElement(h.a,{className:"".concat(O,"-loading-icon")})),k=i()(l,(w(n={},"".concat(O,"-small"),"small"===(o||E)),w(n,"".concat(O,"-loading"),c),w(n,"".concat(O,"-rtl"),"rtl"===b),n));return r.createElement(v.a,{insertExtraNode:!0},r.createElement(d,C({},Object(p.a)(e,["loading"]),{prefixCls:O,className:k,disabled:s||c,ref:t,loadingIcon:I})))}));E.__ANT_SWITCH=!0;t.a=E},1447:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n(1),a=n.n(r),i=n(3),o=n(7),c=n(8),u=n(17),l=n(16),s=n(0),m=n.n(s),f=n(1296),d=n.n(f),p=n(247),b=n(1192),h=n(1412),v=n(95),y=n(150),g=n(1234),S=n(1223);var C=m.a.memo((function(e){var t=e.username,n=e.name,r=e.description,a=e.isPublic,i=e.onNameInputChange,o=e.onDescriptionInputChange,c=e.onIsPublicSwitchChange,u=e.onSubmit,l=e.submitting,s=e.loading;return m.a.createElement("div",{className:d.a.CreateRepository},m.a.createElement(g.a,null,"\u521b\u5efa\u65b0\u4ed3\u5e93"),m.a.createElement("form",{action:"#",className:d.a.form,onSubmit:u},m.a.createElement("label",{className:d.a.label},m.a.createElement(S.a,{required:!0},"\u4ed3\u5e93\u540d"),m.a.createElement(p.a,{trigger:"focus",title:y.c.Repository.NAME},m.a.createElement(b.a,{addonBefore:m.a.createElement("div",null,t," /"),autoFocus:!0,value:n,onChange:i,disabled:s}))),m.a.createElement("label",{className:d.a.label},m.a.createElement(S.a,null,"\u63cf\u8ff0"),m.a.createElement(b.a,{value:r,onChange:o,disabled:s})),m.a.createElement("label",{className:d.a.label},m.a.createElement(S.a,null,"\u516c\u5f00"),m.a.createElement(h.a,{checked:a,onChange:c,disabled:s}),m.a.createElement("div",{className:d.a.inlineDescription},a?"\u6240\u6709\u4eba\u90fd\u80fd\u770b\u5230\u8be5\u4ed3\u5e93":"\u53ea\u6709\u4f60\u548c\u4ed3\u5e93\u5408\u4f5c\u8005\u80fd\u770b\u5230\u8be5\u4ed3\u5e93")),m.a.createElement(v.a,{htmlType:"submit",type:"primary",block:!0,className:d.a.submitButton,loading:l,disabled:l||s},"\u521b\u5efa\u4ed3\u5e93")))})),w=n(1184),E=n(347),O=n(29),I=n(46),k=n(20),N=n(213),j=n(54),x=k.CONFIG.PAGE_ID,_=k.CONFIG.PAGE_ID_TO_ROUTE,P=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).setStatePromise=Object(j.promisify)(r.setState),r.setTitle=function(){document.title="\u521b\u5efa\u4ed3\u5e93 - ".concat(N.a.NAME)},r.loadUsername=Object(i.a)(a.a.mark((function e(){var t,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get();case 2:if(null===(t=e.sent)){e.next=9;break}return n=t.username,e.next=7,r.setStatePromise({username:n});case 7:e.next=11;break;case 9:return i=r.props.history,e.abrupt("return",i.replace(_[x.LOGIN]));case 11:case"end":return e.stop()}}),e)}))),r.onNameInputChange=function(e){r.setState({name:e.target.value})},r.onDescriptionInputChange=function(e){r.setState({description:e.target.value})},r.onIsPublicSwitchChange=function(e){r.setState({isPublic:e})},r.onSubmit=function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.validateFormInput()){e.next=4;break}return e.next=4,r.submitForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateFormInput=function(){var e=r.state.name;return!!y.b.Repository.name(e)||(w.a.warn({message:y.a.Repository.NAME,description:y.c.Repository.NAME}),!1)},r.submitForm=Object(i.a)(a.a.mark((function e(){var t,n,i,o,c,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.username,i=t.name,o=t.description,c=t.isPublic,r.setState({submitting:!0}),e.next=4,O.h.create({name:i,description:o,isPublic:c});case 4:if(u=e.sent,r.setState({submitting:!1}),null===u){e.next=10;break}return l=r.props.history,w.a.success({message:"\u4ed3\u5e93\u521b\u5efa\u6210\u529f"}),e.abrupt("return",l.push(k.Function.generateRepositoryCodeRoute({username:n,repository:i})));case 10:case"end":return e.stop()}}),e)}))),r.state={username:"",name:"",description:"",isPublic:!0,submitting:!1,loading:!0},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setTitle(),e.next=3,this.setStatePromise({loading:!0});case 3:return e.next=5,this.loadUsername();case 5:return e.next=7,this.setStatePromise({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.username,n=e.name,r=e.description,a=e.isPublic,i=e.submitting,o=e.loading;return m.a.createElement(C,{username:t,name:n,description:r,isPublic:a,submitting:i,loading:o,onNameInputChange:this.onNameInputChange,onDescriptionInputChange:this.onDescriptionInputChange,onIsPublicSwitchChange:this.onIsPublicSwitchChange,onSubmit:this.onSubmit})}}]),n}(s.PureComponent),A=Object(I.f)(P)}}]);
//# sourceMappingURL=22.5b0f9864.chunk.js.map