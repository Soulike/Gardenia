(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[18],{1128:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(15);t.a=r.a.memo((function(e){return r.a.createElement(o.b,Object.assign({},e,{target:"_blank",rel:"noopener norefferrer"}))}))},1131:function(e,t,a){"use strict";var n=a(1128);a.d(t,"a",(function(){return n.a}))},1137:function(e,t,a){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},1138:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1137),i=a.n(o);var s=r.a.memo((function(e){var t=e.children;return r.a.createElement("h2",{className:i.a.SettingsTitle},t)}));a.d(t,"a",(function(){return s}))},1139:function(e,t,a){"use strict";a(181);var n=a(56),r=a(354),o=a(0),i=a.n(o),s=a(1140),c=a.n(s);t.a=i.a.memo((function(e){var t=e.isPublic,a=Object(r.a)(e,["isPublic"]);return t?i.a.createElement(n.a,Object.assign({className:c.a.AccessibilityTag,color:"blue"},a),"\u516c\u5171"):i.a.createElement(n.a,Object.assign({className:c.a.AccessibilityTag,color:"gold"},a),"\u79c1\u4eba")}))},1140:function(e,t,a){e.exports={AccessibilityTag:"Style_AccessibilityTag__4cAHc"}},1169:function(e,t,a){"use strict";var n=a(1139);a.d(t,"a",(function(){return n.a}))},1193:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o={name:"home",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]}},i=a(12),s=function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t,icon:o}))};s.displayName="HomeOutlined";t.a=r.a.forwardRef(s)},1267:function(e,t,a){},1268:function(e,t,a){e.exports={RepositoryItem:"Style_RepositoryItem__3S19U",infoWrapper:"Style_infoWrapper__21Bg0",icon:"Style_icon__2v4YP",tag:"Style_tag__1PcJi"}},1339:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"repositoryChange",(function(){return I}));var r=a(3),o=a.n(r),i=a(7),s=a(341),c=a(342),u=a(344),l=a(343),m=a(345),p=a(0),f=a.n(p),d=a(1267),v=a.n(d),h=a(1138),g=(a(1135),a(1134)),b=(a(349),a(103)),y=(a(96),a(43)),E=(a(353),a(150)),O=(a(95),a(25)),j=a(1268),k=a.n(j),x=a(1193),S=a(1131),_=a(30),R=a(1169);var C=f.a.memo((function(e){var t=e.repository,a=t.username,n=t.name,r=t.isPublic,o=e.onRemoveButtonClick,i=e.loading;return f.a.createElement(g.a.Item,null,f.a.createElement("div",{className:k.a.RepositoryItem},f.a.createElement("div",{className:k.a.infoWrapper},f.a.createElement("div",{className:k.a.icon},f.a.createElement(x.a,null)),f.a.createElement("div",{className:k.a.tag},f.a.createElement(R.a,{isPublic:r})),f.a.createElement("div",{className:k.a.repositoryName},f.a.createElement(S.a,{to:_.Function.generatePersonalCenterRoute({username:a})},a),"/",f.a.createElement(S.a,{to:_.Function.generateRepositoryCodeRoute({username:a,repository:n})},f.a.createElement("span",{style:{fontWeight:"bold"}},n)))),f.a.createElement("div",{className:k.a.buttonWrapper},f.a.createElement(E.a,{title:"\u786e\u8ba4\u4ece\u5c0f\u7ec4\u4e2d\u5220\u9664\u4ed3\u5e93 ".concat(a,"/").concat(n," \uff1f"),onConfirm:o,disabled:i},f.a.createElement(O.a,{type:"danger",disabled:i,loading:i},"\u4ece\u5c0f\u7ec4\u4e2d\u5220\u9664")))))})),P=a(133),w=a(346),N=a(39),T=new(a(266).EventEmitter),I="repositoryChange",W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).setStatePromise=Object(w.promisify)(a.setState),a.onRemoveButtonClick=Object(i.a)(o.a.mark((function e(){var t,r,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,r=t.match.params.id,i=t.repository,s=i.username,c=i.name,e.next=3,a.setStatePromise({loading:!0});case 3:return e.next=5,N.c.removeRepositories({id:Number.parseInt(r)},[{username:s,name:c}]);case 5:return null!==e.sent&&(y.a.success({message:"\u4ed3\u5e93 ".concat(s,"/").concat(c," \u5df2\u4ece #").concat(r," \u5c0f\u7ec4\u4e2d\u5220\u9664")}),T.emit(n.repositoryChange)),e.next=9,a.setStatePromise({loading:!1});case 9:case"end":return e.stop()}}),e)}))),a.state={loading:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.repository,t=this.state.loading;return f.a.createElement(C,{loading:t,onRemoveButtonClick:this.onRemoveButtonClick,repository:e})}}]),t}(p.PureComponent),A=Object(P.f)(W);var B=f.a.memo((function(e){var t=e.repositories,a=e.loading;return f.a.createElement(g.a,{loading:a,locale:{emptyText:f.a.createElement(b.a,{description:"\u5c0f\u7ec4\u5185\u6ca1\u6709\u4ed3\u5e93"})},dataSource:t,renderItem:function(e){return f.a.createElement(A,{repository:e,key:"".concat(e.username,"/").concat(e.name)})}})}));var H=f.a.memo((function(e){var t=e.repositories,a=e.loading;return f.a.createElement("div",{className:v.a.Repositories},f.a.createElement(h.a,null,"\u4ed3\u5e93\u7ba1\u7406"),f.a.createElement("div",{className:v.a.repositoryListWrapper},f.a.createElement(B,{repositories:t,loading:a})))})),V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).setStatePromise=Object(w.promisify)(a.setState),a.onRepositoryChange=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.componentDidMount();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),a.loadRepositories=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,N.c.repositories({id:Number.parseInt(t)});case 3:null!==(n=e.sent)&&a.setStatePromise({repositories:Array.from(n)});case 5:case"end":return e.stop()}}),e)}))),a.state={repositories:[],loading:!1},T.on(n.repositoryChange,a.onRepositoryChange),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadRepositories();case 4:return e.next=6,this.setStatePromise({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a,n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.match.params.id,i=t.match.params.id,r===i){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){T.removeListener(n.repositoryChange,this.onRepositoryChange)}},{key:"render",value:function(){var e=this.state,t=e.repositories,a=e.loading;return f.a.createElement(H,{repositories:t,loading:a})}}]),t}(p.PureComponent),D=Object(P.f)(V);a.d(t,"default",(function(){return D}))}}]);
//# sourceMappingURL=18.d6a92115.chunk.js.map