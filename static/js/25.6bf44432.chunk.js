(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[25],{1215:function(e,n,t){"use strict";t.r(n);t(91);var r=t(13),a=t(4),u=t.n(a),o=t(35),s=t(47),i=t(88),c=t(87),p=t(89),f=t(0),l=t.n(f),d=(t(412),t(132)),m=(t(878),t(880)),g=(t(275),t(21)),E=t(966),v=t.n(E),h=t(918),_=t.n(h),I=t(882),S=t(38),A=t(90),N=A.a.PAGE_ID,b=A.a.PAGE_ID_TO_ROUTE;var w=l.a.memo((function(e){var n=e.username,t=e.password,r=e.onUsernameInputChange,a=e.onPasswordInputChange,u=e.onLoginFormSubmit;return l.a.createElement("main",{className:v.a.Login},l.a.createElement("form",{action:"#",className:v.a.form,onSubmit:u},l.a.createElement("img",{className:v.a.logo,src:_.a,alt:"web_developer_logo"}),l.a.createElement("div",{className:v.a.registerTip},"\u6ca1\u6709\u8d26\u53f7\uff1f",l.a.createElement(S.b,{to:b[N.REGISTER]},"\u70b9\u6b64\u6ce8\u518c")),l.a.createElement("div",{className:v.a.inputWrapper},l.a.createElement(I.a,null,"\u7528\u6237\u540d"),l.a.createElement(m.a,{type:"text",size:"large",onChange:r,autoFocus:!0,value:n,prefix:l.a.createElement(g.a,{type:"user"})})),l.a.createElement("div",{className:v.a.inputWrapper},l.a.createElement(I.a,null,"\u5bc6\u7801"),l.a.createElement(m.a,{type:"password",size:"large",onChange:a,value:t,prefix:l.a.createElement(g.a,{type:"lock"})})),l.a.createElement(d.a,{htmlType:"submit",className:v.a.button,size:"large",type:"primary",block:!0},"\u767b\u5f55")))})),y=t(101),L=t(206),M=t(128),P=t(99),O=t(276),R=t(280),C=t.n(R),T=t(167),x=t(873),k=A.a.PAGE_ID,D=A.a.PAGE_ID_TO_ROUTE,F=x.b.Account,G=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(i.a)(this,Object(c.a)(n).call(this,e))).setTitle=function(){document.title="\u767b\u5f55 - ".concat(T.a.NAME)},t.onUsernameInputChange=function(e){t.setState({username:e.target.value})},t.onPasswordInputChange=function(e){t.setState({password:e.target.value})},t.onLoginFormSubmit=function(e){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!t.loginFormInputCheck()){n.next=4;break}return n.next=4,u.a.awrap(t.submitLoginForm());case 4:case"end":return n.stop()}}))},t.loginFormInputCheck=function(){var e=t.state,n=e.username,a=e.password;return!(!F.username(n)||!F.password(a))||(r.a.warn({message:"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"}),!1)},t.submitLoginForm=function(){var e,n,r,a;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.state,n=e.username,r=e.password,a=O.a.calculateHash(n,r),o.next=4,u.a.awrap(L.a.login(new O.a(n,a)));case 4:if(!o.sent){o.next=8;break}return o.next=8,u.a.awrap(t.onLoginSuccess());case 8:case"end":return o.stop()}}))},t.onLoginSuccess=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:(0,t.props.setLoggedIn)(),r.a.success({message:"\u767b\u5f55\u6210\u529f"}),t.returnToPreviousPage();case 4:case"end":return e.stop()}}))},t.returnToPreviousPage=function(){var e=t.props.location.search,n=C.a.parse(e.slice(1)).prev;"string"===typeof n&&n!==D[k.LOGIN]&&n!==D[k.REGISTER]&&n!==D[k.NOT_FOUND]?t.props.history.push(n):t.props.history.push(D[k.INDEX])},t.state={username:"",password:""},t}return Object(p.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setTitle(),this.props.isLoggedIn&&this.props.history.push(D[k.INDEX])}},{key:"render",value:function(){var e=this.state,n=e.username,t=e.password;return l.a.createElement(w,{username:n,password:t,onLoginFormSubmit:this.onLoginFormSubmit,onPasswordInputChange:this.onPasswordInputChange,onUsernameInputChange:this.onUsernameInputChange})}}]),n}(f.PureComponent),U={setLoggedIn:M.setLoggedInAction},W=Object(y.f)(Object(P.b)((function(e){return{isLoggedIn:e.Root.isLoggedIn}}),U)(G));n.default=W},873:function(e,n,t){"use strict";var r={};t.r(r),t.d(r,"USERNAME",(function(){return A})),t.d(r,"PASSWORD",(function(){return N}));var a={};t.r(a),t.d(a,"NAME",(function(){return b}));var u={};t.r(u),t.d(u,"NICKNAME",(function(){return w})),t.d(u,"EMAIL",(function(){return y}));var o={};t.r(o),t.d(o,"NAME",(function(){return L}));var s={};t.r(s),t.d(s,"username",(function(){return M})),t.d(s,"password",(function(){return P}));var i={};t.r(i),t.d(i,"name",(function(){return O}));var c={};t.r(c),t.d(c,"nickname",(function(){return R})),t.d(c,"email",(function(){return C}));var p={};t.r(p),t.d(p,"name",(function(){return T}));var f={};t.r(f),t.d(f,"Account",(function(){return s})),t.d(f,"Group",(function(){return i})),t.d(f,"Profile",(function(){return c})),t.d(f,"Repository",(function(){return p}));var l={};t.r(l),t.d(l,"USERNAME",(function(){return x})),t.d(l,"PASSWORD",(function(){return k}));var d={};t.r(d),t.d(d,"NAME",(function(){return D}));var m={};t.r(m),t.d(m,"NICKNAME",(function(){return F}));var g={};t.r(g),t.d(g,"NAME",(function(){return G}));var E={};t.r(E),t.d(E,"Account",(function(){return l})),t.d(E,"Group",(function(){return d})),t.d(E,"Profile",(function(){return m})),t.d(E,"Repository",(function(){return g}));var v={};t.r(v),t.d(v,"USERNAME",(function(){return U})),t.d(v,"PASSWORD",(function(){return W}));var h={};t.r(h),t.d(h,"NAME",(function(){return j}));var _={};t.r(_),t.d(_,"NICKNAME",(function(){return z})),t.d(_,"EMAIL",(function(){return $}));var I={};t.r(I),t.d(I,"NAME",(function(){return K}));var S={};t.r(S),t.d(S,"Account",(function(){return v})),t.d(S,"Group",(function(){return h})),t.d(S,"Profile",(function(){return _})),t.d(S,"Repository",(function(){return I}));var A=/^\w{1,20}$/,N=/^\S{6,}$/,b=/^\S{1,20}$/,w=/^\S{1,20}$/,y=/^([A-z0-9_\-.\u4e00-\u9fa5])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,8})$/,L=/^\w{1,20}$/;function M(e){return r.USERNAME.test(e)}function P(e){return r.PASSWORD.test(e)}function O(e){return a.NAME.test(e)}function R(e){return u.NICKNAME.test(e)}function C(e){return u.EMAIL.test(e)}function T(e){return o.NAME.test(e)}var x="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",k="6 \u4f4d\u4ee5\u4e0a",D="1~20 \u4f4d",F="1~20 \u4f4d",G="1~20 \u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u53ca\u4e0b\u5212\u7ebf",U="\u7528\u6237\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",W="\u5bc6\u7801\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",j="\u5c0f\u7ec4\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",z="\u6635\u79f0\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",$="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1",K="\u4ed3\u5e93\u540d\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";t.d(n,"b",(function(){return f})),t.d(n,"a",(function(){return S})),t.d(n,"c",(function(){return E}))},882:function(e,n,t){"use strict";var r=t(0),a=t.n(r),u=t(903),o=t.n(u);n.a=a.a.memo((function(e){var n=e.children,t=e.required;return a.a.createElement("div",{className:o.a.InputLabel},n,a.a.createElement("span",{className:o.a.requiredSign},t?" *":""))}))},903:function(e,n,t){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},918:function(e,n,t){e.exports=t.p+"static/media/developing_code.240e8e0f.svg"},966:function(e,n,t){e.exports={Login:"Style_Login__2bEsG",registerTip:"Style_registerTip__10XWI",form:"Style_form__1Yzdr",inputWrapper:"Style_inputWrapper__2aFQQ",logo:"Style_logo__3bWtv",button:"Style_button__3L0sa"}}}]);
//# sourceMappingURL=25.6bf44432.chunk.js.map