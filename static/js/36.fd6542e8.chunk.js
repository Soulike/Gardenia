(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[36],{1069:function(e,t,a){e.exports={Tags:"Style_Tags__1228g",tagsWrapper:"Style_tagsWrapper__1ZGzX",tagCardWrapper:"Style_tagCardWrapper__1UHwI",showMoreButtonWrapper:"Style_showMoreButtonWrapper__3WYeU"}},1070:function(e,t,a){e.exports={TagCard:"Style_TagCard__33ZRd",content:"Style_content__1E1uL",top:"Style_top__2OzcY",bottom:"Style_bottom__2lFDc",showBodyButtonWrapper:"Style_showBodyButtonWrapper__1mHhJ",subjectWrapper:"Style_subjectWrapper__2nHy3",annotationBodyWrapper:"Style_annotationBodyWrapper__Rew6H",commitHashWrapper:"Style_commitHashWrapper__1qq1P",iconWrapper:"Style_iconWrapper__mHm3m"}},1371:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Y}));var r=a(2),n=a.n(r),s=a(92),c=a(7),o=a(15),i=a(16),l=a(40),d=a(39),p=a(0),u=a.n(p),m=a(1069),h=a.n(m),j=a(919),b=a(907),f=a(183),O=a(111),g=a(5),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1067.88-67.89 48 48 0 10-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z"}}]},name:"tags",theme:"outlined"},v=a(13),y=function(e,t){return p.createElement(v.a,Object(g.a)(Object(g.a)({},e),{},{ref:t,icon:x}))};y.displayName="TagsOutlined";var _=p.forwardRef(y),w=a(1070),B=a.n(w),k=a(176),N=a(72),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M112 476h72v72h-72zm182 0h72v72h-72zm364 0h72v72h-72zm182 0h72v72h-72zm-364 0h72v72h-72z"}}]},name:"small-dash",theme:"outlined"},T=function(e,t){return p.createElement(v.a,Object(g.a)(Object(g.a)({},e),{},{ref:t,icon:S}))};T.displayName="SmallDashOutlined";var W=p.forwardRef(T),M=a(971),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M843.5 737.4c-12.4-75.2-79.2-129.1-155.3-125.4S550.9 676 546 752c-153.5-4.8-208-40.7-199.1-113.7 3.3-27.3 19.8-41.9 50.1-49 18.4-4.3 38.8-4.9 57.3-3.2 1.7.2 3.5.3 5.2.5 11.3 2.7 22.8 5 34.3 6.8 34.1 5.6 68.8 8.4 101.8 6.6 92.8-5 156-45.9 159.2-132.7 3.1-84.1-54.7-143.7-147.9-183.6-29.9-12.8-61.6-22.7-93.3-30.2-14.3-3.4-26.3-5.7-35.2-7.2-7.9-75.9-71.5-133.8-147.8-134.4-76.3-.6-140.9 56.1-150.1 131.9s40 146.3 114.2 163.9c74.2 17.6 149.9-23.3 175.7-95.1 9.4 1.7 18.7 3.6 28 5.8 28.2 6.6 56.4 15.4 82.4 26.6 70.7 30.2 109.3 70.1 107.5 119.9-1.6 44.6-33.6 65.2-96.2 68.6-27.5 1.5-57.6-.9-87.3-5.8-8.3-1.4-15.9-2.8-22.6-4.3-3.9-.8-6.6-1.5-7.8-1.8l-3.1-.6c-2.2-.3-5.9-.8-10.7-1.3-25-2.3-52.1-1.5-78.5 4.6-55.2 12.9-93.9 47.2-101.1 105.8-15.7 126.2 78.6 184.7 276 188.9 29.1 70.4 106.4 107.9 179.6 87 73.3-20.9 119.3-93.4 106.9-168.6zM329.1 345.2a83.3 83.3 0 11.01-166.61 83.3 83.3 0 01-.01 166.61zM695.6 845a83.3 83.3 0 11.01-166.61A83.3 83.3 0 01695.6 845z"}}]},name:"node-index",theme:"outlined"},P=function(e,t){return p.createElement(v.a,Object(g.a)(Object(g.a)({},e),{},{ref:t,icon:C}))};P.displayName="NodeIndexOutlined";var z=p.forwardRef(P),L=a(278),A=a(57),E=a(55),R=a(1);var H=u.a.memo(Object(E.j)((function(e){var t=e.showBody,a=e.tag,r=a.name,n=a.annotation,s=n.subject,c=n.body,o=a.lastCommit,i=o.commitHash,l=o.timestamp,d=e.match.params,p=d.username,u=d.repositoryName,m=e.onShowBodyButtonClick;return Object(R.jsx)("div",{className:B.a.TagCard,children:Object(R.jsx)(j.a,{title:r,children:Object(R.jsxs)("div",{className:B.a.content,children:[Object(R.jsxs)("div",{className:B.a.top,children:[Object(R.jsx)("div",{className:B.a.subjectWrapper,children:s}),c.length>0?Object(R.jsx)("div",{className:B.a.showBodyButtonWrapper,children:Object(R.jsx)(O.a,{size:"small",onClick:m,children:Object(R.jsx)(W,{})})}):null]}),t?Object(R.jsx)("div",{className:B.a.annotationBodyWrapper,children:Object(R.jsx)("pre",{className:B.a.annotationBody,children:c})}):null,Object(R.jsxs)("div",{className:B.a.bottom,children:[Object(R.jsx)(k.a,{title:N.b.parseTimestampToDate(l),children:Object(R.jsxs)("span",{className:B.a.timeWrapper,children:[Object(R.jsx)("span",{className:B.a.iconWrapper,children:Object(R.jsx)(M.a,{})}),N.b.parseTimestampToDifference(l)]})}),Object(R.jsx)("span",{className:B.a.commitHashWrapper,children:Object(R.jsxs)(L.a,{to:A.Function.generateRepositoryCommitRoute({username:p,repositoryName:u,commitHash:i}),children:[Object(R.jsx)("span",{className:B.a.iconWrapper,children:Object(R.jsx)(z,{})}),i.slice(0,7)]})})]})]})})})}))),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).onShowBodyButtonClick=function(){var e=r.state.showBody;r.setState({showBody:!e})},r.state={showBody:!1},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.tag,t=this.state.showBody;return Object(R.jsx)(H,{tag:e,showBody:t,onShowBodyButtonClick:this.onShowBodyButtonClick})}}]),a}(p.PureComponent);function D(e){var t=e.tags,a=e.loading,r=e.onLoadMoreButtonClick;return Object(R.jsx)("div",{className:h.a.Tags,children:Object(R.jsx)(j.a,{title:Object(R.jsxs)("span",{children:[Object(R.jsx)(_,{})," \u6807\u7b7e\uff08Tags\uff09"]}),children:Object(R.jsx)(b.a,{spinning:a,children:0===t.length?Object(R.jsx)(f.a,{description:"\u5f53\u524d\u4ed3\u5e93\u6ca1\u6709\u6807\u7b7e"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:h.a.tagsWrapper,children:t.map((function(e){return Object(R.jsx)("div",{className:h.a.tagCardWrapper,children:Object(R.jsx)(G,{tag:e})},e.name)}))}),Object(R.jsx)("div",{className:h.a.showMoreButtonWrapper,children:Object(R.jsx)(O.a,{type:"primary",loading:a,disabled:a,onClick:r,children:"\u52a0\u8f7d\u66f4\u591a"})})]})})})})}var U=u.a.memo(D),F=a(104),J=a(34),q=a(343),I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).TAG_AMOUNT_PER_PAGE=10,r.setStatePromise=Object(F.promisify)(r.setState),r.loadTags=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var c,o,i,l,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.props.match.params,o=c.username,i=c.repositoryName,e.next=3,r.setStatePromise({loading:!0});case 3:return e.next=5,J.j.tags({username:o,name:i},t,a);case 5:if(null===(l=e.sent)){e.next=13;break}if(!(l.tags.length<r.TAG_AMOUNT_PER_PAGE)){e.next=10;break}return e.next=10,r.setStatePromise({allTagsLoaded:!0});case 10:return d=r.state.tags,e.next=13,r.setStatePromise({tags:[].concat(Object(s.a)(d),Object(s.a)(l.tags))});case 13:return e.next=15,r.setStatePromise({loading:!1});case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.loadMoreTags=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.nextLoadOffset,e.next=3,Promise.all([r.loadTags(t,r.TAG_AMOUNT_PER_PAGE),r.setStatePromise({nextLoadOffset:t+r.TAG_AMOUNT_PER_PAGE})]);case 3:case"end":return e.stop()}}),e)}))),r.onLoadMoreButtonClick=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.allTagsLoaded){e.next=5;break}q.a.success({message:"\u5df2\u52a0\u8f7d\u6240\u6709\u6807\u7b7e"}),e.next=7;break;case 5:return e.next=7,r.loadMoreTags();case 7:case"end":return e.stop()}}),e)}))),r.state={tags:[],loading:!1,nextLoadOffset:0,allTagsLoaded:!1},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMoreTags();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a,r){var s,c,o,i,l,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.props.match.params,c=s.username,o=s.repositoryName,i=this.props.match.params,l=i.username,d=i.repositoryName,c===l&&o===d){e.next=7;break}return e.next=5,this.setStatePromise({nextLoadOffset:0});case 5:return e.next=7,this.componentDidMount();case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.tags,a=e.loading;return Object(R.jsx)(U,{tags:t,loading:a,onLoadMoreButtonClick:this.onLoadMoreButtonClick})}}]),a}(p.PureComponent),Y=Object(E.j)(I)},971:function(e,t,a){"use strict";var r=a(5),n=a(0),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},c=a(13),o=function(e,t){return n.createElement(c.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:s}))};o.displayName="ClockCircleOutlined";t.a=n.forwardRef(o)}}]);
//# sourceMappingURL=36.fd6542e8.chunk.js.map