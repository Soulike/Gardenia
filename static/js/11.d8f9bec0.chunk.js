(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[11],{1051:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1053),i=a.n(o);t.a=r.a.memo((function(e){var t=e.children,a=e.required;return r.a.createElement("div",{className:i.a.InputLabel},t,r.a.createElement("span",{className:i.a.requiredSign},a?" *":""))}))},1053:function(e,t,a){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1054:function(e,t,a){"use strict";var n=a(1051);a.d(t,"a",(function(){return n.a}))},1055:function(e,t,a){e.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},1056:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),o=a(1055),i=a.n(o);var s=r.a.memo((function(e){var t=e.children;return r.a.createElement("h2",{className:i.a.SettingsTitle},t)}))},1076:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),o=a(1083),i=a.n(o),s=a(1017),c=a(1018);var l=r.a.memo((function(e){var t=e.warning,a=e.validateText,n=e.password,o=e.validateInputPlaceholder,l=e.onValidateInputChange,u=e.onPasswordInputChange,m=e.visible,d=e.onOk,p=e.onCancel,f=e.title,h=e.confirmLoading;return r.a.createElement(s.a,{confirmLoading:h,title:f,className:i.a.CriticalOperationConfirmModal,visible:m,onOk:d,onCancel:p,destroyOnClose:!0},r.a.createElement("div",{className:i.a.content},r.a.createElement("div",{className:i.a.fuckAutocomplete},r.a.createElement(c.a,{type:"text",value:"fuck autocomplete"}),r.a.createElement(c.a.Password,{value:"fuck autocomplete"})),r.a.createElement("div",{className:i.a.warningWrapper},t),r.a.createElement(c.a,{className:i.a.input,value:a,onChange:l,placeholder:o,autoFocus:!0,autoComplete:"off"}),r.a.createElement(c.a.Password,{className:i.a.input,placeholder:"\u8d26\u6237\u5bc6\u7801",value:n,onChange:u,autoComplete:"off"})))}))},1083:function(e,t,a){e.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",fuckAutocomplete:"Style_fuckAutocomplete__1RdJh",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1091:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},o=a(12),i=function(e,t){return n.createElement(o.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="LockOutlined";t.a=n.forwardRef(i)},1095:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),o=a(1249);var i=r.a.memo((function(e){var t=e.children;return r.a.createElement(o.b,{bordered:!0,split:!0},t)}))},1096:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),o=a(1249),i=a(84);var s=r.a.memo((function(e){var t=e.title,a=e.description,n=e.onButtonClick,s=e.buttonText;return r.a.createElement(o.b.Item,{extra:r.a.createElement(i.a,{type:"primary",danger:!0,onClick:n},s)},r.a.createElement(o.b.Item.Meta,{title:t,description:a}))}))},1153:function(e,t,a){e.exports={Options:"Style_Options__1uo9K",itemWrapper:"Style_itemWrapper__2NFs3"}},1154:function(e,t,a){e.exports={RepositoryName:"Style_RepositoryName__3_t91",label:"Style_label__1U8rk",input:"Style_input__3WUY0"}},1155:function(e,t,a){e.exports={Description:"Style_Description__3jlHf",textarea:"Style_textarea__iH3Cp",buttonWrapper:"Style_buttonWrapper__g906C"}},1156:function(e,t,a){},1236:function(e,t,a){"use strict";var n=a(0),r=a(5),o=a.n(r);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=c.F1&&t<=c.F12)return!1;switch(t){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=c.ZERO&&e<=c.NINE)return!0;if(e>=c.NUM_ZERO&&e<=c.NUM_MULTIPLY)return!0;if(e>=c.A&&e<=c.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},l=c;function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var f=n.forwardRef((function(e,t){var a,r=e.prefixCls,s=void 0===r?"rc-switch":r,c=e.className,d=e.checked,f=e.defaultChecked,h=e.disabled,b=e.loadingIcon,v=e.checkedChildren,E=e.unCheckedChildren,g=e.onClick,y=e.onChange,C=e.onKeyDown,N=p(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),O=m(function(e,t){var a=t||{},r=a.defaultValue,o=a.value,s=a.onChange,c=a.postState,l=i(n.useState((function(){return void 0!==o?o:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),u=l[0],m=l[1],d=void 0!==o?o:u;c&&(d=c(d));var p=n.useRef(!0);return n.useEffect((function(){p.current?p.current=!1:void 0===o&&m(o)}),[o]),[d,function(e){m(e),d!==e&&s&&s(e,d)}]}(!1,{value:d,defaultValue:f}),2),S=O[0],_=O[1];function w(e,t){var a=S;return h||(_(a=e),null===y||void 0===y||y(a,t)),a}var I=o()(s,c,(u(a={},"".concat(s,"-checked"),S),u(a,"".concat(s,"-disabled"),h),a));return n.createElement("button",Object.assign({},N,{type:"button",role:"switch","aria-checked":S,disabled:h,className:I,ref:t,onKeyDown:function(e){e.which===l.LEFT?w(!1,e):e.which===l.RIGHT&&w(!0,e),null===C||void 0===C||C(e)},onClick:function(e){var t=w(!S,e);null===g||void 0===g||g(t,e)}}),b,n.createElement("span",{className:"".concat(s,"-inner")},S?v:E))}));f.displayName="Switch";var h=f,b=a(34),v=a(115),E=a.n(v),g=a(228),y=a(86),C=a(83),N=a(57);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=n.forwardRef((function(e,t){var a;Object(N.a)("checked"in e||!("value"in e),"Switch","`value` is not a valid prop, do you mean `checked`?");var r=e.prefixCls,i=e.size,s=e.loading,c=e.className,l=void 0===c?"":c,u=e.disabled,m=n.useContext(y.b),d=m.getPrefixCls,p=m.direction,f=n.useContext(C.b),v=d("switch",r),_=n.createElement("div",{className:"".concat(v,"-handle")},s&&n.createElement(E.a,{className:"".concat(v,"-loading-icon")})),w=o()(l,(S(a={},"".concat(v,"-small"),"small"===(i||f)),S(a,"".concat(v,"-loading"),s),S(a,"".concat(v,"-rtl"),"rtl"===p),a));return n.createElement(g.a,{insertExtraNode:!0},n.createElement(h,O({},Object(b.a)(e,["loading"]),{prefixCls:v,className:w,disabled:u||s,ref:t,loadingIcon:_})))}));_.__ANT_SWITCH=!0;t.a=_},1245:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ce}));var n=a(1),r=a.n(n),o=a(3),i=a(7),s=a(9),c=a(18),l=a(17),u=a(0),m=a.n(u),d=a(1153),p=a.n(d),f=a(1056),h=a(1154),b=a.n(h),v=a(234),E=a(1018),g=a(1014),y=a(84),C=a(1054),N=a(141);function O(e,t){return 0===e.length||t}var S=m.a.memo((function(e){var t=e.repositoryName,a=e.onRenameConfirm,n=e.onRepositoryNameInputChange,r=e.submitting;return m.a.createElement("div",{className:b.a.RepositoryName},m.a.createElement("label",{className:b.a.label},m.a.createElement(C.a,null,"\u4ed3\u5e93\u540d"),m.a.createElement(v.a,{trigger:"focus",title:N.c.Repository.NAME},m.a.createElement(E.a,{className:b.a.input,value:t,onChange:n,disabled:r})),m.a.createElement(g.a,{title:"\u91cd\u547d\u540d\u4ed3\u5e93\u4f1a\u5bfc\u81f4\u539f\u4ed3\u5e93\u7f51\u5740\u4e0e\u514b\u9686\u8def\u5f84\u5931\u6548\uff0c\u786e\u5b9a\u7ee7\u7eed\uff1f",onConfirm:a,disabled:O(t,r)},m.a.createElement(y.a,{className:b.a.button,loading:r,disabled:O(t,r)},"\u91cd\u547d\u540d"))))})),_=a(42),w=a(20),I=a(1011),P=a(329),M=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).onRepositoryNameInputChange=function(e){n.setState({repositoryName:e.target.value})},n.onRenameConfirm=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.validateParameters()){e.next=5;break}return n.setState({submitting:!0}),e.next=4,n.submit();case 4:n.setState({submitting:!1});case 5:case"end":return e.stop()}}),e)}))),n.validateParameters=function(){var e=n.state.repositoryName;return!!N.b.Repository.name(e)||(I.a.warn({message:N.a.Repository.NAME,description:N.c.Repository.NAME}),!1)},n.submit=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.repositoryName,a=n.props.match.params.repository,e.next=4,P.a.setName({name:a},{name:t});case 4:null!==e.sent&&n.onSubmitSuccess();case 6:case"end":return e.stop()}}),e)}))),n.onSubmitSuccess=function(){I.a.success({message:"\u4ed3\u5e93\u91cd\u547d\u540d\u6210\u529f"});var e=n.props.history,t=n.props.match.params.username,a=n.state.repositoryName;return e.replace(w.Function.generateRepositorySettingsOptionsRoute({username:t,repository:a}))};var s=e.match.params.repository;return n.state={repositoryName:s,submitting:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.repositoryName,a=e.submitting;return m.a.createElement(S,{repositoryName:t,onRenameConfirm:this.onRenameConfirm,onRepositoryNameInputChange:this.onRepositoryNameInputChange,submitting:a})}}]),a}(u.PureComponent),k=Object(_.f)(M),R=a(1155),x=a.n(R),A=a(1012);var T=m.a.memo((function(e){var t=e.description,a=e.onSubmit,n=e.onTextareaChange,r=e.loading,o=e.submitting;return m.a.createElement("div",{className:x.a.Description},m.a.createElement("label",null,m.a.createElement(C.a,null,"\u4ed3\u5e93\u63cf\u8ff0"),m.a.createElement(A.a,{spinning:r},m.a.createElement(E.a.TextArea,{disabled:r||o,value:t,className:x.a.textarea,onChange:n}))),m.a.createElement("div",{className:x.a.buttonWrapper},m.a.createElement(y.a,{loading:o,disabled:r||o,className:x.a.button,onClick:a},"\u786e\u5b9a")))})),U=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onTextareaChange=function(e){n.setState({description:e.target.value})},n.onSubmit=Object(o.a)(r.a.mark((function e(){var t,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.description,a=n.props.match.params.repository,n.setState({submitting:!0}),e.next=5,P.a.setDescription({name:a,description:t});case 5:o=e.sent,n.setState({submitting:!1}),null!==o&&I.a.success({message:"\u4ed3\u5e93\u63cf\u8ff0\u4fee\u6539\u6210\u529f"});case 8:case"end":return e.stop()}}),e)}))),n.state={description:"",submitting:!1},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.repository.description,o=n.loading;e.loading&&o&&this.setState({description:r})}},{key:"render",value:function(){var e=this.props.loading,t=this.state,a=t.description,n=t.submitting;return m.a.createElement(T,{submitting:n,loading:e,description:a,onTextareaChange:this.onTextareaChange,onSubmit:this.onSubmit})}}]),a}(u.PureComponent),j=Object(_.f)(U),L=a(1156),F=a.n(L),H=a(1236),V=a(1076),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},K=a(12),W=function(e,t){return u.createElement(K.a,Object.assign({},e,{ref:t,icon:D}))};W.displayName="UnlockOutlined";var G=u.forwardRef(W),B=a(1091);var Q=m.a.memo((function(e){var t=e.loading,a=e.isPublic,n=e.onSwitchChange,r=e.modalRepositoryName,o=e.modalPassword,i=e.onModalRepositoryNameInputChange,s=e.onModalPasswordInputChange,c=e.modalVisible,l=e.onModalOk,u=e.onModalCancel;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:F.a.AccessibilitySwitch},m.a.createElement(C.a,null,"\u662f\u5426\u516c\u5f00"),m.a.createElement(H.a,{loading:t,checked:a,disabled:t,onChange:n,checkedChildren:m.a.createElement(m.a.Fragment,null,m.a.createElement(G,null)," \u516c\u5f00"),unCheckedChildren:m.a.createElement(m.a.Fragment,null,m.a.createElement(B.a,null)," \u79c1\u6709")})),m.a.createElement(V.a,{confirmLoading:t,title:"\u53ef\u89c1\u6027\u5207\u6362\u786e\u8ba4",warning:m.a.createElement("strong",null,"\u5c06\u4ed3\u5e93\u6539\u4e3a\u516c\u6709\u5c06\u4f1a\u8ba9",m.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4eba"),"\u770b\u5230\u4ed3\u5e93\u5185\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u540d",validateText:r,password:o,visible:c,onPasswordInputChange:s,onValidateInputChange:i,onOk:l,onCancel:u}))})),z=a(29),Y=a(125),Z=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onSwitchChange=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=n.state.isPublic)||!t){e.next=5;break}n.setState({modalVisible:!0}),e.next=8;break;case 5:if(!a||t){e.next=8;break}return e.next=8,n.setIsPublic(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onModalRepositoryNameInputChange=function(e){n.setState({modalRepositoryName:e.target.value})},n.onModalPasswordInputChange=function(e){n.setState({modalPassword:e.target.value})},n.onModalOk=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c,l,u,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,a=t.repository,o=t.username,i=n.state,s=i.modalRepositoryName,c=i.modalPassword,l=i.isPublic,a===s){e.next=6;break}I.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=19;break;case 6:return u=Y.a.calculateHash(o,c),e.next=9,z.a.checkPassword({hash:u});case 9:if(null===(m=e.sent)){e.next=19;break}if(!m.isCorrect){e.next=18;break}return e.next=15,n.setIsPublic(!l);case 15:n.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""}),e.next=19;break;case 18:I.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 19:case"end":return e.stop()}}),e)}))),n.onModalCancel=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modalVisible:!1,modalRepositoryName:"",modalPassword:""});case 1:case"end":return e.stop()}}),e)}))),n.setIsPublic=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.match.params.repository,n.state.isPublic===t){e.next=9;break}return n.setState({submitting:!0}),e.next=6,z.i.setIsPublic({name:a,isPublic:t});case 6:null!==e.sent&&window.location.reload(),n.setState({submitting:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={submitting:!1,isPublic:!0,modalRepositoryName:"",modalPassword:"",modalVisible:!1},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.repository.isPublic,o=n.loading;e.loading&&o&&this.setState({isPublic:r})}},{key:"render",value:function(){var e=this.state,t=e.submitting,a=e.isPublic,n=e.modalRepositoryName,r=e.modalPassword,o=e.modalVisible,i=this.props.loading;return m.a.createElement(Q,{loading:t||i,isPublic:a,modalRepositoryName:n,modalPassword:r,modalVisible:o,onSwitchChange:this.onSwitchChange,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),a}(u.PureComponent),J=Object(_.f)(Z),X=a(1096);var q=m.a.memo((function(e){var t=e.onButtonClick,a=e.modalRepositoryName,n=e.modalPassword,r=e.onModalRepositoryNameInputChange,o=e.onModalPasswordInputChange,i=e.onModalOk,s=e.onModalCancel,c=e.modalVisible,l=e.modalConfirmLoading;return m.a.createElement(m.a.Fragment,null,m.a.createElement(X.a,{buttonText:"\u5220\u9664\u4ed3\u5e93",title:"\u5220\u9664\u4ed3\u5e93",description:"\u5220\u9664\u4ed3\u5e93\u7684\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u614e\u91cd\u3002",onButtonClick:t}),m.a.createElement(V.a,{warning:m.a.createElement("strong",null,"\u5982\u679c\u4ed3\u5e93\u88ab\u5220\u9664\uff0c\u60a8\u5c06\u4e22\u5931\u4ed3\u5e93\u7684\u6587\u4ef6\u3001\u63d0\u4ea4\u8bb0\u5f55\u7b49",m.a.createElement("span",{style:{color:"red"}},"\u6240\u6709\u4fe1\u606f"),"\uff0c\u4e14\u5220\u9664\u6210\u529f\u540e\u6ca1\u6709\u6062\u590d\u7684\u53ef\u80fd\u3002\u8bf7\u5728\u4e0b\u65b9\u8f93\u5165\u672c\u4ed3\u5e93\u7684\u540d\u5b57\u548c\u60a8\u7684\u5bc6\u7801\u4ee5\u786e\u8ba4\u64cd\u4f5c\u3002"),validateInputPlaceholder:"\u4ed3\u5e93\u7684\u540d\u5b57",title:"\u5220\u9664\u4ed3\u5e93\u786e\u8ba4",validateText:a,password:n,onValidateInputChange:r,onPasswordInputChange:o,onOk:i,onCancel:s,visible:c,confirmLoading:l}))})),$=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onButtonClick=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modalRepositoryName:"",modalPassword:"",modalVisible:!0});case 1:case"end":return e.stop()}}),e)}))),n.onModalRepositoryNameInputChange=function(e){n.setState({modalRepositoryName:e.target.value})},n.onModalPasswordInputChange=function(e){n.setState({modalPassword:e.target.value})},n.onModalOk=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c,l,u,m,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.match.params,o=a.repository,i=a.username,s=t.history,c=n.state,l=c.modalRepositoryName,u=c.modalPassword,o===l){e.next=6;break}I.a.warn({message:"\u4ed3\u5e93\u540d\u4e0d\u6b63\u786e"}),e.next=25;break;case 6:return m=Y.a.calculateHash(i,u),n.setState({modalConfirmLoading:!0}),e.next=10,z.a.checkPassword({hash:m});case 10:if(null===(d=e.sent)){e.next=24;break}if(!d.isCorrect){e.next=23;break}return e.next=16,z.h.del({name:o});case 16:if(null===e.sent){e.next=21;break}return I.a.success({message:"\u4ed3\u5e93\u5220\u9664\u6210\u529f"}),n.setState({modalVisible:!1}),e.abrupt("return",s.replace(w.Function.generatePersonalCenterRoute({username:i})));case 21:e.next=24;break;case 23:I.a.warn({message:"\u5bc6\u7801\u4e0d\u6b63\u786e"});case 24:n.setState({modalConfirmLoading:!1});case 25:case"end":return e.stop()}}),e)}))),n.onModalCancel=function(){n.setState({modalVisible:!1})},n.state={modalRepositoryName:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.modalConfirmLoading,a=e.modalVisible,n=e.modalPassword,r=e.modalRepositoryName;return m.a.createElement(q,{onButtonClick:this.onButtonClick,modalConfirmLoading:t,modalVisible:a,modalPassword:n,modalRepositoryName:r,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalRepositoryNameInputChange:this.onModalRepositoryNameInputChange})}}]),a}(u.PureComponent),ee=Object(_.f)($),te=a(1095);var ae=m.a.memo((function(){return m.a.createElement(te.a,null,m.a.createElement(ee,null))}));var ne=m.a.memo((function(e){var t=e.repository,a=e.loading;return m.a.createElement("div",{className:p.a.Options},m.a.createElement(f.a,null,"\u9009\u9879"),m.a.createElement("div",{className:p.a.itemWrapper},m.a.createElement(k,null)),m.a.createElement("div",{className:p.a.itemWrapper},m.a.createElement(J,{repository:t,loading:a})),m.a.createElement("div",{className:p.a.itemWrapper},m.a.createElement(j,{repository:t,loading:a})),m.a.createElement(f.a,null,m.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533a")),m.a.createElement(ae,null))})),re=a(89),oe=w.CONFIG.PAGE_ID,ie=w.CONFIG.PAGE_ID_TO_ROUTE,se=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setStatePromise=Object(re.promisify)(n.setState),n.loadRepository=Object(o.a)(r.a.mark((function e(){var t,a,o,i,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match.params,o=a.repository,i=a.username,s=t.history,e.next=3,P.a.repository({username:i},{name:o});case 3:if(null===(c=e.sent)){e.next=9;break}return e.next=7,n.setStatePromise({repository:c});case 7:e.next=10;break;case 9:return e.abrupt("return",s.replace(ie[oe.NOT_FOUND]));case 10:case"end":return e.stop()}}),e)}))),n.state={repository:new Y.h("","","",!0),loading:!0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadRepository();case 4:return e.next=6,this.setStatePromise({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.loading;return m.a.createElement(ne,{repository:t,loading:a})}}]),a}(u.PureComponent),ce=Object(_.f)(se)}}]);
//# sourceMappingURL=11.d8f9bec0.chunk.js.map