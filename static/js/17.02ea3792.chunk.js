(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[17],{1114:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},1115:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},1116:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},1117:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}n.d(t,"a",(function(){return a}))},1118:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return a}))},1122:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},a=/%[sdj%]/g;t.format=function(e){if(!h(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(e).replace(a,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),c=r[n];n<o;c=r[++n])d(c)||!E(c)?i+=" "+c:i+=" "+s(c);return i},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),a=!0}return n.apply(this,arguments)}};var o,i={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(r,e);return h(a)||(a=l(e,a,r)),a}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(h(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}(e,n);if(o)return o;var i=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),O(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return p(n);if(0===i.length){if(_(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return p(n)}var u,E="",k=!1,j=["{","}"];(m(n)&&(k=!0,j=["[","]"]),_(n))&&(E=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(E=" "+RegExp.prototype.toString.call(n)),S(n)&&(E=" "+Date.prototype.toUTCString.call(n)),O(n)&&(E=" "+p(n)),0!==i.length||k&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=k?function(e,t,n,r,a){for(var o=[],i=0,s=t.length;i<s;++i)x(t,String(i))?o.push(f(e,t,n,r,String(i),!0)):o.push("");return a.forEach((function(a){a.match(/^\d+$/)||o.push(f(e,t,n,r,a,!0))})),o}(e,n,r,s,i):i.map((function(t){return f(e,n,r,s,t,k)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,E,j)):j[0]+E+j[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,a,o){var i,s,c;if((c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),x(r,a)||(i="["+a+"]"),s||(e.seen.indexOf(c.value)<0?(s=d(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(i)){if(o&&a.match(/^\d+$/))return s;(i=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function m(e){return Array.isArray(e)}function y(e){return"boolean"===typeof e}function d(e){return null===e}function b(e){return"number"===typeof e}function h(e){return"string"===typeof e}function g(e){return void 0===e}function v(e){return E(e)&&"[object RegExp]"===k(e)}function E(e){return"object"===typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===k(e)}function O(e){return E(e)&&("[object Error]"===k(e)||e instanceof Error)}function _(e){return"function"===typeof e}function k(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(o)&&(o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG||""),n=n.toUpperCase(),!i[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;i[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else i[n]=function(){};return i[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=y,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=h,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=g,t.isRegExp=v,t.isObject=E,t.isDate=S,t.isError=O,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(1126);var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),w[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=n(1127),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!==typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);a.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,a)}catch(i){n(i)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var a=n.pop();if("function"!==typeof a)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return a.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(i,null,t)}),(function(t){e.nextTick(T,t,i)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(96))},1126:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},1127:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},1132:function(e,t,n){e.exports={AccessibilityTag:"Style_AccessibilityTag__4cAHc"}},1137:function(e,t,n){"use strict";n(181);var r=n(56),a=n(1138),o=n(0),i=n.n(o),s=n(1132),c=n.n(s);var u=i.a.memo((function(e){var t=e.isPublic,n=Object(a.a)(e,["isPublic"]);return t?i.a.createElement(r.a,Object.assign({className:c.a.AccessibilityTag,color:"blue"},n),"\u516c\u5171"):i.a.createElement(r.a,Object.assign({className:c.a.AccessibilityTag,color:"gold"},n),"\u79c1\u4eba")}));n.d(t,"a",(function(){return u}))},1138:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return r}))},1261:function(e,t,n){e.exports={Repository:"Style_Repository__3C5oN",header:"Style_header__2LCJa",tabContent:"Style_tabContent__1JPyK",basicInfo:"Style_basicInfo__1CY_5",tag:"Style_tag__2txb4",usernameAndNameWrapper:"Style_usernameAndNameWrapper__zhZl-",usernameAndName:"Style_usernameAndName__21Dhj",forkFrom:"Style_forkFrom__gove8",text:"Style_text__3RKOo",buttonArea:"Style_buttonArea__WAwmq",buttonWrapper:"Style_buttonWrapper__3rI5T",tab:"Style_tab__2Ycb5"}},1262:function(e,t,n){},1324:function(e,t,n){"use strict";n.r(t);var r,a=n(3),o=n.n(a),i=n(7),s=n(1114),c=n(1115),u=n(1117),l=n(1116),p=n(1118),f=n(0),m=n.n(f),y=(n(181),n(56)),d=(n(263),n(91)),b=n(1261),h=n.n(b),g=n(1137),v=n(15),E=n(32);!function(e){e.CODE="CODE",e.ISSUES="ISSUES",e.PULL_REQUESTS="PULL_REQUESTS",e.SETTINGS="SETTINGS"}(r||(r={}));var S=r,O=(n(95),n(42)),_=n(38),k=n.n(_),j=n(66),w=n(16),P=n(23),x=n(75),A=n(74),T=n(76),R=(n(340),n(156)),N=(n(94),n(25)),I=n(1262),C=n.n(I),D=n(97),F=n(1099);var U=m.a.memo((function(e){var t=e.onClick,n=e.forkAmount,r=e.loading;return m.a.createElement(N.a.Group,{className:C.a.ForkButton,size:"small"},m.a.createElement(N.a,{onClick:t,disabled:r,loading:r},m.a.createElement(F.a,null),"Fork"),m.a.createElement(R.a,{title:n},m.a.createElement(N.a,{disabled:r},D.d.getNumberAbbreviation(n))))})),L=n(45),z=n(132),G=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).loadForkAmount=Object(j.a)(k.a.mark((function e(){var t,r,a,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.username,a=t.repository,e.next=3,L.h.forkAmount({username:r,name:a});case 3:null!==(o=e.sent)&&(i=o.amount,n.setState({forkAmount:i}));case 5:case"end":return e.stop()}}),e)}))),n.onClick=Object(j.a)(k.a.mark((function e(){var t,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),t=n.props.match.params,r=t.username,a=t.repository,e.next=4,L.g.fork({username:r,name:a});case 4:null!==e.sent&&O.a.success({message:"fork \u6210\u529f",description:"\u53ef\u524d\u5f80\u4e2a\u4eba\u4e2d\u5fc3\u4ed3\u5e93\u5217\u8868\u67e5\u770b"}),n.setState({loading:!1});case 7:case"end":return e.stop()}}),e)}))),n.state={forkAmount:0,loading:!1},n}return Object(T.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e=Object(j.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.loadForkAmount();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.forkAmount,n=e.loading;return m.a.createElement(U,{onClick:this.onClick,forkAmount:t,loading:n})}}]),t}(f.PureComponent),K=Object(z.f)(G),M=n(1101),q={name:"exclamation-circle",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]}},W=n(12),B=function(e,t){return m.a.createElement(W.a,Object.assign({},e,{ref:t,icon:q}))};B.displayName="ExclamationCircleOutlined";var H=m.a.forwardRef(B),J=n(1105),Q=n(1094),V={name:"star",theme:"filled",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]}},$=function(e,t){return m.a.createElement(W.a,Object.assign({},e,{ref:t,icon:V}))};$.displayName="StarFilled";var Y=m.a.forwardRef($),Z={name:"star",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]}},X=function(e,t){return m.a.createElement(W.a,Object.assign({},e,{ref:t,icon:Z}))};X.displayName="StarOutlined";var ee=m.a.forwardRef(X);var te=m.a.memo((function(e){var t=e.hasStared,n=e.starAmount,r=e.loading,a=e.onClick;return m.a.createElement(N.a.Group,{size:"small"},m.a.createElement(N.a,{onClick:a,loading:r,disabled:r},t?m.a.createElement(m.a.Fragment,null,m.a.createElement(Y,null)," Unstar"):m.a.createElement(m.a.Fragment,null,m.a.createElement(ee,null)," Star")),m.a.createElement(R.a,{title:n},m.a.createElement(N.a,null,D.d.getNumberAbbreviation(n))))})),ne=n(1122),re=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).setStatePromise=Object(ne.promisify)(n.setState),n.loadHasStared=Object(i.a)(o.a.mark((function e(){var t,r,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.username,a=t.repository,e.next=3,L.i.isStaredRepository({username:r,name:a});case 3:if(null===(i=e.sent)){e.next=8;break}return s=i.isStared,e.next=8,n.setStatePromise({hasStared:s});case 8:case"end":return e.stop()}}),e)}))),n.loadStarAmount=Object(i.a)(o.a.mark((function e(){var t,r,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.username,a=t.repository,e.next=3,L.i.getRepositoryStarAmount({username:r,name:a});case 3:if(null===(i=e.sent)){e.next=8;break}return s=i.amount,e.next=8,n.setStatePromise({starAmount:s});case 8:case"end":return e.stop()}}),e)}))),n.onClick=Object(i.a)(o.a.mark((function e(){var t,r,a,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,r=t.hasStared,a=t.starAmount,i=n.props.match.params,s=i.username,c=i.repository,e.next=4,n.setStatePromise({loading:!0});case 4:if(!r){e.next=13;break}return e.next=7,L.i.remove({username:s,name:c});case 7:if(null===e.sent){e.next=11;break}return e.next=11,n.setStatePromise({hasStared:!1,starAmount:a-1});case 11:e.next=19;break;case 13:return e.next=15,L.i.add({username:s,name:c});case 15:if(null===e.sent){e.next=19;break}return e.next=19,n.setStatePromise({hasStared:!0,starAmount:a+1});case 19:return e.next=21,n.setStatePromise({loading:!1});case 21:case"end":return e.stop()}}),e)}))),n.state={hasStared:!1,starAmount:0,loading:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,Promise.all([this.loadHasStared(),this.loadStarAmount()]);case 4:return e.next=6,this.setStatePromise({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n,r){var a,i,s,c,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.match.params,i=a.username,s=a.repository,c=t.match.params,u=c.username,l=c.repository,i===u&&s===l){e.next=5;break}return e.next=5,this.componentDidMount();case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.hasStared,n=e.loading,r=e.starAmount;return m.a.createElement(te,{hasStared:t,loading:n,starAmount:r,onClick:this.onClick})}}]),t}(f.PureComponent),ae=Object(z.f)(re),oe=n(47);var ie=m.a.memo(Object(oe.b)((function(e){return{isLoggedIn:e.Root.isLoggedIn}}))((function(e){var t=e.repository,n=t.username,r=t.name,a=t.isPublic,o=e.forkFrom,i=e.loading,s=e.onTabChange,c=e.tabActiveKey,u=e.showSettings,l=e.children,p=e.openPullRequestAmount,f=e.openIssueAmount,b=e.isLoggedIn;return i?null:m.a.createElement("div",{className:h.a.Repository},m.a.createElement("div",{className:h.a.header},m.a.createElement("div",{className:h.a.basicInfo},m.a.createElement("div",{className:h.a.tag},m.a.createElement(g.a,{isPublic:a})),m.a.createElement("div",{className:h.a.usernameAndNameWrapper},m.a.createElement("div",{className:h.a.usernameAndName},m.a.createElement(v.b,{to:E.Function.generatePersonalCenterRoute({username:n})},n)," / ",m.a.createElement(v.b,{to:E.Function.generateRepositoryCodeRoute({username:n,repository:r})},m.a.createElement("b",null,r))),m.a.createElement("div",{className:h.a.forkFrom},null===o?null:m.a.createElement("div",{className:h.a.forkFrom},m.a.createElement("div",{className:h.a.text},"fork \u81ea"),m.a.createElement(v.b,{to:E.Function.generatePersonalCenterRoute({username:o.username})},o.username)," / ",m.a.createElement(v.b,{to:E.Function.generateRepositoryCodeRoute({username:o.username,repository:o.name})},m.a.createElement("b",null,o.name)))))),m.a.createElement("div",{className:h.a.buttonArea},b?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:h.a.buttonWrapper},m.a.createElement(ae,null)),m.a.createElement("div",{className:h.a.buttonWrapper},m.a.createElement(K,null))):null)),m.a.createElement(d.a,{defaultActiveKey:S.CODE,type:"card",className:h.a.tab,tabBarStyle:{padding:"0 calc(50% - 500px)",margin:"0"},onChange:s,activeKey:c},m.a.createElement(d.a.TabPane,{tab:m.a.createElement(m.a.Fragment,null,m.a.createElement(M.a,null),"\u4ee3\u7801"),key:S.CODE},m.a.createElement("div",{className:h.a.tabContent},l)),m.a.createElement(d.a.TabPane,{tab:m.a.createElement(m.a.Fragment,null,m.a.createElement(H,null),"Issues ",m.a.createElement(y.a,{className:h.a.tag},f)),key:S.ISSUES},m.a.createElement("div",{className:h.a.tabContent},l)),m.a.createElement(d.a.TabPane,{tab:m.a.createElement(m.a.Fragment,null,m.a.createElement(J.a,null),"Pull Requests ",m.a.createElement(y.a,{className:h.a.tag},p)),key:S.PULL_REQUESTS},m.a.createElement("div",{className:h.a.tabContent},l)),u?m.a.createElement(d.a.TabPane,{tab:m.a.createElement(m.a.Fragment,null,m.a.createElement(Q.a,null),"\u8bbe\u7f6e"),key:S.SETTINGS},m.a.createElement("div",{className:h.a.tabContent},l)):null))}))),se=n(115),ce=n(1),ue=n(215),le=n(20),pe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).setTitle=function(){var e=n.props.match.params,t=e.username,r=e.repository;document.title="".concat(t,"/").concat(r," - ").concat(ue.a.NAME)},n.loadOpenIssueAmount=Object(i.a)(o.a.mark((function e(){var t,r,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.username,a=t.repository,e.next=3,L.d.getAmountByRepository({username:r,name:a},le.a.OPEN);case 3:null!==(i=e.sent)&&(s=i.amount,n.setState({openIssueAmount:s}));case 5:case"end":return e.stop()}}),e)}))),n.loadOpenPullRequestAmount=Object(i.a)(o.a.mark((function e(){var t,r,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.username,a=t.repository,e.next=3,L.f.getPullRequestAmount({username:r,name:a},le.c.OPEN);case 3:null!==(i=e.sent)&&(s=i.amount,n.setState({openPullRequestAmount:s}));case 5:case"end":return e.stop()}}),e)}))),n.loadRepository=Object(i.a)(o.a.mark((function e(){var t,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.username,a=t.repository,e.next=3,L.h.repository({username:r},{name:a});case 3:null!==(i=e.sent)&&n.setState({repository:i});case 5:case"end":return e.stop()}}),e)}))),n.loadForkFrom=Object(i.a)(o.a.mark((function e(){var t,r,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,r=t.username,a=t.repository,e.next=3,L.h.forkFrom({username:r,name:a});case 3:null!==(i=e.sent)&&(s=i.repository,n.setState({forkFrom:s}));case 5:case"end":return e.stop()}}),e)}))),n.loadVisitorProfile=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.e.get();case 2:null!==(t=e.sent)&&n.setState({visitorProfile:t});case 4:case"end":return e.stop()}}),e)}))),n.setTabActiveKey=function(){var e=n.props.match.path,t=ce.PAGE_ID.REPOSITORY,r=t.REPOSITORY,a=t.CODE,o=t.ISSUES,i=t.ISSUE,s=t.CREATE_ISSUE,c=t.PULL_REQUESTS,u=t.PULL_REQUEST,l=t.SETTINGS,p=t.CONFLICT;switch(e){case ce.PAGE_ID_TO_ROUTE[a]:case ce.PAGE_ID_TO_ROUTE[r]:n.setState({tabActiveKey:S.CODE});break;case ce.PAGE_ID_TO_ROUTE[s]:case ce.PAGE_ID_TO_ROUTE[i]:case ce.PAGE_ID_TO_ROUTE[o]:n.setState({tabActiveKey:S.ISSUES});break;case ce.PAGE_ID_TO_ROUTE[u]:case ce.PAGE_ID_TO_ROUTE[c]:case ce.PAGE_ID_TO_ROUTE[p]:n.setState({tabActiveKey:S.PULL_REQUESTS});break;case ce.PAGE_ID_TO_ROUTE[l.SETTINGS]:n.setState({tabActiveKey:S.SETTINGS})}},n.onTabChange=function(e){var t=n.props.history,r=n.state.repository,a=r.username,o=r.name;switch(e){case S.CODE:t.push(E.Function.generateRepositoryCodeRoute({username:a,repository:o}));break;case S.ISSUES:t.push(E.Function.generateRepositoryIssuesRoute({username:a,repository:o}));break;case S.PULL_REQUESTS:t.push(E.Function.generateRepositoryPullRequestsRoute({username:a,repository:o}));break;case S.SETTINGS:t.push(E.Function.generateRepositorySettingsRoute({username:a,repository:o}));break;default:return}},n.state={repository:new se.h("","","",!0),loading:!0,tabActiveKey:S.CODE,visitorProfile:null,forkFrom:null,openPullRequestAmount:0,openIssueAmount:0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.isLoggedIn,this.setTitle(),this.setTabActiveKey(),this.setState({loading:!0}),e.next=6,Promise.all([this.loadRepository(),this.loadForkFrom(),this.loadOpenPullRequestAmount(),this.loadOpenIssueAmount()]);case 6:if(!t){e.next=9;break}return e.next=9,this.loadVisitorProfile();case 9:this.setState({loading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n,r){var a,i,s,c,u,l,p,f,m,y,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,i=a.location.pathname,s=a.isLoggedIn,c=a.match.params,u=c.repository,l=c.username,p=t.location.pathname,f=t.isLoggedIn,m=t.match.params,y=m.repository,d=m.username,u===y&&l===d){e.next=5;break}return e.next=5,this.componentDidMount();case 5:if(i!==p&&this.setTabActiveKey(),!s||f){e.next=9;break}return e.next=9,this.loadVisitorProfile();case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,n=e.loading,r=e.tabActiveKey,a=e.visitorProfile,o=e.forkFrom,i=e.openPullRequestAmount,s=e.openIssueAmount,c=this.props,u=c.children,l=c.isLoggedIn;return m.a.createElement(ie,{showSettings:l&&null!==a&&t.username===a.username,repository:t,loading:n,onTabChange:this.onTabChange,tabActiveKey:r,forkFrom:o,openPullRequestAmount:i,openIssueAmount:s},u)}}]),t}(f.PureComponent),fe=Object(oe.b)((function(e){return{isLoggedIn:e.Root.isLoggedIn}}))(pe);n.d(t,"default",(function(){return fe}))}}]);
//# sourceMappingURL=17.02ea3792.chunk.js.map