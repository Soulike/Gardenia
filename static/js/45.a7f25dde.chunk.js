(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[45],{1009:function(e,t,a){e.exports={Code:"Style_Code__21-ZH",description:"Style_description__2MbQ1",buttonWrapper:"Style_buttonWrapper__12jZU",leftButtonWrapper:"Style_leftButtonWrapper__255ZA",newPullRequestButtonWrapper:"Style_newPullRequestButtonWrapper__1SU7q"}},1290:function(e,t,a){"use strict";var r=a(5),n=a(4),c=a(27),s=a(0),i=a(7),o=a.n(i),l=function(e){var t=e.prefixCls,a=e.className,r=e.width,c=e.style;return s.createElement("h3",{className:o()(t,a),style:Object(n.a)({width:r},c)})},u=a(14),m=function(e){var t=function(t){var a=e.width,r=e.rows,n=void 0===r?2:r;return Array.isArray(a)?a[t]:n-1===t?a:void 0},a=e.prefixCls,r=e.className,n=e.style,c=e.rows,i=Object(u.a)(Array(c)).map((function(e,a){return s.createElement("li",{key:a,style:{width:t(a)}})}));return s.createElement("ul",{className:o()(a,r),style:n},i)},p=a(100),f=function(e){var t,a,c=e.prefixCls,i=e.className,l=e.style,u=e.size,m=e.shape,p=o()((t={},Object(r.a)(t,"".concat(c,"-lg"),"large"===u),Object(r.a)(t,"".concat(c,"-sm"),"small"===u),t)),f=o()((a={},Object(r.a)(a,"".concat(c,"-circle"),"circle"===m),Object(r.a)(a,"".concat(c,"-square"),"square"===m),Object(r.a)(a,"".concat(c,"-round"),"round"===m),a)),b="number"===typeof u?{width:u,height:u,lineHeight:"".concat(u,"px")}:{};return s.createElement("span",{className:o()(c,p,f,i),style:Object(n.a)(Object(n.a)({},b),l)})},b=a(43),d=function(e){var t=function(t){var a=t.getPrefixCls,c=e.prefixCls,i=e.className,l=e.active,u=a("skeleton",c),m=Object(b.a)(e,["prefixCls"]),p=o()(u,"".concat(u,"-element"),Object(r.a)({},"".concat(u,"-active"),l),i);return s.createElement("div",{className:p},s.createElement(f,Object(n.a)({prefixCls:"".concat(u,"-avatar")},m)))};return s.createElement(p.a,null,t)};d.defaultProps={size:"default",shape:"circle"};var h=d,v=function(e){var t=function(t){var a=t.getPrefixCls,c=e.prefixCls,i=e.className,l=e.active,u=a("skeleton",c),m=Object(b.a)(e,["prefixCls"]),p=o()(u,"".concat(u,"-element"),Object(r.a)({},"".concat(u,"-active"),l),i);return s.createElement("div",{className:p},s.createElement(f,Object(n.a)({prefixCls:"".concat(u,"-button")},m)))};return s.createElement(p.a,null,t)};v.defaultProps={size:"default"};var j=v,x=function(e){var t=function(t){var a=t.getPrefixCls,c=e.prefixCls,i=e.className,l=e.active,u=a("skeleton",c),m=Object(b.a)(e,["prefixCls"]),p=o()(u,"".concat(u,"-element"),Object(r.a)({},"".concat(u,"-active"),l),i);return s.createElement("div",{className:p},s.createElement(f,Object(n.a)({prefixCls:"".concat(u,"-input")},m)))};return s.createElement(p.a,null,t)};x.defaultProps={size:"default"};var O=x,y=function(e){var t=function(t){var a=t.getPrefixCls,r=e.prefixCls,n=e.className,c=e.style,i=a("skeleton",r),l=o()(i,"".concat(i,"-element"),n);return s.createElement("div",{className:l},s.createElement("div",{className:o()("".concat(i,"-image"),n),style:c},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(i,"-image-svg")},s.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(i,"-image-path")}))))};return s.createElement(p.a,null,t)};function g(e){return e&&"object"===Object(c.a)(e)?e:{}}var N=function(e){var t=function(t){var a=t.getPrefixCls,c=t.direction,i=e.prefixCls,u=e.loading,p=e.className,b=e.children,d=e.avatar,h=e.title,v=e.paragraph,j=e.active,x=e.round,O=a("skeleton",i);if(u||!("loading"in e)){var y,N,C,w=!!d,k=!!h,E=!!v;if(w){var P=Object(n.a)(Object(n.a)({prefixCls:"".concat(O,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(k,E)),g(d));N=s.createElement("div",{className:"".concat(O,"-header")},s.createElement(f,P))}if(k||E){var q,z;if(k){var S=Object(n.a)(Object(n.a)({prefixCls:"".concat(O,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(w,E)),g(h));q=s.createElement(l,S)}if(E){var _=Object(n.a)(Object(n.a)({prefixCls:"".concat(O,"-paragraph")},function(e,t){var a={};return e&&t||(a.width="61%"),a.rows=!e&&t?3:2,a}(w,k)),g(v));z=s.createElement(m,_)}C=s.createElement("div",{className:"".concat(O,"-content")},q,z)}var R=o()(O,(y={},Object(r.a)(y,"".concat(O,"-with-avatar"),w),Object(r.a)(y,"".concat(O,"-active"),j),Object(r.a)(y,"".concat(O,"-rtl"),"rtl"===c),Object(r.a)(y,"".concat(O,"-round"),x),y),p);return s.createElement("div",{className:R},N,C)}return b};return s.createElement(p.a,null,t)};N.defaultProps={avatar:!1,title:!0,paragraph:!0},N.Button=j,N.Avatar=h,N.Input=O,N.Image=y;var C=N;t.a=C},1313:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var r=a(212),n=a(2),c=a.n(n),s=a(6),i=a(15),o=a(16),l=a(39),u=a(38),m=a(0),p=a.n(m),f=a(1009),b=a.n(f),d=a(29),h=a(1290),v=a(109),j=a(23),x=a(56),O=a(1),y=p.a.lazy((function(){return a.e(35).then(a.bind(null,1323))})),g=p.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(21)]).then(a.bind(null,1286))})),N=p.a.lazy((function(){return a.e(50).then(a.bind(null,1318))})),C=p.a.lazy((function(){return a.e(48).then(a.bind(null,1305))})),w=p.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(11),a.e(12)]).then(a.bind(null,1279))})),k=p.a.lazy((function(){return a.e(41).then(a.bind(null,1324))}));function E(e){var t,a=e.repository,n=a.username,c=a.name,s=a.description,i=e.branches,o=e.tagNames,l=e.commitCount,u=e.objectType,m=e.loading,p="",f=Object(r.a)(i);try{for(f.s();!(t=f.n()).done;){var E=t.value,P=E.isDefault,q=E.name;P&&(p=q)}}catch(z){f.e(z)}finally{f.f()}return Object(O.jsx)("div",{className:b.a.Code,children:Object(O.jsxs)(h.a,{active:!0,loading:m,children:[Object(O.jsx)("div",{className:b.a.description,children:s}),Object(O.jsx)(k,{commitCount:l,branches:i}),0===l?Object(O.jsx)(C,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:b.a.buttonWrapper,children:[Object(O.jsxs)("div",{className:b.a.leftButtonWrapper,children:[Object(O.jsx)(y,{branches:i,tagNames:o}),Object(O.jsx)("div",{className:b.a.newPullRequestButtonWrapper,children:Object(O.jsx)(j.b,{to:x.Function.generateRepositoryCompareRoute({sourceRepositoryUsername:n,sourceRepositoryName:c,sourceRepositoryBranch:p,targetRepositoryBranch:p,repositoryName:c,username:n}),children:Object(O.jsx)(v.a,{children:"\u521b\u5efa Pull Request"})})})]}),Object(O.jsx)(N,{username:n,repository:c})]}),void 0===u||u===d.b.TREE?Object(O.jsx)(g,{}):Object(O.jsx)(w,{})]})]})})}var P=p.a.memo(E),q=a(134),z=a(54),S=a(328),_=a(102),R=a(3),B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setStatePromise=Object(_.promisify)(n.setState),n.loadRepository=Object(s.a)(c.a.mark((function e(){var t,a,r,s,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match.params,r=a.username,s=a.repositoryName,i=t.history,e.next=3,S.a.repository({username:r},{name:s});case 3:if(null===(o=e.sent)){e.next=9;break}return e.next=7,n.setStatePromise({repository:o});case 7:e.next=10;break;case 9:return e.abrupt("return",i.replace(R.d[R.b.NOT_FOUND]));case 10:case"end":return e.stop()}}),e)}))),n.loadCommitCount=Object(s.a)(c.a.mark((function e(){var t,a,s,i,o,l,u,m,p,f,b,d,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.match.params,a=t.username,s=t.repositoryName,i=t.commitHash,o=n.state.branches,l="",!i){u=Object(r.a)(o);try{for(u.s();!(m=u.n()).done;)p=m.value,f=p.isDefault,b=p.name,f&&(l=b)}catch(c){u.e(c)}finally{u.f()}}return e.next=6,S.a.commitCount({username:a},{name:s},i||l);case 6:if(null===(d=e.sent)){e.next=11;break}return h=d.commitCount,e.next=11,n.setStatePromise({commitCount:h});case 11:case"end":return e.stop()}}),e)}))),n.loadBranches=Object(s.a)(c.a.mark((function e(){var t,a,r,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,a=t.username,r=t.repositoryName,e.next=3,S.a.branches({username:a,name:r});case 3:if(null===(s=e.sent)){e.next=8;break}return i=s.branches,e.next=8,n.setStatePromise({branches:i});case 8:case"end":return e.stop()}}),e)}))),n.loadTagNames=Object(s.a)(c.a.mark((function e(){var t,a,r,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,a=t.username,r=t.repositoryName,e.next=3,S.a.tagNames({username:a,name:r});case 3:if(null===(s=e.sent)){e.next=8;break}return i=s.tagNames,e.next=8,n.setStatePromise({tagNames:i});case 8:case"end":return e.stop()}}),e)}))),n.state={repository:new q.i("","","",!0),branches:[],tagNames:[],commitCount:0,loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setStatePromise({loading:!0});case 2:return e.next=4,this.loadBranches();case 4:return e.next=6,Promise.all([this.loadRepository(),this.loadTagNames(),this.loadCommitCount()]);case 6:return e.next=8,this.setStatePromise({loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(s.a)(c.a.mark((function e(t,a,r){var n,s,i,o,l,u,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.match.params,s=n.username,i=n.repositoryName,o=n.commitHash,l=this.props.match.params,u=l.username,m=l.repositoryName,p=l.commitHash,s===u&&i===m){e.next=7;break}return e.next=5,this.componentDidMount();case 5:e.next=14;break;case 7:if(o===p){e.next=14;break}return e.next=10,this.setStatePromise({loading:!0});case 10:return e.next=12,this.loadCommitCount();case 12:return e.next=14,this.setStatePromise({loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.repository,a=e.branches,r=e.commitCount,n=e.loading,c=e.tagNames,s=this.props.match.params.objectType;return Object(O.jsx)(P,{repository:t,commitCount:r,branches:a,tagNames:c,objectType:s,loading:n})}}]),a}(m.PureComponent),W=Object(z.j)(B)}}]);
//# sourceMappingURL=45.a7f25dde.chunk.js.map