(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[4],{1019:function(r,s,e){"use strict";e.d(s,"a",function(){return g});var i=e(0),t=e.n(i),c=e(1024),o=e.n(c),C=e(963),m=e(962);function p(D){const{warning:M,validateText:O,password:F,validateInputPlaceholder:G,onValidateInputChange:y,onPasswordInputChange:S,visible:L,onOk:P,onCancel:I,title:B,confirmLoading:V}=D;return t.a.createElement(C.a,{confirmLoading:V,title:B,className:o.a.CriticalOperationConfirmModal,visible:L,onOk:P,onCancel:I,destroyOnClose:!0},t.a.createElement("div",{className:o.a.content},t.a.createElement("div",{className:o.a.fuckAutocomplete},t.a.createElement(m.a,{type:"text",value:"fuck autocomplete"}),t.a.createElement(m.a.Password,{value:"fuck autocomplete"})),t.a.createElement("div",{className:o.a.warningWrapper},M),t.a.createElement(m.a,{className:o.a.input,value:O,onChange:y,placeholder:G,autoFocus:!0,autoComplete:"off"}),t.a.createElement(m.a.Password,{className:o.a.input,placeholder:"\u8D26\u6237\u5BC6\u7801",value:F,onChange:S,autoComplete:"off"})))}var g=t.a.memo(p)},1024:function(r,s,e){r.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",fuckAutocomplete:"Style_fuckAutocomplete__1RdJh",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1037:function(r,s,e){"use strict";e.d(s,"a",function(){return C});var i=e(0),t=e.n(i),c=e(1429);function o(m){const{children:p}=m;return t.a.createElement(c.b,{bordered:!0,split:!0},p)}var C=t.a.memo(o)},1038:function(r,s,e){"use strict";e.d(s,"a",function(){return m});var i=e(0),t=e.n(i),c=e(1429),o=e(103);function C(p){const{title:g,description:D,onButtonClick:M,buttonText:O}=p;return t.a.createElement(c.b.Item,{extra:t.a.createElement(o.a,{type:"primary",danger:!0,onClick:M},O)},t.a.createElement(c.b.Item.Meta,{title:g,description:D}))}var m=t.a.memo(C)},1111:function(r,s,e){r.exports={Options:"Style_Options__3pGNi",itemWrapper:"Style_itemWrapper__33E08",dangerZoneWrapper:"Style_dangerZoneWrapper__3hgoc"}},1112:function(r,s,e){r.exports={ChangeName:"Style_ChangeName__K03m7",input:"Style_input__2TMfI",button:"Style_button__fDpP1"}},1402:function(r,s,e){"use strict";e.r(s),e.d(s,"default",function(){return z});var i=e(0),t=e.n(i),c=e(1111),o=e.n(c),C=e(996),m=e(1037),p=e(1019),g=e(1038),D=e(970);function M(f){const{onButtonClick:d,modalGroupId:a,modalPassword:u,onModalGroupIdInputChange:n,onModalPasswordInputChange:v,onModalOk:N,onModalCancel:h,modalVisible:l,modalConfirmLoading:E}=f;return t.a.createElement(t.a.Fragment,null,t.a.createElement(g.a,{buttonText:"\u89E3\u6563\u5C0F\u7EC4",title:"\u89E3\u6563\u5C0F\u7EC4",description:"\u89E3\u6563\u5C0F\u7EC4\u7684\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u614E\u91CD\u3002",onButtonClick:d}),t.a.createElement(p.a,{warning:t.a.createElement(t.a.Fragment,null,t.a.createElement(D.a,{showIcon:!0,banner:!0,type:"warning",message:"\u5C0F\u7EC4\u88AB\u89E3\u6563\u540E\u65E0\u6CD5\u6062\u590D\uFF0C\u5C0F\u7EC4\u4E0B\u7684\u4ED3\u5E93\u5C06\u6062\u590D\u65E0\u5C0F\u7EC4\u72B6\u6001"}),t.a.createElement(D.a,{showIcon:!0,banner:!0,type:"info",message:"\u8BF7\u5728\u4E0B\u65B9\u8F93\u5165\u672C\u5C0F\u7EC4\u7684 ID \u548C\u60A8\u7684\u5BC6\u7801\u4EE5\u786E\u8BA4\u64CD\u4F5C"})),validateInputPlaceholder:"\u5C0F\u7EC4\u7684 ID",title:"\u89E3\u6563\u5C0F\u7EC4\u786E\u8BA4",validateText:a,password:u,onValidateInputChange:n,onPasswordInputChange:v,onOk:N,onCancel:h,visible:l,confirmLoading:E}))}var O=t.a.memo(M),F=e(47),G=e(98),y=e(349),S=e(27),L=e(134),P=e(151),I=e(1),B=(f,d,a)=>new Promise((u,n)=>{var v=l=>{try{h(a.next(l))}catch(E){n(E)}},N=l=>{try{h(a.throw(l))}catch(E){n(E)}},h=l=>l.done?u(l.value):Promise.resolve(l.value).then(v,N);h((a=a.apply(f,d)).next())});class V extends i.PureComponent{constructor(d){super(d);this.setStatePromise=Object(G.promisify)(this.setState),this.onButtonClick=()=>B(this,null,function*(){yield this.initModal(),yield this.setStatePromise({modalVisible:!0})}),this.initModal=()=>B(this,null,function*(){yield this.setStatePromise({modalGroupId:"",modalPassword:""})}),this.onModalGroupIdInputChange=a=>{this.setState({modalGroupId:a.target.value})},this.onModalPasswordInputChange=a=>{this.setState({modalPassword:a.target.value})},this.onModalOk=()=>B(this,null,function*(){const{modalGroupId:a,modalPassword:u}=this.state,{match:{params:{id:n}},history:v}=this.props;if(a!==n)y.a.warn({message:"\u5C0F\u7EC4 ID \u4E0D\u6B63\u786E"});else if(!P.b.Account.password(u))y.a.warn({message:"\u5BC6\u7801\u4E0D\u6B63\u786E"});else{yield this.setStatePromise({modalConfirmLoading:!0});const N=yield S.g.get();if(N!==null){const{username:h}=N,l=yield S.a.checkPassword({hash:L.a.calculateHash(h,u)});if(l!==null){const{isCorrect:E}=l;if(!E)y.a.warn({message:"\u5BC6\u7801\u4E0D\u6B63\u786E"});else if((yield S.d.dismiss({id:Number.parseInt(n)}))!==null)return y.a.success({message:`\u5C0F\u7EC4 #${n} \u5DF2\u89E3\u6563`}),yield this.setStatePromise({modalVisible:!1}),v.push(I.d[I.b.INDEX])}}else return v.replace(I.d[I.b.LOGIN]);yield this.setStatePromise({modalConfirmLoading:!1})}}),this.onModalCancel=()=>{this.setState({modalVisible:!1})},this.state={modalGroupId:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1}}render(){const{modalConfirmLoading:d,modalVisible:a,modalPassword:u,modalGroupId:n}=this.state;return t.a.createElement(O,{onButtonClick:this.onButtonClick,modalConfirmLoading:d,modalVisible:a,modalPassword:u,modalGroupId:n,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalGroupIdInputChange:this.onModalGroupIdInputChange})}}var T=Object(F.j)(V),W=e(993),w=e(174),R=e(962),K=e(103),Z=e(1112),x=e.n(Z);function j(f){const{groupName:d,onButtonClick:a,onGroupNameChange:u,loading:n}=f;return t.a.createElement("div",{className:x.a.ChangeName},t.a.createElement(W.a,null,"\u5C0F\u7EC4\u540D"),t.a.createElement(w.a,{trigger:"focus",title:P.c.Group.NAME},t.a.createElement(R.a,{disabled:n,className:x.a.input,value:d,onChange:u})),t.a.createElement(K.a,{disabled:n,loading:n,className:x.a.button,onClick:a},"\u91CD\u547D\u540D"))}var U=t.a.memo(j),A=(f,d,a)=>new Promise((u,n)=>{var v=l=>{try{h(a.next(l))}catch(E){n(E)}},N=l=>{try{h(a.throw(l))}catch(E){n(E)}},h=l=>l.done?u(l.value):Promise.resolve(l.value).then(v,N);h((a=a.apply(f,d)).next())});class J extends i.PureComponent{constructor(d){super(d);this.setStatePromise=Object(G.promisify)(this.setState),this.loadGroupName=()=>A(this,null,function*(){const{match:{params:{id:a}},history:u}=this.props,n=yield S.d.info({id:Number.parseInt(a)});if(n!==null){const{name:v}=n;yield this.setStatePromise({groupName:v})}else return u.replace(I.d[I.b.NOT_FOUND])}),this.onGroupNameChange=a=>{this.setState({groupName:a.target.value})},this.onButtonClick=()=>A(this,null,function*(){const{match:{params:{id:a}}}=this.props,{groupName:u}=this.state;P.b.Group.name(u)?(yield this.setStatePromise({loading:!0}),(yield S.d.changeName({id:Number.parseInt(a),name:u}))!==null&&(y.a.success({message:`\u5C0F\u7EC4 #${a} \u91CD\u547D\u540D\u6210\u529F`}),setTimeout(()=>{window.location.reload()},1e3)),yield this.setStatePromise({loading:!1})):y.a.warn({message:P.a.Group.NAME,description:P.c.Group.NAME})}),this.state={groupName:"",loading:!1}}componentDidMount(){return A(this,null,function*(){yield this.setStatePromise({loading:!0}),yield this.loadGroupName(),yield this.setStatePromise({loading:!1})})}render(){const{groupName:d,loading:a}=this.state;return t.a.createElement(U,{loading:a,groupName:d,onButtonClick:this.onButtonClick,onGroupNameChange:this.onGroupNameChange})}}var b=Object(F.j)(J);function $(){return t.a.createElement("div",{className:o.a.Options},t.a.createElement("div",{className:o.a.settingsWrapper},t.a.createElement(C.a,null,"\u8BBE\u7F6E"),t.a.createElement("div",{className:o.a.itemWrapper},t.a.createElement(b,null))),t.a.createElement("div",{className:o.a.dangerZoneWrapper},t.a.createElement(C.a,null,t.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533A")),t.a.createElement(m.a,null,t.a.createElement(T,null))))}var H=t.a.memo($);class X extends i.PureComponent{render(){return t.a.createElement(H,null)}}var z=X},991:function(r,s,e){"use strict";var i=e(0),t=e.n(i),c=e(992),o=e.n(c);function C(m){const{children:p,required:g}=m;return t.a.createElement("div",{className:o.a.InputLabel},p,t.a.createElement("span",{className:o.a.requiredSign},g?" *":""))}s.a=t.a.memo(C)},992:function(r,s,e){r.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},993:function(r,s,e){"use strict";var i=e(991);e.d(s,"a",function(){return i.a})},995:function(r,s,e){r.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},996:function(r,s,e){"use strict";e.d(s,"a",function(){return m});var i=e(0),t=e.n(i),c=e(995),o=e.n(c);function C(p){const{children:g}=p;return t.a.createElement("h2",{className:o.a.SettingsTitle},g)}var m=t.a.memo(C)}}]);

//# sourceMappingURL=4.4c8ecd03.chunk.js.map