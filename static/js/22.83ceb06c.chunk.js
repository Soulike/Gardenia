(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[22],{1001:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1003),i=n.n(o);t.a=a.a.memo((function(e){var t=e.children,n=e.required;return a.a.createElement("div",{className:i.a.InputLabel},t,a.a.createElement("span",{className:i.a.requiredSign},n?" *":""))}))},1003:function(e,t,n){e.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},1010:function(e,t,n){e.exports={PageTitle:"Style_PageTitle__3R_vY"}},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1010),i=n.n(o);var c=function(e){var t=e.children;return a.a.createElement("h1",{className:i.a.PageTitle},t)}},1030:function(e,t,n){e.exports=n(1031)},1031:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),i=n.n(o),c=n(141);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(5),m=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=f(t).call(this,e),n=!a||"object"!==typeof a&&"function"!==typeof a?d(r):a,h(d(d(n)),"handleClick",(function(e){var t=n.state.checked,r=n.props.onClick,a=!t;n.setChecked(a,e),r&&r(a,e)})),h(d(d(n)),"handleKeyDown",(function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)})),h(d(d(n)),"handleMouseUp",(function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)})),h(d(d(n)),"saveNode",(function(e){n.node=e}));var o=!1;return o="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:o},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,r=n.disabled,a=n.onChange;r||("checked"in this.props||this.setState({checked:e}),a&&a(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.prefixCls,o=t.disabled,i=t.loadingIcon,c=t.checkedChildren,l=t.unCheckedChildren,f=s(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),p=this.state.checked,d=b((h(e={},n,!!n),h(e,r,!0),h(e,"".concat(r,"-checked"),p),h(e,"".concat(r,"-disabled"),o),e));return a.a.createElement("button",u({},f,{type:"button",role:"switch","aria-checked":p,disabled:o,className:d,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),i,a.a.createElement("span",{className:"".concat(r,"-inner")},p?c:l))}}])&&l(n.prototype,r),o&&l(n,o),t}(r.Component);m.propTypes={className:i.a.string,prefixCls:i.a.string,disabled:i.a.bool,checkedChildren:i.a.any,unCheckedChildren:i.a.any,onChange:i.a.func,onMouseUp:i.a.func,onClick:i.a.func,tabIndex:i.a.number,checked:i.a.bool,defaultChecked:i.a.bool,autoFocus:i.a.bool,loadingIcon:i.a.node},m.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(c.a)(m),t.default=m},1077:function(e,t,n){e.exports={CreateRepository:"Style_CreateRepository__2Mw5u",label:"Style_label__3gZrW",submitButton:"Style_submitButton__3gaVe",inlineDescription:"Style_inlineDescription__2_j5X"}},1078:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(0),a=n(1030),o=n.n(a),i=n(5),c=n.n(i),u=n(34),s=n(119),l=n.n(s),f=n(227),p=n(84),d=n(55),h=n(118);function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(b,e);var t,n,a,i,s=(t=b,function(){var e,n=O(t);if(C()){var r=O(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return k(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=s.call(this,e)).saveSwitch=function(e){t.rcSwitch=e},t.renderSwitch=function(e){var n=e.getPrefixCls,a=e.direction,i=t.props,s=i.prefixCls,p=i.size,d=i.loading,b=i.className,v=void 0===b?"":b,g=i.disabled,k=n("switch",s),C=d?r.createElement(l.a,{className:"".concat(k,"-loading-icon")}):null;return r.createElement(h.b.Consumer,null,(function(e){var n,i=c()(v,(y(n={},"".concat(k,"-small"),"small"===(p||e)),y(n,"".concat(k,"-loading"),d),y(n,"".concat(k,"-rtl"),"rtl"===a),n));return r.createElement(f.a,{insertExtraNode:!0},r.createElement(o.a,m({},Object(u.a)(t.props,["loading"]),{prefixCls:k,className:i,disabled:g||d,ref:t.saveSwitch,loadingIcon:C})))}))},Object(d.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),t}return n=b,(a=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return r.createElement(p.a,null,this.renderSwitch)}}])&&v(n.prototype,a),i&&v(n,i),b}(r.Component);w.__ANT_SWITCH=!0},1227:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var r=n(1),a=n.n(r),o=n(3),i=n(8),c=n(10),u=n(17),s=n(18),l=n(0),f=n.n(l),p=n(1077),d=n.n(p),h=n(234),b=n(968),m=n(1078),y=n(82),v=n(140),g=n(1012),k=n(1001);var C=f.a.memo((function(e){var t=e.username,n=e.name,r=e.description,a=e.isPublic,o=e.onNameInputChange,i=e.onDescriptionInputChange,c=e.onIsPublicSwitchChange,u=e.onSubmit,s=e.submitting,l=e.loading;return f.a.createElement("div",{className:d.a.CreateRepository},f.a.createElement(g.a,null,"\u521b\u5efa\u65b0\u4ed3\u5e93"),f.a.createElement("form",{action:"#",className:d.a.form,onSubmit:u},f.a.createElement("label",{className:d.a.label},f.a.createElement(k.a,{required:!0},"\u4ed3\u5e93\u540d"),f.a.createElement(h.a,{trigger:"focus",title:v.c.Repository.NAME},f.a.createElement(b.a,{addonBefore:f.a.createElement("div",null,t," /"),autoFocus:!0,value:n,onChange:o,disabled:l}))),f.a.createElement("label",{className:d.a.label},f.a.createElement(k.a,null,"\u63cf\u8ff0"),f.a.createElement(b.a,{value:r,onChange:i,disabled:l})),f.a.createElement("label",{className:d.a.label},f.a.createElement(k.a,null,"\u516c\u5f00"),f.a.createElement(m.a,{checked:a,onChange:c,disabled:l}),f.a.createElement("div",{className:d.a.inlineDescription},a?"\u6240\u6709\u4eba\u90fd\u80fd\u770b\u5230\u8be5\u4ed3\u5e93":"\u53ea\u6709\u4f60\u548c\u4ed3\u5e93\u5408\u4f5c\u8005\u80fd\u770b\u5230\u8be5\u4ed3\u5e93")),f.a.createElement(y.a,{htmlType:"submit",type:"primary",block:!0,className:d.a.submitButton,loading:s,disabled:s||l},"\u521b\u5efa\u4ed3\u5e93")))})),O=n(961),w=n(334),S=n(28),_=n(117),E=n(21),P=n(201),j=n(87),N=E.CONFIG.PAGE_ID,x=E.CONFIG.PAGE_ID_TO_ROUTE,I=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).setStatePromise=Object(j.promisify)(r.setState),r.setTitle=function(){document.title="\u521b\u5efa\u4ed3\u5e93 - ".concat(P.a.NAME)},r.loadUsername=Object(o.a)(a.a.mark((function e(){var t,n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get();case 2:if(null===(t=e.sent)){e.next=9;break}return n=t.username,e.next=7,r.setStatePromise({username:n});case 7:e.next=11;break;case 9:return o=r.props.history,e.abrupt("return",o.replace(x[N.LOGIN]));case 11:case"end":return e.stop()}}),e)}))),r.onNameInputChange=function(e){r.setState({name:e.target.value})},r.onDescriptionInputChange=function(e){r.setState({description:e.target.value})},r.onIsPublicSwitchChange=function(e){r.setState({isPublic:e})},r.onSubmit=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.validateFormInput()){e.next=4;break}return e.next=4,r.submitForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.validateFormInput=function(){var e=r.state.name;return!!v.b.Repository.name(e)||(O.a.warn({message:v.a.Repository.NAME,description:v.c.Repository.NAME}),!1)},r.submitForm=Object(o.a)(a.a.mark((function e(){var t,n,o,i,c,u,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.username,o=t.name,i=t.description,c=t.isPublic,r.setState({submitting:!0}),e.next=4,S.h.create({name:o,description:i,isPublic:c});case 4:if(u=e.sent,r.setState({submitting:!1}),null===u){e.next=10;break}return s=r.props.history,O.a.success({message:"\u4ed3\u5e93\u521b\u5efa\u6210\u529f"}),e.abrupt("return",s.push(E.Function.generateRepositoryCodeRoute({username:n,repository:o})));case 10:case"end":return e.stop()}}),e)}))),r.state={username:"",name:"",description:"",isPublic:!0,submitting:!1,loading:!0},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setTitle(),e.next=3,this.setStatePromise({loading:!0});case 3:return e.next=5,this.loadUsername();case 5:return e.next=7,this.setStatePromise({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.username,n=e.name,r=e.description,a=e.isPublic,o=e.submitting,i=e.loading;return f.a.createElement(C,{username:t,name:n,description:r,isPublic:a,submitting:o,loading:i,onNameInputChange:this.onNameInputChange,onDescriptionInputChange:this.onDescriptionInputChange,onIsPublicSwitchChange:this.onIsPublicSwitchChange,onSubmit:this.onSubmit})}}]),n}(l.PureComponent),D=Object(_.f)(I)}}]);
//# sourceMappingURL=22.83ceb06c.chunk.js.map