(this["webpackJsonpsoulike-git"]=this["webpackJsonpsoulike-git"]||[]).push([[4],{1013:function(u,r,e){"use strict";e.d(r,"a",function(){return g});var i=e(0),t=e.n(i),p=e(1018),o=e.n(p),C=e(955),m=e(954);function h(P){const{warning:M,validateText:O,password:B,validateInputPlaceholder:F,onValidateInputChange:y,onPasswordInputChange:S,visible:L,onOk:D,onCancel:I,title:G,confirmLoading:T}=P;return t.a.createElement(C.a,{confirmLoading:T,title:G,className:o.a.CriticalOperationConfirmModal,visible:L,onOk:D,onCancel:I,destroyOnClose:!0},t.a.createElement("div",{className:o.a.content},t.a.createElement("div",{className:o.a.fuckAutocomplete},t.a.createElement(m.a,{type:"text",value:"fuck autocomplete"}),t.a.createElement(m.a.Password,{value:"fuck autocomplete"})),t.a.createElement("div",{className:o.a.warningWrapper},M),t.a.createElement(m.a,{className:o.a.input,value:O,onChange:y,placeholder:F,autoFocus:!0,autoComplete:"off"}),t.a.createElement(m.a.Password,{className:o.a.input,placeholder:"\u8D26\u6237\u5BC6\u7801",value:B,onChange:S,autoComplete:"off"})))}var g=t.a.memo(h)},1018:function(u,r,e){u.exports={CriticalOperationConfirmModal:"Style_CriticalOperationConfirmModal__1LREa",content:"Style_content__15AF6",fuckAutocomplete:"Style_fuckAutocomplete__1RdJh",warningWrapper:"Style_warningWrapper__1Wnxv",input:"Style_input__dIid9"}},1031:function(u,r,e){"use strict";e.d(r,"a",function(){return C});var i=e(0),t=e.n(i),p=e(1423);function o(m){const{children:h}=m;return t.a.createElement(p.b,{bordered:!0,split:!0},h)}var C=t.a.memo(o)},1032:function(u,r,e){"use strict";e.d(r,"a",function(){return m});var i=e(0),t=e.n(i),p=e(1423),o=e(101);function C(h){const{title:g,description:P,onButtonClick:M,buttonText:O}=h;return t.a.createElement(p.b.Item,{extra:t.a.createElement(o.a,{type:"primary",danger:!0,onClick:M},O)},t.a.createElement(p.b.Item.Meta,{title:g,description:P}))}var m=t.a.memo(C)},1105:function(u,r,e){u.exports={Options:"Style_Options__3pGNi",itemWrapper:"Style_itemWrapper__33E08",dangerZoneWrapper:"Style_dangerZoneWrapper__3hgoc"}},1106:function(u,r,e){u.exports={ChangeName:"Style_ChangeName__K03m7",input:"Style_input__2TMfI",button:"Style_button__fDpP1"}},1396:function(u,r,e){"use strict";e.r(r),e.d(r,"default",function(){return k});var i=e(0),t=e.n(i),p=e(1105),o=e.n(p),C=e(988),m=e(1031),h=e(1013),g=e(1032),P=e(962);function M(c){const{onButtonClick:d,modalGroupId:a,modalPassword:s,onModalGroupIdInputChange:n,onModalPasswordInputChange:v,onModalOk:N,onModalCancel:E,modalVisible:l,modalConfirmLoading:f}=c;return t.a.createElement(t.a.Fragment,null,t.a.createElement(g.a,{buttonText:"\u89E3\u6563\u5C0F\u7EC4",title:"\u89E3\u6563\u5C0F\u7EC4",description:"\u89E3\u6563\u5C0F\u7EC4\u7684\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u614E\u91CD\u3002",onButtonClick:d}),t.a.createElement(h.a,{warning:t.a.createElement(t.a.Fragment,null,t.a.createElement(P.a,{showIcon:!0,banner:!0,type:"warning",message:"\u5C0F\u7EC4\u88AB\u89E3\u6563\u540E\u65E0\u6CD5\u6062\u590D\uFF0C\u5C0F\u7EC4\u4E0B\u7684\u4ED3\u5E93\u5C06\u6062\u590D\u65E0\u5C0F\u7EC4\u72B6\u6001"}),t.a.createElement(P.a,{showIcon:!0,banner:!0,type:"info",message:"\u8BF7\u5728\u4E0B\u65B9\u8F93\u5165\u672C\u5C0F\u7EC4\u7684 ID \u548C\u60A8\u7684\u5BC6\u7801\u4EE5\u786E\u8BA4\u64CD\u4F5C"})),validateInputPlaceholder:"\u5C0F\u7EC4\u7684 ID",title:"\u89E3\u6563\u5C0F\u7EC4\u786E\u8BA4",validateText:a,password:s,onValidateInputChange:n,onPasswordInputChange:v,onOk:N,onCancel:E,visible:l,confirmLoading:f}))}var O=t.a.memo(M),B=e(46),F=e(96),y=e(339),S=e(27),L=e(132),D=e(146),I=e(1),G,T=typeof G!="undefined"?G:c=>{throw new Error('Dynamic require of "'+c+'" is not supported')},V=(c,d,a)=>new Promise((s,n)=>{var v=l=>{try{E(a.next(l))}catch(f){n(f)}},N=l=>{try{E(a.throw(l))}catch(f){n(f)}},E=l=>l.done?s(l.value):Promise.resolve(l.value).then(v,N);E((a=a.apply(c,d)).next())});class w extends i.PureComponent{constructor(d){super(d);this.setStatePromise=Object(F.promisify)(this.setState),this.onButtonClick=()=>V(this,null,function*(){yield this.initModal(),yield this.setStatePromise({modalVisible:!0})}),this.initModal=()=>V(this,null,function*(){yield this.setStatePromise({modalGroupId:"",modalPassword:""})}),this.onModalGroupIdInputChange=a=>{this.setState({modalGroupId:a.target.value})},this.onModalPasswordInputChange=a=>{this.setState({modalPassword:a.target.value})},this.onModalOk=()=>V(this,null,function*(){const{modalGroupId:a,modalPassword:s}=this.state,{match:{params:{id:n}},history:v}=this.props;if(a!==n)y.a.warn({message:"\u5C0F\u7EC4 ID \u4E0D\u6B63\u786E"});else if(!D.b.Account.password(s))y.a.warn({message:"\u5BC6\u7801\u4E0D\u6B63\u786E"});else{yield this.setStatePromise({modalConfirmLoading:!0});const N=yield S.g.get();if(N!==null){const{username:E}=N,l=yield S.a.checkPassword({hash:L.a.calculateHash(E,s)});if(l!==null){const{isCorrect:f}=l;if(!f)y.a.warn({message:"\u5BC6\u7801\u4E0D\u6B63\u786E"});else if((yield S.d.dismiss({id:Number.parseInt(n)}))!==null)return y.a.success({message:`\u5C0F\u7EC4 #${n} \u5DF2\u89E3\u6563`}),yield this.setStatePromise({modalVisible:!1}),v.push(I.d[I.b.INDEX])}}else return v.replace(I.d[I.b.LOGIN]);yield this.setStatePromise({modalConfirmLoading:!1})}}),this.onModalCancel=()=>{this.setState({modalVisible:!1})},this.state={modalGroupId:"",modalPassword:"",modalVisible:!1,modalConfirmLoading:!1}}render(){const{modalConfirmLoading:d,modalVisible:a,modalPassword:s,modalGroupId:n}=this.state;return t.a.createElement(O,{onButtonClick:this.onButtonClick,modalConfirmLoading:d,modalVisible:a,modalPassword:s,modalGroupId:n,onModalOk:this.onModalOk,onModalCancel:this.onModalCancel,onModalPasswordInputChange:this.onModalPasswordInputChange,onModalGroupIdInputChange:this.onModalGroupIdInputChange})}}var R=Object(B.j)(w),K=e(985),Z=e(170),j=e(954),U=e(101),J=e(1106),x=e.n(J);function b(c){const{groupName:d,onButtonClick:a,onGroupNameChange:s,loading:n}=c;return t.a.createElement("div",{className:x.a.ChangeName},t.a.createElement(K.a,null,"\u5C0F\u7EC4\u540D"),t.a.createElement(Z.a,{trigger:"focus",title:D.c.Group.NAME},t.a.createElement(j.a,{disabled:n,className:x.a.input,value:d,onChange:s})),t.a.createElement(U.a,{disabled:n,loading:n,className:x.a.button,onClick:a},"\u91CD\u547D\u540D"))}var $=t.a.memo(b),W,q=typeof W!="undefined"?W:c=>{throw new Error('Dynamic require of "'+c+'" is not supported')},A=(c,d,a)=>new Promise((s,n)=>{var v=l=>{try{E(a.next(l))}catch(f){n(f)}},N=l=>{try{E(a.throw(l))}catch(f){n(f)}},E=l=>l.done?s(l.value):Promise.resolve(l.value).then(v,N);E((a=a.apply(c,d)).next())});class H extends i.PureComponent{constructor(d){super(d);this.setStatePromise=Object(F.promisify)(this.setState),this.loadGroupName=()=>A(this,null,function*(){const{match:{params:{id:a}},history:s}=this.props,n=yield S.d.info({id:Number.parseInt(a)});if(n!==null){const{name:v}=n;yield this.setStatePromise({groupName:v})}else return s.replace(I.d[I.b.NOT_FOUND])}),this.onGroupNameChange=a=>{this.setState({groupName:a.target.value})},this.onButtonClick=()=>A(this,null,function*(){const{match:{params:{id:a}}}=this.props,{groupName:s}=this.state;D.b.Group.name(s)?(yield this.setStatePromise({loading:!0}),(yield S.d.changeName({id:Number.parseInt(a),name:s}))!==null&&(y.a.success({message:`\u5C0F\u7EC4 #${a} \u91CD\u547D\u540D\u6210\u529F`}),setTimeout(()=>{window.location.reload()},1e3)),yield this.setStatePromise({loading:!1})):y.a.warn({message:D.a.Group.NAME,description:D.c.Group.NAME})}),this.state={groupName:"",loading:!1}}componentDidMount(){return A(this,null,function*(){yield this.setStatePromise({loading:!0}),yield this.loadGroupName(),yield this.setStatePromise({loading:!1})})}render(){const{groupName:d,loading:a}=this.state;return t.a.createElement($,{loading:a,groupName:d,onButtonClick:this.onButtonClick,onGroupNameChange:this.onGroupNameChange})}}var X=Object(B.j)(H);function z(){return t.a.createElement("div",{className:o.a.Options},t.a.createElement("div",{className:o.a.settingsWrapper},t.a.createElement(C.a,null,"\u8BBE\u7F6E"),t.a.createElement("div",{className:o.a.itemWrapper},t.a.createElement(X,null))),t.a.createElement("div",{className:o.a.dangerZoneWrapper},t.a.createElement(C.a,null,t.a.createElement("span",{style:{color:"red"}},"\u5371\u9669\u533A")),t.a.createElement(m.a,null,t.a.createElement(R,null))))}var Q=t.a.memo(z);class Y extends i.PureComponent{render(){return t.a.createElement(Q,null)}}var k=Y},983:function(u,r,e){"use strict";var i=e(0),t=e.n(i),p=e(984),o=e.n(p);function C(m){const{children:h,required:g}=m;return t.a.createElement("div",{className:o.a.InputLabel},h,t.a.createElement("span",{className:o.a.requiredSign},g?" *":""))}r.a=t.a.memo(C)},984:function(u,r,e){u.exports={InputLabel:"Style_InputLabel__3wLmK",requiredSign:"Style_requiredSign__3lJIr"}},985:function(u,r,e){"use strict";var i=e(983);e.d(r,"a",function(){return i.a})},987:function(u,r,e){u.exports={SettingsTitle:"Style_SettingsTitle__rgD4i"}},988:function(u,r,e){"use strict";e.d(r,"a",function(){return m});var i=e(0),t=e.n(i),p=e(987),o=e.n(p);function C(h){const{children:g}=h;return t.a.createElement("h2",{className:o.a.SettingsTitle},g)}var m=t.a.memo(C)}}]);

//# sourceMappingURL=4.6d1256c2.chunk.js.map